(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"6MY0":function(n,t,e){"use strict";(function(n,r){function o(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,o,i,u,a=[],c=!0,l=!1;try{if(i=(e=e.call(n)).next,0===t){if(Object(e)!==e)return;c=!1}else for(;!(c=(r=i.call(e)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(n){l=!0,o=n}finally{try{if(!c&&null!=e.return&&(u=e.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(n,t)||function(n,t){if(!n)return;if("string"==typeof n)return i(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return i(n,t)}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var u=e("QRet"),a=e("Zp5c");t.a=function(){var t=Object(a.a)(),e=t.ws,i=t.wsUrl,c=t.setWsUrl,l=t.history,s=t.myChannels,_=t.availableChannels,f=t.id,p=t.wsState,h=t.joinChannel,b=t.getChannels,d=t.heartbeat,y=t.broadcastMessage,v=t.sendMessageToTargetChannel,m=t.sendMessageToJoinedChannels,g=o(Object(u.k)(""),2),O=g[0],S=g[1],j=o(Object(u.k)(""),2),w=j[0],N=j[1],C=Object(u.h)((function(){try{JSON.parse(O)}catch(n){return!1}return!0}),[O]),k=Object(u.a)((function(n){n.preventDefault(),v(JSON.stringify({type:"bloop",channel:n.target.channel.value}))}),[v]),J=Object(u.a)((function(){return m(JSON.stringify({type:"bloop"}))}),[m]),A=Object(u.a)((function(){return y(JSON.stringify({type:"bloop"}))}),[y]),H=Object(u.a)((function(n){n.preventDefault(),c(n.target.wsUrl.value)}),[c]);return n("div",null,n("div",null,"state: ",p),n("form",{onSubmit:H},n("input",{type:"text",name:"wsUrl",placeholder:i}),n("button",{type:"submit"},"go")),e&&n(r,null,i&&n("div",null,"connected to: ",i),f&&n("div",null,"id: ",f),d&&n("div",null,"heartbeat: ",JSON.stringify(d)),n("form",{onSubmit:h},n("input",{type:"text",name:"channel"}),n("button",{type:"submit"},"join channel")),n("div",null,"my channels: ",JSON.stringify(s)),n("div",null,"available channels: ",JSON.stringify(_)),n("form",{onSubmit:k},n("input",{type:"text",name:"channel"}),n("button",{type:"submit"},"bloop channel")),n("button",{onClick:b},"get channels"),n("button",{onClick:J},"bloop my channels"),n("button",{onClick:A},"broadcast bloop"),n("div",null,n("div",null,n("div",null,n("label",{htmlFor:"message"},"message"),n("textarea",{cols:100,rows:1,name:"message",placeholder:'{"hello": 1}',value:O,onInput:function(n){return S(n.target.value)}})),n("div",null,n("label",{htmlFor:"targetChannel"},"target channel"),n("input",{name:"targetChannel",type:"text",value:w,onInput:function(n){return N(n.target.value)}})),n("button",{disabled:!C,onClick:function(){return v(O,w)}},"send to channel"),n("button",{disabled:!C,onClick:function(){return y(O)}},"broadcast")),!C&&O.length?n("div",null,"Invalid JSON"):n(r,null)),n("div",null,"incoming messages:"),n("div",{style:{overflow:"scroll",height:"200px"}},l.map((function(t){return n("div",{key:t},JSON.stringify(t))})))))}}).call(this,e("hosL").h,e("hosL").Fragment)},FA6U:function(n,t){"use strict";t.a={home:"home__uRcqa",resource:"resource__reFLt"}},QRet:function(n,t,e){"use strict";function r(n,t){N.options.__h&&N.options.__h(S,n,C||t),C=0;var e=S.__H||(S.__H={__:[],__h:[]});return n>=e.__.length&&e.__.push({__V:J}),e.__[n]}function o(n){return C=1,i(g,n)}function i(n,t,e){var o=r(O++,2);if(o.t=n,!o.__c&&(o.__=[e?e(t):g(void 0,t),function(n){var t=o.__N?o.__N[0]:o.__[0],e=o.t(t,n);t!==e&&(o.__N=[e,o.__[1]],o.__c.setState({}))}],o.__c=S,!S.u)){var i=function(n,t,e){if(!o.__c.__H)return!0;var r=o.__c.__H.__.filter((function(n){return n.__c}));if(r.every((function(n){return!n.__N})))return!u||u.call(this,n,t,e);var i=!1;return r.forEach((function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}})),!(!i&&o.__c.props===n)&&(!u||u.call(this,n,t,e))};S.u=!0;var u=S.shouldComponentUpdate,a=S.componentWillUpdate;S.componentWillUpdate=function(n,t,e){if(this.__e){var r=u;u=void 0,i(n,t,e),u=r}a&&a.call(this,n,t,e)},S.shouldComponentUpdate=i}return o.__N||o.__}function u(n,t){var e=r(O++,3);!N.options.__s&&m(e.__H,t)&&(e.__=n,e.i=t,S.__H.__h.push(e))}function a(n,t){var e=r(O++,4);!N.options.__s&&m(e.__H,t)&&(e.__=n,e.i=t,S.__h.push(e))}function c(n){return C=5,s((function(){return{current:n}}),[])}function l(n,t,e){C=6,a((function(){return"function"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0}),null==e?e:e.concat(n))}function s(n,t){var e=r(O++,7);return m(e.__H,t)?(e.__V=n(),e.i=t,e.__h=n,e.__V):e.__}function _(n,t){return C=8,s((function(){return n}),t)}function f(n){var t=S.context[n.__c],e=r(O++,9);return e.c=n,t?(null==e.__&&(e.__=!0,t.sub(S)),t.props.value):n.__}function p(n,t){N.options.useDebugValue&&N.options.useDebugValue(t?t(n):n)}function h(){var n=r(O++,11);if(!n.__){for(var t=S.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var e=t.__m||(t.__m=[0,0]);n.__="P"+e[0]+"-"+e[1]++}return n.__}function b(){for(var n;n=k.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(y),n.__H.__h.forEach(v),n.__H.__h=[]}catch(t){n.__H.__h=[],N.options.__e(t,n.__v)}}function d(n){var t,e=function(){clearTimeout(r),D&&cancelAnimationFrame(t),setTimeout(n)},r=setTimeout(e,100);D&&(t=requestAnimationFrame(e))}function y(n){var t=S,e=n.__c;"function"==typeof e&&(n.__c=void 0,e()),S=t}function v(n){var t=S;n.__c=n.__(),S=t}function m(n,t){return!n||n.length!==t.length||t.some((function(t,e){return t!==n[e]}))}function g(n,t){return"function"==typeof t?t(n):t}e.d(t,"a",(function(){return _})),e.d(t,"b",(function(){return f})),e.d(t,"c",(function(){return p})),e.d(t,"d",(function(){return u})),e.d(t,"e",(function(){return h})),e.d(t,"f",(function(){return l})),e.d(t,"g",(function(){return a})),e.d(t,"h",(function(){return s})),e.d(t,"i",(function(){return i})),e.d(t,"j",(function(){return c})),e.d(t,"k",(function(){return o}));var O,S,j,w,N=e("hosL"),C=0,k=[],J=[],A=N.options.__b,H=N.options.__r,E=N.options.diffed,P=N.options.__c,T=N.options.unmount;N.options.__b=function(n){S=null,A&&A(n)},N.options.__r=function(n){H&&H(n),O=0;var t=(S=n.__c).__H;t&&(j===S?(t.__h=[],S.__h=[],t.__.forEach((function(n){n.__N&&(n.__=n.__N),n.__V=J,n.__N=n.i=void 0}))):(t.__h.forEach(y),t.__h.forEach(v),t.__h=[],O=0)),j=S},N.options.diffed=function(n){E&&E(n);var t=n.__c;t&&t.__H&&(t.__H.__h.length&&(1!==k.push(t)&&w===N.options.requestAnimationFrame||((w=N.options.requestAnimationFrame)||d)(b)),t.__H.__.forEach((function(n){n.i&&(n.__H=n.i),n.__V!==J&&(n.__=n.__V),n.i=void 0,n.__V=J}))),j=S=null},N.options.__c=function(n,t){t.some((function(n){try{n.__h.forEach(y),n.__h=n.__h.filter((function(n){return!n.__||v(n)}))}catch(e){t.some((function(n){n.__h&&(n.__h=[])})),t=[],N.options.__e(e,n.__v)}})),P&&P(n,t)},N.options.unmount=function(n){T&&T(n);var t,e=n.__c;e&&e.__H&&(e.__H.__.forEach((function(n){try{y(n)}catch(n){t=n}})),e.__H=void 0,t&&N.options.__e(t,e.__v))};var D="function"==typeof requestAnimationFrame},YD9F:function(n,t,e){"use strict";e.r(t),function(n){var r=e("FA6U"),o=e("6MY0");t.default=function(){return n("div",{class:r.a.home},n(o.a,null))}}.call(this,e("hosL").h)},Zp5c:function(n,t,e){"use strict";function r(n){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r(n)}function o(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function i(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?o(Object(e),!0).forEach((function(t){u(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function u(n,t,e){return(t=function(n){var t=function(n,t){if("object"!==r(n)||null===n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var o=e.call(n,t||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"===r(t)?t:String(t)}(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function a(n){return function(n){if(Array.isArray(n))return _(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||s(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(n,t,e,r,o,i,u){try{var a=n[i](u),c=a.value}catch(n){return void e(n)}a.done?t(c):Promise.resolve(c).then(r,o)}function l(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,o,i,u,a=[],c=!0,l=!1;try{if(i=(e=e.call(n)).next,0===t){if(Object(e)!==e)return;c=!1}else for(;!(c=(r=i.call(e)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(n){l=!0,o=n}finally{try{if(!c&&null!=e.return&&(u=e.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(n,t)||s(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(n,t){if(n){if("string"==typeof n)return _(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_(n,t):void 0}}function _(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var f=e("QRet");t.a=function(){var n=l(Object(f.k)(null),2),t=n[0],e=n[1],r=l(Object(f.k)(""),2),o=r[0],u=r[1],s=l(Object(f.k)([]),2),_=s[0],p=s[1],h=l(Object(f.k)(null),2),b=h[0],d=h[1],y=l(Object(f.k)([]),2),v=y[0],m=y[1],g=l(Object(f.k)([]),2),O=g[0],S=g[1],j=l(Object(f.k)(null),2),w=j[0],N=j[1],C=l(Object(f.k)(""),2),k=C[0],J=C[1],A=Object(f.a)(function(){var n,t=(n=function*(n){var t=yield JSON.parse(n.data);switch(t.type){case"id":N(t.id);break;case"heartbeat":d(t.heartbeat);break;case"myChannels":m(t.channels);break;case"availableChannels":S(t.channels);break;default:p((function(n){return[t].concat(a(n))}))}J(t)},function(){var t=this,e=arguments;return new Promise((function(r,o){function i(n){c(a,r,o,i,u,"next",n)}function u(n){c(a,r,o,i,u,"throw",n)}var a=n.apply(t,e);i(void 0)}))});return function(n){return t.apply(this,arguments)}}(),[]);Object(f.d)((function(){if(window){var n=window.location.protocol.includes("https")?"wss":"ws",t=window.location.protocol.includes("https")?"":":8081",e="".concat(n,"://").concat(location.hostname).concat(t,"?channels=welcome");u(e)}}),[]),Object(f.d)((function(){if(o.length&&"undefined"!=typeof window){console.log("attempting to connect to",o);var n=new WebSocket(o);n.onmessage=A,e(n)}}),[A,o]);var H=Object(f.a)((function(){null==t||t.send(JSON.stringify({type:"myChannels"})),null==t||t.send(JSON.stringify({type:"availableChannels"}))}),[t]),E=Object(f.h)((function(){if("undefined"!=typeof window)switch(null==t?void 0:t.readyState){case WebSocket.CONNECTING:return"connecting";case WebSocket.OPEN:return"open";case WebSocket.CLOSING:return"closing";case WebSocket.CLOSED:return"closed";default:return"uninitialized"}}),[null==t?void 0:t.readyState]);Object(f.d)((function(){"open"===E&&H()}),[H,t,E]);var P=Object(f.a)((function(n){n.preventDefault(),null==t||t.send(JSON.stringify({type:"joinChannel",channel:n.target.channel.value}))}),[t]),T=Object(f.a)((function(n){return"open"===E&&(null==t?void 0:t.send(JSON.stringify({type:"broadcast",message:i(i({},JSON.parse(n)),{},{timestamp:Date.now()})})))}),[t,E]),D=Object(f.a)((function(n,e){"open"===E&&(null==t||t.send(JSON.stringify(i(i({},JSON.parse(n)),{},{timestamp:Date.now(),channel:e}))))}),[t,E]),I=Object(f.a)((function(n,e){console.log("sending to target id",n,e),"open"===E&&(null==t||t.send(JSON.stringify(i(i({},JSON.parse(n)),{},{timestamp:Date.now(),targetId:e}))))}),[t,E]),U=Object(f.a)((function(n){"open"===E&&(null==t||t.send(JSON.stringify(i(i({},JSON.parse(n)),{},{timestamp:Date.now()}))))}),[t,E]);return{ws:t,wsUrl:o,setWsUrl:u,history:_,myChannels:v,availableChannels:O,id:w,incomingMessage:k,wsState:E,joinChannel:P,getChannels:H,heartbeat:b,broadcastMessage:T,sendMessageToTargetClient:I,sendMessageToTargetChannel:D,sendMessageToJoinedChannels:U}}}}]);
//# sourceMappingURL=route-home.chunk.7eaf7.js.map