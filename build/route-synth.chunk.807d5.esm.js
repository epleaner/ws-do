(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"8Jek":function(t,e){var n;!function(){"use strict";function o(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var i=typeof n;if("string"===i||"number"===i)t.push(n);else if(Array.isArray(n)){if(n.length){var a=o.apply(null,n);a&&t.push(a)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){t.push(n.toString());continue}for(var u in n)r.call(n,u)&&n[u]&&t.push(u)}}}return t.join(" ")}var r={}.hasOwnProperty;t.exports?(o.default=o,t.exports=o):void 0===(n=function(){return o}.apply(e,[]))||(t.exports=n)}()},BPfx:function(t){t.exports=function(t,e,n){if(null!=t&&"number"!=typeof t)throw new Error("start must be a number or null");if(null!=e&&"number"!=typeof e)throw new Error("stop must be a number or null");if(null!=n&&"number"!=typeof n)throw new Error("step must be a number or null");null==e&&(e=t||0,t=0),null==n&&(n=e>t?1:-1);for(var o=[],r=t<e;r?t<e:t>e;t+=n)o.push(t);return o}},E02R:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},NS33:function(t,e,n){"use strict";function o(){}function r(){}var i=n("E02R");r.resetWarningCache=o,t.exports=function(){function t(t,e,n,o,r,a){if(a!==i){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:r,resetWarningCache:o};return n.PropTypes=n,n}},QRet:function(t,e,n){"use strict";function o(t,e){k.options.__h&&k.options.__h(O,t,j||e),j=0;var n=O.__H||(O.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:E}),n.__[t]}function r(t){return j=1,i(g,t)}function i(t,e,n){var r=o(N++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):g(void 0,e),function(t){var e=r.__N?r.__N[0]:r.__[0],n=r.t(e,t);e!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=O,!O.u)){var i=function(t,e,n){if(!r.__c.__H)return!0;var o=r.__c.__H.__.filter((function(t){return t.__c}));if(o.every((function(t){return!t.__N})))return!a||a.call(this,t,e,n);var i=!1;return o.forEach((function(t){if(t.__N){var e=t.__[0];t.__=t.__N,t.__N=void 0,e!==t.__[0]&&(i=!0)}})),!(!i&&r.__c.props===t)&&(!a||a.call(this,t,e,n))};O.u=!0;var a=O.shouldComponentUpdate,u=O.componentWillUpdate;O.componentWillUpdate=function(t,e,n){if(this.__e){var o=a;a=void 0,i(t,e,n),a=o}u&&u.call(this,t,e,n)},O.shouldComponentUpdate=i}return r.__N||r.__}function a(t,e){var n=o(N++,3);!k.options.__s&&m(n.__H,e)&&(n.__=t,n.i=e,O.__H.__h.push(n))}function u(t,e){var n=o(N++,4);!k.options.__s&&m(n.__H,e)&&(n.__=t,n.i=e,O.__h.push(n))}function s(t){return j=5,l((function(){return{current:t}}),[])}function c(t,e,n){j=6,u((function(){return"function"==typeof t?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0}),null==n?n:n.concat(t))}function l(t,e){var n=o(N++,7);return m(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function p(t,e){return j=8,l((function(){return t}),e)}function f(t){var e=O.context[t.__c],n=o(N++,9);return n.c=t,e?(null==n.__&&(n.__=!0,e.sub(O)),e.props.value):t.__}function _(t,e){k.options.useDebugValue&&k.options.useDebugValue(e?e(t):t)}function h(){var t=o(N++,11);if(!t.__){for(var e=O.__v;null!==e&&!e.__m&&null!==e.__;)e=e.__;var n=e.__m||(e.__m=[0,0]);t.__="P"+n[0]+"-"+n[1]++}return t.__}function d(){for(var t;t=C.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(b),t.__H.__h.forEach(y),t.__H.__h=[]}catch(e){t.__H.__h=[],k.options.__e(e,t.__v)}}function v(t){var e,n=function(){clearTimeout(o),T&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);T&&(e=requestAnimationFrame(n))}function b(t){var e=O,n=t.__c;"function"==typeof n&&(t.__c=void 0,n()),O=e}function y(t){var e=O;t.__c=t.__(),O=e}function m(t,e){return!t||t.length!==e.length||e.some((function(e,n){return e!==t[n]}))}function g(t,e){return"function"==typeof e?e(t):e}n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return _})),n.d(e,"d",(function(){return a})),n.d(e,"e",(function(){return h})),n.d(e,"f",(function(){return c})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return i})),n.d(e,"j",(function(){return s})),n.d(e,"k",(function(){return r}));var N,O,w,S,k=n("hosL"),j=0,C=[],E=[],R=k.options.__b,P=k.options.__r,I=k.options.diffed,A=k.options.__c,x=k.options.unmount;k.options.__b=function(t){O=null,R&&R(t)},k.options.__r=function(t){P&&P(t),N=0;var e=(O=t.__c).__H;e&&(w===O?(e.__h=[],O.__h=[],e.__.forEach((function(t){t.__N&&(t.__=t.__N),t.__V=E,t.__N=t.i=void 0}))):(e.__h.forEach(b),e.__h.forEach(y),e.__h=[],N=0)),w=O},k.options.diffed=function(t){I&&I(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(1!==C.push(e)&&S===k.options.requestAnimationFrame||((S=k.options.requestAnimationFrame)||v)(d)),e.__H.__.forEach((function(t){t.i&&(t.__H=t.i),t.__V!==E&&(t.__=t.__V),t.i=void 0,t.__V=E}))),w=O=null},k.options.__c=function(t,e){e.some((function(t){try{t.__h.forEach(b),t.__h=t.__h.filter((function(t){return!t.__||y(t)}))}catch(n){e.some((function(t){t.__h&&(t.__h=[])})),e=[],k.options.__e(n,t.__v)}})),A&&A(t,e)},k.options.unmount=function(t){x&&x(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach((function(t){try{b(t)}catch(t){e=t}})),n.__H=void 0,e&&k.options.__e(e,n.__v))};var T="function"==typeof requestAnimationFrame},Qvep:function(t,e,n){"use strict";function o(t,e){for(var n in e)t[n]=e[n];return t}function r(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var o in e)if("__source"!==o&&t[o]!==e[o])return!0;return!1}function i(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e}function a(t){this.props=t}function u(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(t){"function"==typeof t.__c&&t.__c()})),t.__c.__H=null),null!=(t=o({},t)).__c&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return u(t,e,n)}))),t}function s(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return s(t,e,n)})),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function c(){this.__u=0,this.t=null,this.__b=null}function l(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function p(){this.u=null,this.o=null}function f(t){return this.getChildContext=function(){return t.context},t.children}function _(t){var e=this,n=t.i;e.componentWillUnmount=function(){Object(D.render)(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(t){this.childNodes.push(t),e.i.appendChild(t)},insertBefore:function(t){this.childNodes.push(t),e.i.appendChild(t)},removeChild:function(t){this.childNodes.splice(this.childNodes.indexOf(t)>>>1,1),e.i.removeChild(t)}}),Object(D.render)(Object(D.createElement)(f,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function h(){}function d(){return this.cancelBubble}function v(){return this.defaultPrevented}function b(t){return!!t&&t.$$typeof===J}function y(t){t()}function m(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function g(t,e,n){return e&&m(t.prototype,e),n&&m(t,n),t}function N(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O(){return O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},O.apply(this,arguments)}function w(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}function k(t,e){return k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},k(t,e)}function j(t,e){if(null==t)return{};var n,o,r=function(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)e.indexOf(n=i[o])>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)e.indexOf(n=i[o])>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function C(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?C(t):e}function R(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(o=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{o||null==u.return||u.return()}finally{if(r)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function P(t){var e=vt[t];if(!e)throw Error("Invalid MIDI number");return e}function I(t){return"".concat(100*t,"%")}function A(t){return"number"==typeof t&&yt.NATURAL_MIDI_NUMBERS.includes(t)}n.d(e,"b",(function(){return Ot})),n.d(e,"a",(function(){return yt}));var x=n("BPfx"),T=n.n(x),D=n("hosL"),M=n("QRet");(a.prototype=new D.Component).isPureReactComponent=!0,a.prototype.shouldComponentUpdate=function(t,e){return r(this.props,t)||r(this.state,e)};var L=D.options.__b;D.options.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),L&&L(t)};var U="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911,W=function(t,e){return null==t?null:Object(D.toChildArray)(Object(D.toChildArray)(t).map(e))},q={map:W,forEach:W,count:function(t){return t?Object(D.toChildArray)(t).length:0},only:function(t){var e=Object(D.toChildArray)(t);if(1!==e.length)throw"Children.only";return e[0]},toArray:D.toChildArray},F=D.options.__e;D.options.__e=function(t,e,n,o){if(t.then)for(var r,i=e;i=i.__;)if((r=i.__c)&&r.__c)return null==e.__e&&(e.__e=n.__e,e.__k=n.__k),r.__c(t,e);F(t,e,n,o)};var H=D.options.unmount;D.options.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&!0===t.__h&&(t.type=null),H&&H(t)},(c.prototype=new D.Component).__c=function(t,e){var n=e.__c,o=this;null==o.t&&(o.t=[]),o.t.push(n);var r=l(o.__v),i=!1,a=function(){i||(i=!0,n.__R=null,r?r(u):u())};n.__R=a;var u=function(){if(!--o.__u){if(o.state.__a){var t=o.state.__a;o.__v.__k[0]=s(t,t.__c.__P,t.__c.__O)}var e;for(o.setState({__a:o.__b=null});e=o.t.pop();)e.forceUpdate()}},c=!0===e.__h;o.__u++||c||o.setState({__a:o.__b=o.__v.__k[0]}),t.then(a,a)},c.prototype.componentWillUnmount=function(){this.t=[]},c.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=u(this.__b,n,o.__O=o.__P)}this.__b=null}var r=e.__a&&Object(D.createElement)(D.Fragment,null,t.fallback);return r&&(r.__h=null),[Object(D.createElement)(D.Fragment,null,e.__a?null:t.children),r]};var K=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};(p.prototype=new D.Component).__a=function(t){var e=this,n=l(e.__v),o=e.o.get(t);return o[0]++,function(r){var i=function(){e.props.revealOrder?(o.push(r),K(e,t,o)):r()};n?n(i):i()}},p.prototype.render=function(t){this.u=null,this.o=new Map;var e=Object(D.toChildArray)(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},p.prototype.componentDidUpdate=p.prototype.componentDidMount=function(){var t=this;this.o.forEach((function(e,n){K(t,n,e)}))};var J="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,B=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,V=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,$=/[A-Z0-9]/g,G="undefined"!=typeof document,Q=function(t){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(t)};D.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(t){Object.defineProperty(D.Component.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})}));var z=D.options.event;D.options.event=function(t){return z&&(t=z(t)),t.persist=h,t.isPropagationStopped=d,t.isDefaultPrevented=v,t.nativeEvent=t};var Z,X={enumerable:!1,configurable:!0,get:function(){return this.class}},Y=D.options.vnode;D.options.vnode=function(t){"string"==typeof t.type&&function(t){var e=t.props,n=t.type,o={};for(var r in e){var i=e[r];if(!("value"===r&&"defaultValue"in e&&null==i||G&&"children"===r&&"noscript"===n||"class"===r||"className"===r)){var a=r.toLowerCase();"defaultValue"===r&&"value"in e&&null==e.value?r="value":"download"===r&&!0===i?i="":"ondoubleclick"===a?r="ondblclick":"onchange"!==a||"input"!==n&&"textarea"!==n||Q(e.type)?"onfocus"===a?r="onfocusin":"onblur"===a?r="onfocusout":V.test(r)?r=a:-1===n.indexOf("-")&&B.test(r)?r=r.replace($,"-$&").toLowerCase():null===i&&(i=void 0):a=r="oninput","oninput"===a&&o[r=a]&&(r="oninputCapture"),o[r]=i}}"select"==n&&o.multiple&&Array.isArray(o.value)&&(o.value=Object(D.toChildArray)(e.children).forEach((function(t){t.props.selected=-1!=o.value.indexOf(t.props.value)}))),"select"==n&&null!=o.defaultValue&&(o.value=Object(D.toChildArray)(e.children).forEach((function(t){t.props.selected=o.multiple?-1!=o.defaultValue.indexOf(t.props.value):o.defaultValue==t.props.value}))),e.class&&!e.className?(o.class=e.class,Object.defineProperty(o,"className",X)):(e.className&&!e.class||e.class&&e.className)&&(o.class=o.className=e.className),t.props=o}(t),t.$$typeof=J,Y&&Y(t)};var tt=D.options.__r;D.options.__r=function(t){tt&&tt(t),Z=t.__c};var et=D.options.diffed;D.options.diffed=function(t){et&&et(t);var e=t.props,n=t.__e;null!=n&&"textarea"===t.type&&"value"in e&&e.value!==n.value&&(n.value=null==e.value?"":e.value),Z=null};var nt={useState:M.k,useId:M.e,useReducer:M.i,useEffect:M.d,useLayoutEffect:M.g,useInsertionEffect:M.g,useTransition:function(){return[!1,y]},useDeferredValue:function(t){return t},useSyncExternalStore:function(t,e){var n=e(),o=Object(M.k)({h:{__:n,v:e}}),r=o[0].h,a=o[1];return Object(M.g)((function(){r.__=n,r.v=e,i(r.__,e())||a({h:r})}),[t,n,e]),Object(M.d)((function(){return i(r.__,r.v())||a({h:r}),t((function(){i(r.__,r.v())||a({h:r})}))}),[t]),n},startTransition:y,useRef:M.j,useImperativeHandle:M.f,useMemo:M.h,useCallback:M.a,useContext:M.b,useDebugValue:M.c,version:"17.0.2",Children:q,render:function(t,e,n){return null==e.__k&&(e.textContent=""),Object(D.render)(t,e),"function"==typeof n&&n(),t?t.__c:null},hydrate:function(t,e,n){return Object(D.hydrate)(t,e),"function"==typeof n&&n(),t?t.__c:null},unmountComponentAtNode:function(t){return!!t.__k&&(Object(D.render)(null,t),!0)},createPortal:function(t,e){var n=Object(D.createElement)(_,{__v:t,i:e});return n.containerInfo=e,n},createElement:D.createElement,createContext:D.createContext,createFactory:function(t){return D.createElement.bind(null,t)},cloneElement:function(t){return b(t)?D.cloneElement.apply(null,arguments):t},createRef:D.createRef,Fragment:D.Fragment,isValidElement:b,findDOMNode:function(t){return t&&(t.base||1===t.nodeType&&t)||null},Component:D.Component,PureComponent:a,memo:function(t,e){function n(t){var n=this.props.ref,o=n==t.ref;return!o&&n&&(n.call?n(null):n.current=null),e?!e(this.props,t)||!o:r(this.props,t)}function o(e){return this.shouldComponentUpdate=n,Object(D.createElement)(t,e)}return o.displayName="Memo("+(t.displayName||t.name)+")",o.prototype.isReactComponent=!0,o.__f=!0,o},forwardRef:function(t){function e(e){var n=o({},e);return delete n.ref,t(n,e.ref||null)}return e.$$typeof=U,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e},flushSync:function(t,e){return t(e)},unstable_batchedUpdates:function(t,e){return t(e)},StrictMode:D.Fragment,Suspense:c,SuspenseList:p,lazy:function(t){function e(e){if(n||(n=t()).then((function(t){o=t.default||t}),(function(t){r=t})),r)throw r;if(!o)throw n;return Object(D.createElement)(o,e)}var n,o,r;return e.displayName="Lazy",e.__f=!0,e},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:{current:{readContext:function(t){return Z.__n[t.__c].props.value}}}}},ot=n("W0B4"),rt=n.n(ot),it=n("8Jek"),at=n.n(it),ut=n("fWLt"),st=n.n(ut),ct=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],lt=["Db","Eb","Gb","Ab","Bb"],pt={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},ft=12,_t=ft,ht=/([a-g])([#b]?)(\d+)/,dt=12,vt=T()(_t,128).reduce((function(t,e){return t[e]=function(t){var e=(t-ft)%dt,n=Math.floor((t-ft)/dt),o=ct[e];return{note:"".concat(o).concat(n),pitchName:o,octave:n,midiNumber:t,isAccidental:lt.includes(o)}}(e),t}),{}),bt=T()(_t,128).filter((function(t){return!P(t).isAccidental})),yt={fromNote:function(t){if(!t)throw Error("Invalid note argument");var e=ht.exec(t.toLowerCase());if(!e)throw Error("Invalid note argument");var n=R(e,4),o=n[2],r=n[3],i="".concat(n[1].toUpperCase()).concat(o),a=pt[i];if(null==a)throw Error("Invalid note argument");return ft+a+dt*parseInt(r,10)},getAttributes:P,MIN_MIDI_NUMBER:_t,MAX_MIDI_NUMBER:127,NATURAL_MIDI_NUMBERS:bt},mt=function(t){function e(){for(var t,n,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return N(C(n=E(this,(t=S(e)).call.apply(t,[this].concat(r)))),"onPlayNoteInput",(function(){n.props.onPlayNoteInput(n.props.midiNumber)})),N(C(n),"onStopNoteInput",(function(){n.props.onStopNoteInput(n.props.midiNumber)})),n}return w(e,t),g(e,[{key:"getAbsoluteKeyPosition",value:function(t){var e=yt.getAttributes(t);return this.props.pitchPositions[e.pitchName]+7*e.octave}},{key:"getRelativeKeyPosition",value:function(t){return this.getAbsoluteKeyPosition(t)-this.getAbsoluteKeyPosition(this.props.noteRange.first)}},{key:"render",value:function(){var t=this.props,e=t.naturalKeyWidth,n=t.accidentalWidthRatio,o=t.midiNumber,r=t.gliss,i=t.useTouchEvents,a=t.accidental,u=t.active,s=t.disabled,c=t.children;return nt.createElement("div",{className:at()("ReactPiano__Key",{"ReactPiano__Key--accidental":a,"ReactPiano__Key--natural":!a,"ReactPiano__Key--disabled":s,"ReactPiano__Key--active":u}),style:{left:I(this.getRelativeKeyPosition(o)*e),width:I(a?n*e:e)},onMouseDown:i?null:this.onPlayNoteInput,onMouseUp:i?null:this.onStopNoteInput,onMouseEnter:r?this.onPlayNoteInput:null,onMouseLeave:this.onStopNoteInput,onTouchStart:i?this.onPlayNoteInput:null,onTouchCancel:i?this.onStopNoteInput:null,onTouchEnd:i?this.onStopNoteInput:null},nt.createElement("div",{className:"ReactPiano__NoteLabelContainer"},c))}}]),e}(nt.Component);N(mt,"propTypes",{midiNumber:rt.a.number.isRequired,naturalKeyWidth:rt.a.number.isRequired,gliss:rt.a.bool.isRequired,useTouchEvents:rt.a.bool.isRequired,accidental:rt.a.bool.isRequired,active:rt.a.bool.isRequired,disabled:rt.a.bool.isRequired,onPlayNoteInput:rt.a.func.isRequired,onStopNoteInput:rt.a.func.isRequired,accidentalWidthRatio:rt.a.number.isRequired,pitchPositions:rt.a.object.isRequired,children:rt.a.node}),N(mt,"defaultProps",{accidentalWidthRatio:.65,pitchPositions:{C:0,Db:.55,D:1,Eb:1.8,E:2,F:3,Gb:3.5,G:4,Ab:4.7,A:5,Bb:5.85,B:6}});var gt=function(t){function e(){return E(this,S(e).apply(this,arguments))}return w(e,t),g(e,[{key:"getMidiNumbers",value:function(){return T()(this.props.noteRange.first,this.props.noteRange.last+1)}},{key:"getNaturalKeyCount",value:function(){return this.getMidiNumbers().filter((function(t){return!yt.getAttributes(t).isAccidental})).length}},{key:"getNaturalKeyWidth",value:function(){return 1/this.getNaturalKeyCount()}},{key:"getWidth",value:function(){return this.props.width?this.props.width:"100%"}},{key:"getHeight",value:function(){if(!this.props.width)return"100%";var t=this.props.width*this.getNaturalKeyWidth();return"".concat(t/this.props.keyWidthToHeight,"px")}},{key:"render",value:function(){var t=this,e=this.getNaturalKeyWidth();return nt.createElement("div",{className:at()("ReactPiano__Keyboard",this.props.className),style:{width:this.getWidth(),height:this.getHeight()}},this.getMidiNumbers().map((function(n){var o=yt.getAttributes(n),r=o.isAccidental,i=!t.props.disabled&&t.props.activeNotes.includes(n);return nt.createElement(mt,{naturalKeyWidth:e,midiNumber:n,noteRange:t.props.noteRange,active:i,accidental:r,disabled:t.props.disabled,onPlayNoteInput:t.props.onPlayNoteInput,onStopNoteInput:t.props.onStopNoteInput,gliss:t.props.gliss,useTouchEvents:t.props.useTouchEvents,key:n},t.props.disabled?null:t.props.renderNoteLabel({isActive:i,isAccidental:r,midiNumber:n}))})))}}]),e}(nt.Component);N(gt,"propTypes",{noteRange:function(t,e,n){var o=t[e],r=o.first,i=o.last;return r&&i?A(r)&&A(i)?r>=i?new Error("Invalid prop ".concat(e," supplied to ").concat(n,". ").concat(e,".first must be smaller than ").concat(e,".last.")):void 0:new Error("Invalid prop ".concat(e," supplied to ").concat(n,". ").concat(e," values must be valid MIDI numbers, and should not be accidentals (sharp or flat notes).")):new Error("Invalid prop ".concat(e," supplied to ").concat(n,". ").concat(e," must be an object with .first and .last values."))},activeNotes:rt.a.arrayOf(rt.a.number),onPlayNoteInput:rt.a.func.isRequired,onStopNoteInput:rt.a.func.isRequired,renderNoteLabel:rt.a.func.isRequired,keyWidthToHeight:rt.a.number.isRequired,className:rt.a.string,disabled:rt.a.bool,gliss:rt.a.bool,useTouchEvents:rt.a.bool,width:rt.a.number}),N(gt,"defaultProps",{disabled:!1,gliss:!1,useTouchEvents:!1,keyWidthToHeight:.33,renderNoteLabel:function(){}});var Nt=function(t){function e(){for(var t,n,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return N(C(n=E(this,(t=S(e)).call.apply(t,[this].concat(r)))),"state",{isMouseDown:!1,useTouchEvents:!1}),N(C(n),"handleNoteChanges",(function(t){var e=t.prevActiveNotes,o=t.nextActiveNotes;if(!n.props.disabled){var r=st()(e,o);st()(o,e).forEach((function(t){n.props.playNote(t)})),r.forEach((function(t){n.props.stopNote(t)}))}})),N(C(n),"getMidiNumberForKey",(function(t){if(!n.props.keyboardShortcuts)return null;var e=n.props.keyboardShortcuts.find((function(e){return e.key===t}));return e&&e.midiNumber})),N(C(n),"getKeyForMidiNumber",(function(t){if(!n.props.keyboardShortcuts)return null;var e=n.props.keyboardShortcuts.find((function(e){return e.midiNumber===t}));return e&&e.key})),N(C(n),"onKeyDown",(function(t){if(!(t.ctrlKey||t.metaKey||t.shiftKey)){var e=n.getMidiNumberForKey(t.key);e&&n.onPlayNoteInput(e)}})),N(C(n),"onKeyUp",(function(t){var e=n.getMidiNumberForKey(t.key);e&&n.onStopNoteInput(e)})),N(C(n),"onPlayNoteInput",(function(t){n.props.disabled||n.props.onPlayNoteInput(t,n.props.activeNotes)})),N(C(n),"onStopNoteInput",(function(t){n.props.disabled||n.props.onStopNoteInput(t,n.props.activeNotes)})),N(C(n),"onMouseDown",(function(){n.setState({isMouseDown:!0})})),N(C(n),"onMouseUp",(function(){n.setState({isMouseDown:!1})})),N(C(n),"onTouchStart",(function(){n.setState({useTouchEvents:!0})})),N(C(n),"renderNoteLabel",(function(t){var e=t.midiNumber,o=t.isActive,r=t.isAccidental,i=n.getKeyForMidiNumber(e);return n.props.renderNoteLabel({keyboardShortcut:i,midiNumber:e,isActive:o,isAccidental:r})})),n}return w(e,t),g(e,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)}},{key:"componentDidUpdate",value:function(t){this.props.activeNotes!==t.activeNotes&&this.handleNoteChanges({prevActiveNotes:t.activeNotes||[],nextActiveNotes:this.props.activeNotes||[]})}},{key:"render",value:function(){return nt.createElement("div",{style:{width:"100%",height:"100%"},onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchStart:this.onTouchStart,"data-testid":"container"},nt.createElement(gt,{noteRange:this.props.noteRange,onPlayNoteInput:this.onPlayNoteInput,onStopNoteInput:this.onStopNoteInput,activeNotes:this.props.activeNotes,className:this.props.className,disabled:this.props.disabled,width:this.props.width,keyWidthToHeight:this.props.keyWidthToHeight,gliss:this.state.isMouseDown,useTouchEvents:this.state.useTouchEvents,renderNoteLabel:this.renderNoteLabel}))}}]),e}(nt.Component);N(Nt,"propTypes",{noteRange:rt.a.object.isRequired,activeNotes:rt.a.arrayOf(rt.a.number.isRequired).isRequired,playNote:rt.a.func.isRequired,stopNote:rt.a.func.isRequired,onPlayNoteInput:rt.a.func.isRequired,onStopNoteInput:rt.a.func.isRequired,renderNoteLabel:rt.a.func.isRequired,className:rt.a.string,disabled:rt.a.bool,width:rt.a.number,keyWidthToHeight:rt.a.number,keyboardShortcuts:rt.a.arrayOf(rt.a.shape({key:rt.a.string.isRequired,midiNumber:rt.a.number.isRequired}))}),N(Nt,"defaultProps",{renderNoteLabel:function(t){var e=t.keyboardShortcut,n=t.isActive,o=t.isAccidental;return e?nt.createElement("div",{className:at()("ReactPiano__NoteLabel",{"ReactPiano__NoteLabel--active":n,"ReactPiano__NoteLabel--accidental":o,"ReactPiano__NoteLabel--natural":!o})},e):null}});var Ot=function(t){function e(){for(var t,n,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return N(C(n=E(this,(t=S(e)).call.apply(t,[this].concat(r)))),"state",{activeNotes:n.props.activeNotes||[]}),N(C(n),"handlePlayNoteInput",(function(t){n.setState((function(e){return n.props.onPlayNoteInput&&n.props.onPlayNoteInput(t,{prevActiveNotes:e.activeNotes}),e.activeNotes.includes(t)?null:{activeNotes:e.activeNotes.concat(t)}}))})),N(C(n),"handleStopNoteInput",(function(t){n.setState((function(e){return n.props.onStopNoteInput&&n.props.onStopNoteInput(t,{prevActiveNotes:n.state.activeNotes}),{activeNotes:e.activeNotes.filter((function(e){return t!==e}))}}))})),n}return w(e,t),g(e,[{key:"componentDidUpdate",value:function(t){t.activeNotes!==this.props.activeNotes&&this.state.activeNotes!==this.props.activeNotes&&this.setState({activeNotes:this.props.activeNotes||[]})}},{key:"render",value:function(){var t=this.props,e=j(t,["activeNotes","onPlayNoteInput","onStopNoteInput"]);return nt.createElement(Nt,O({activeNotes:this.state.activeNotes,onPlayNoteInput:this.handlePlayNoteInput,onStopNoteInput:this.handleStopNoteInput},e))}}]),e}(nt.Component);N(Ot,"propTypes",{noteRange:rt.a.object.isRequired,activeNotes:rt.a.arrayOf(rt.a.number.isRequired),playNote:rt.a.func.isRequired,stopNote:rt.a.func.isRequired,onPlayNoteInput:rt.a.func,onStopNoteInput:rt.a.func,renderNoteLabel:rt.a.func,className:rt.a.string,disabled:rt.a.bool,width:rt.a.number,keyWidthToHeight:rt.a.number,keyboardShortcuts:rt.a.arrayOf(rt.a.shape({key:rt.a.string.isRequired,midiNumber:rt.a.number.isRequired}))})},RaXK:function(t,e,n){"use strict";(function(t,o){var r=n("QRet");e.a=({websocket:e})=>{const{ws:n,wsUrl:i,setWsUrl:a,history:u,myChannels:s,availableChannels:c,id:l,wsState:p,joinChannel:f,getChannels:_,heartbeat:h,broadcastMessage:d,sendMessageToTargetClient:v,sendMessageToTargetChannel:b,sendMessageToJoinedChannels:y}=e,[m,g]=Object(r.k)(""),[N,O]=Object(r.k)(""),[w,S]=Object(r.k)(""),k=Object(r.h)((()=>{try{JSON.parse(m)}catch(t){return!1}return!0}),[m]),j=Object(r.a)((t=>{t.preventDefault(),a(t.target.wsUrl.value)}),[a]);return t("div",{className:"flex flex-col gap-4"},t("div",{className:"flex gap-8"},t("div",null,p),n&&i&&t("div",null,"connected to: ",i),t("form",{onSubmit:j},t("input",{type:"text",name:"wsUrl",placeholder:i}),t("button",{type:"submit"},"go"))),n&&t(o,null,t("div",null,l&&t("div",null,"id: ",l),h&&t("div",null,"heartbeat: ",JSON.stringify(h))),t("div",null,t("div",{className:"flex flex-row gap-8"},t("button",{onClick:_},"get channels"),t("form",{onSubmit:f},t("input",{type:"text",name:"channel"}),t("button",{type:"submit",className:"ml-2"},"join channel"))),t("ul",null,"my channels:",s.map((({channel:e,members:n})=>t("li",{key:e,className:"ml-2"},e," | ",n.length," members: ",n.join(", "))))),t("ul",null,"all channels:",c.map((({channel:e,members:n})=>t("li",{key:e,className:"ml-2"},e," ",n.length?`| ${n.length} members: ${n.join(", ")}`:"(no members)"))))),t("div",null,t("div",{className:"flex flex-col gap-1"},t("div",null,t("label",{htmlFor:"message"},"message"),t("textarea",{cols:100,rows:1,name:"message",placeholder:'{"hello": 1}',value:m,onInput:t=>g(t.target.value)})),t("div",null,t("label",{htmlFor:"targetChannel"},"target channel"),t("input",{name:"targetChannel",type:"text",value:N,onInput:t=>O(t.target.value)})),t("div",null,t("label",{htmlFor:"targetChannel"},"target client"),t("input",{name:"targetId",type:"text",value:w,onInput:t=>S(t.target.value)})),t("div",null,t("button",{disabled:!k,onClick:()=>v(m,w)},"send to another client"),t("button",{disabled:!k,onClick:()=>b(m,N)},"send to channel"),t("button",{disabled:!k,onClick:()=>y(m)},"send to joined channel"),t("button",{disabled:!k,onClick:()=>d(m)},"broadcast"))),!k&&m.length?t("div",null,"Invalid JSON"):t(o,null)),t("div",null,"incoming messages:"),t("div",{style:{overflow:"scroll",height:"200px"}},u.map((e=>t("div",{key:e},JSON.stringify(e)))))))}}).call(this,n("hosL").h,n("hosL").Fragment)},W0B4:function(t,e,n){t.exports=n("NS33")()},Zp5c:function(t,e,n){"use strict";function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=n("QRet");e.a=()=>{const[t,e]=Object(a.k)(null),[n,o]=Object(a.k)(""),[i,u]=Object(a.k)([]),[s,c]=Object(a.k)(null),[l,p]=Object(a.k)([]),[f,_]=Object(a.k)([]),[h,d]=Object(a.k)(null),[v,b]=Object(a.k)(""),y=Object(a.a)((async t=>{const e=await JSON.parse(t.data);switch(e.type){case"id":d(e.id);break;case"heartbeat":c(e.heartbeat);break;case"myChannels":p(e.channels);break;case"availableChannels":_(e.channels);break;default:u((t=>[e,...t]))}b(e)}),[]);Object(a.d)((()=>{if(!window)return;const t=window.location.protocol.includes("https")?"wss":"ws",e=window.location.protocol.includes("https")?"":":8081",n=`${t}://${location.hostname}${e}?channels=welcome`;o(n)}),[]),Object(a.d)((()=>{if(!n.length||"undefined"==typeof window)return;console.log("attempting to connect to",n);const t=new WebSocket(n);t.onmessage=y,e(t)}),[y,n]);const m=Object(a.a)((()=>{null==t||t.send(JSON.stringify({type:"myChannels"})),null==t||t.send(JSON.stringify({type:"availableChannels"}))}),[t]),g=Object(a.h)((()=>{if("undefined"!=typeof window)switch(null==t?void 0:t.readyState){case WebSocket.CONNECTING:return"connecting";case WebSocket.OPEN:return"open";case WebSocket.CLOSING:return"closing";case WebSocket.CLOSED:return"closed";default:return"uninitialized"}}),[null==t?void 0:t.readyState]);Object(a.d)((()=>{"open"===g&&m()}),[m,t,g]);const N=Object(a.a)((e=>{e.preventDefault(),null==t||t.send(JSON.stringify({type:"joinChannel",channel:e.target.channel.value}))}),[t]),O=Object(a.a)((e=>"open"===g&&(null==t?void 0:t.send(JSON.stringify({type:"broadcast",message:r(r({},JSON.parse(e)),{},{timestamp:Date.now()})})))),[t,g]),w=Object(a.a)(((e,n)=>{"open"===g&&(null==t||t.send(JSON.stringify(r(r({},JSON.parse(e)),{},{timestamp:Date.now(),channel:n}))))}),[t,g]),S=Object(a.a)(((e,n)=>{console.log("sending to target id",e,n),"open"===g&&(null==t||t.send(JSON.stringify(r(r({},JSON.parse(e)),{},{timestamp:Date.now(),targetId:n}))))}),[t,g]),k=Object(a.a)((e=>{"open"===g&&(null==t||t.send(JSON.stringify(r(r({},JSON.parse(e)),{},{timestamp:Date.now()}))))}),[t,g]);return{ws:t,wsUrl:n,setWsUrl:o,history:i,myChannels:l,availableChannels:f,id:h,incomingMessage:v,wsState:g,joinChannel:N,getChannels:m,heartbeat:s,broadcastMessage:O,sendMessageToTargetClient:S,sendMessageToTargetChannel:w,sendMessageToJoinedChannels:k}}},fWLt:function(t,e,n){(function(e){function n(t,e){return!!(t?t.length:0)&&function(t,e,n){if(e!=e)return function(t,e,n,o){var r=t.length,i=n+(o?1:-1);for(;o?i--:++i<r;)if(e(t[i],i,t))return i;return-1}(t,i,n);var o=n-1,r=t.length;for(;++o<r;)if(t[o]===e)return o;return-1}(t,e,0)>-1}function o(t,e,n){for(var o=-1,r=t?t.length:0;++o<r;)if(n(e,t[o]))return!0;return!1}function r(t,e){for(var n=-1,o=e.length,r=t.length;++n<o;)t[r+n]=e[n];return t}function i(t){return t!=t}function a(t,e){return t.has(e)}function u(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function s(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function c(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function l(t){var e=-1,n=t?t.length:0;for(this.__data__=new c;++e<n;)this.add(t[e])}function p(t,e){for(var n,o,r=t.length;r--;)if((n=t[r][0])===(o=e)||n!=n&&o!=o)return r;return-1}function f(t,e,r,i){var u,s=-1,c=n,p=!0,f=t.length,_=[],h=e.length;if(!f)return _;r&&(e=function(t,e){for(var n=-1,o=t?t.length:0,r=Array(o);++n<o;)r[n]=e(t[n],n,t);return r}(e,(u=r,function(t){return u(t)}))),i?(c=o,p=!1):e.length>=200&&(c=a,p=!1,e=new l(e));t:for(;++s<f;){var d=t[s],v=r?r(d):d;if(d=i||0!==d?d:0,p&&v==v){for(var b=h;b--;)if(e[b]===v)continue t;_.push(d)}else c(e,v,i)||_.push(d)}return _}function _(t,e,n,o,i){var a=-1,u=t.length;for(n||(n=b),i||(i=[]);++a<u;){var s=t[a];e>0&&n(s)?e>1?_(s,e-1,n,o,i):r(i,s):o||(i[i.length]=s)}return i}function h(t){if(!N(t)||(e=t,D&&D in e))return!1;var e,n=g(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?W:E;return n.test(function(t){if(null!=t){try{return M.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function d(t,e){var n,o,r=t.__data__;return("string"==(o=typeof(n=e))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function v(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return h(n)?n:void 0}function b(t){return z(t)||function(t){return m(t)&&L.call(t,"callee")&&(!F.call(t,"callee")||U.call(t)==k)}(t)||!!(K&&t&&t[K])}function y(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=S}(t.length)&&!g(t)}function m(t){return function(t){return!!t&&"object"==typeof t}(t)&&y(t)}function g(t){var e=N(t)?U.call(t):"";return e==j||e==C}function N(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var O,w="__lodash_hash_undefined__",S=9007199254740991,k="[object Arguments]",j="[object Function]",C="[object GeneratorFunction]",E=/^\[object .+?Constructor\]$/,R="object"==typeof self&&self&&self.Object===Object&&self,P="object"==typeof e&&e&&e.Object===Object&&e||R||Function("return this")(),I=Array.prototype,A=Function.prototype,x=Object.prototype,T=P["__core-js_shared__"],D=(O=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+O:"",M=A.toString,L=x.hasOwnProperty,U=x.toString,W=RegExp("^"+M.call(L).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),q=P.Symbol,F=x.propertyIsEnumerable,H=I.splice,K=q?q.isConcatSpreadable:void 0,J=Math.max,B=v(P,"Map"),V=v(Object,"create");u.prototype.clear=function(){this.__data__=V?V(null):{}},u.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},u.prototype.get=function(t){var e=this.__data__;if(V){var n=e[t];return n===w?void 0:n}return L.call(e,t)?e[t]:void 0},u.prototype.has=function(t){var e=this.__data__;return V?void 0!==e[t]:L.call(e,t)},u.prototype.set=function(t,e){return this.__data__[t]=V&&void 0===e?w:e,this},s.prototype.clear=function(){this.__data__=[]},s.prototype.delete=function(t){var e=this.__data__,n=p(e,t);return!(n<0)&&(n==e.length-1?e.pop():H.call(e,n,1),!0)},s.prototype.get=function(t){var e=this.__data__,n=p(e,t);return n<0?void 0:e[n][1]},s.prototype.has=function(t){return p(this.__data__,t)>-1},s.prototype.set=function(t,e){var n=this.__data__,o=p(n,t);return o<0?n.push([t,e]):n[o][1]=e,this},c.prototype.clear=function(){this.__data__={hash:new u,map:new(B||s),string:new u}},c.prototype.delete=function(t){return d(this,t).delete(t)},c.prototype.get=function(t){return d(this,t).get(t)},c.prototype.has=function(t){return d(this,t).has(t)},c.prototype.set=function(t,e){return d(this,t).set(t,e),this},l.prototype.add=l.prototype.push=function(t){return this.__data__.set(t,w),this},l.prototype.has=function(t){return this.__data__.has(t)};var $,G,Q=($=function(t,e){return m(t)?f(t,_(e,1,m,!0)):[]},G=J(void 0===G?$.length-1:G,0),function(){for(var t=arguments,e=-1,n=J(t.length-G,0),o=Array(n);++e<n;)o[e]=t[G+e];e=-1;for(var r=Array(G+1);++e<G;)r[e]=t[e];return r[G]=o,function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}($,this,r)}),z=Array.isArray;t.exports=Q}).call(this,n("pCvA"))},fbSc:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));class o{constructor(){this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.voices=[]}playNote(t,e=127){try{const n=new r(this.audioContext,t,e);this.voices.push(n),n.start()}catch(t){console.log(t)}}stopNote(t){try{const e=this.voices.find((e=>e.note===t));e&&(e.stop(),this.voices=this.voices.filter((t=>t!==e)))}catch(t){console.log(t)}}}class r{constructor(t,e,n){this.audioContext=t,this.note=e,this.velocity=n,this.oscillator=this.audioContext.createOscillator(),this.oscillator.frequency.value=function(t){return 440*Math.pow(2,(t-69)/12)}(e),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=n/127,this.oscillator.connect(this.gainNode),this.gainNode.connect(this.audioContext.destination)}start(){this.oscillator.start()}stop(){this.gainNode.gain.linearRampToValueAtTime(0,this.audioContext.currentTime+.5),this.oscillator.stop(this.audioContext.currentTime+.5)}}},l2px:function(){},pCvA:function(t){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},rLQs:function(t,e,n){"use strict";(function(t){function o({onPlayNote:e,onStopNote:n}){const o=r.a.fromNote("c3"),i=r.a.fromNote("f5");return t(r.b,{noteRange:{first:o,last:i},playNote:e,stopNote:n,width:1e3})}n.d(e,"a",(function(){return o}));var r=n("Qvep");n("l2px")}).call(this,n("hosL").h)},"s/nh":function(t,e,n){"use strict";(function(t,o){var r=n("QRet"),i=n("fbSc"),a=n("rLQs"),u=n("Zp5c"),s=n("RaXK");e.a=()=>{const e=Object(u.a)(),{incomingMessage:n,broadcastMessage:c,myChannels:l,sendMessageToTargetClient:p}=e,[f,_]=Object(r.k)(null),[h,d]=Object(r.k)(!1),[v,b]=Object(r.k)(!1),[y,m]=Object(r.k)(!0);Object(r.d)((()=>{if(n)switch(n.type){case"playNote":h||null==f||f.playNote(...n.noteData);break;case"stopNote":null==f||f.stopNote(...n.noteData)}}),[f,n,h]),Object(r.d)((()=>{window&&_(new i.a)}),[]);const g=Object(r.a)((t=>{console.log("playing",t),f&&!v&&f.playNote(t),y&&c(JSON.stringify({type:"playNote",noteData:[t]}))}),[c,y,v,f]),N=Object(r.a)((t=>{console.log("stopping",t),f&&f.stopNote(t),y&&c(JSON.stringify({type:"stopNote",noteData:[t]}))}),[c,y,f]),[O,w]=Object(r.k)(null),S=Object(r.a)((t=>{if(!t.length)return;let n;return O&&clearInterval(O),console.log("setting new interval id"),w(setInterval((()=>{const o=l.find((e=>e.channel===t));if(!o)return;console.log("targetChannel",o);const r=o.members.filter((t=>t!==e.id));if(!r.length)return;console.log("members",r);const i=n?(r.findIndex((t=>t===n))+1)%r.length:0;n=n?r[i]:r[0],console.log("sequencing",r,n,i),p(JSON.stringify({type:"playNote",noteData:[69+i]}),n),setTimeout((()=>{p(JSON.stringify({type:"stopNote",noteData:[69+i]}),n)}),100)}),1e3)),()=>clearInterval(O)}),[l,p,O,e.id]);return t("div",null,t(s.a,{websocket:e}),t("div",{className:"mb-2"},t("div",null,t("label",{htmlFor:"mute"},"mute incoming notes"),t("input",{name:"mute incoming",type:"checkbox",checked:h,onChange:()=>d((t=>!t))})),t("div",null,t("label",{htmlFor:"mute"},"mute outgoing notes"),t("input",{name:"mute outgoing",type:"checkbox",checked:v,onChange:()=>b((t=>!t))})),t("div",null,t("label",{htmlFor:"broadcastNotes"},"broadcast notes"),t("input",{name:"broadcastNotes",type:"checkbox",checked:y,onChange:()=>m(!y)}))),t("div",{className:"flex flex-row gap-2 mb-2"},t("span",null,"sequence to channel"),t("select",{className:"px-1",name:"channel",onChange:t=>S(t.target.value)},t(o,null,t("option",null),l.map((e=>t("option",{key:e.channel},e.channel)))))),t(a.a,{onPlayNote:g,onStopNote:N}))}}).call(this,n("hosL").h,n("hosL").Fragment)},s9DB:function(t,e){"use strict";e.a={home:"home__Tk3DL",resource:"resource__-GqBH"}},vKyU:function(t,e,n){"use strict";n.r(e),function(t){var o=n("s9DB"),r=n("s/nh");e.default=()=>t("div",{class:o.a.home},t(r.a,null))}.call(this,n("hosL").h)}}]);
//# sourceMappingURL=route-synth.chunk.807d5.esm.js.map