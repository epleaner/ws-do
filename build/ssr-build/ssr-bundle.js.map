{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./routes/home/index.js","webpack:///./components/clients/basic.js","webpack:///../node_modules/classnames/index.js","webpack:///../node_modules/just-range/index.js","webpack:///../node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///./routes/home/style.css?b889","webpack:///external \"preact\"","webpack:///../node_modules/webpack/buildin/amd-options.js","webpack:///../node_modules/prop-types/factoryWithThrowingShims.js","webpack:///../node_modules/preact/hooks/src/index.js","webpack:///./style/index.css?3992","webpack:///../node_modules/preact-router/src/util.js","webpack:///../node_modules/preact-router/src/index.js","webpack:///./components/app.js","webpack:///./index.js","webpack:///../node_modules/preact/compat/src/util.js","webpack:///../node_modules/preact/compat/src/PureComponent.js","webpack:///../node_modules/preact/compat/src/memo.js","webpack:///../node_modules/preact/compat/src/forwardRef.js","webpack:///../node_modules/preact/compat/src/Children.js","webpack:///../node_modules/preact/compat/src/suspense.js","webpack:///../node_modules/preact/compat/src/suspense-list.js","webpack:///../node_modules/preact/compat/src/portals.js","webpack:///../node_modules/preact/compat/src/render.js","webpack:///../node_modules/preact/compat/src/index.js","webpack:///../node_modules/react-piano/src/MidiNumbers.js","webpack:///../node_modules/react-piano/src/Key.js","webpack:///../node_modules/react-piano/src/Keyboard.js","webpack:///../node_modules/react-piano/src/ControlledPiano.js","webpack:///../node_modules/react-piano/src/Piano.js","webpack:///../node_modules/react-piano/src/KeyboardShortcuts.js","webpack:///./components/header/index.js","webpack:///./components/wsMonitor.js","webpack:///./routes/synth/index.js","webpack:///../node_modules/prop-types/index.js","webpack:///./hooks/useWs.js","webpack:///./routes/midi/style.css?1849","webpack:///./routes/midi/index.js","webpack:///../node_modules/lodash.difference/index.js","webpack:///./utils/polysynth.js","webpack:///./utils/midihandler.js","webpack:///../node_modules/react-piano/dist/styles.css","webpack:///./components/clients/synth/piano.js","webpack:///./components/clients/synth/index.js","webpack:///./routes/synth/style.css?90c8","webpack:///./components/clients/midi/index.js"],"names":["Home","h","class","style","home","Basic","WsClient","ws","useWs","Monitor","websocket","hasOwn","hasOwnProperty","nativeCodeString","classNames","classes","i","arguments","length","arg","argType","_typeof","push","Array","isArray","inner","apply","toString","Object","prototype","includes","key","call","join","module","exports","default","define","window","range","start","stop","step","Error","toReturn","increasing","ReactPropTypesSecret","require","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","props","propName","componentName","location","propFullName","secret","err","name","isRequired","getShim","ReactPropTypes","array","bigint","bool","func","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","t","r","u","o","f","c","e","n","__b","a","__r","v","diffed","l","__c","m","unmount","d","__h","__H","__","__V","s","B","__N","setState","filter","every","forEach","shouldComponentUpdate","componentWillUpdate","__e","p","__s","z","y","_","F","current","A","concat","T","q","context","sub","value","x","useDebugValue","P","componentDidCatch","V","__v","__m","b","shift","__P","k","w","requestAnimationFrame","j","some","g","clearTimeout","cancelAnimationFrame","setTimeout","EMPTY$1","assign","obj","exec","url","route","opts","reg","match","matches","ret","split","decodeURIComponent","slice","segmentize","replace","max","Math","i$1","charAt","param","flags","plus","indexOf","star","val","map","pathRankSort","rank","index","prepareVNodeForRanking","vnode","rankChild","rankSegment","segment","path","customHistory","ROUTERS","subscribers","EMPTY","setUrl","type","history","getCurrentUrl","getCurrentLocation","pathname","search","canRoute","routeTo","didRoute","routeFromLink","getAttribute","href","target","handleLinkClick","ctrlKey","metaKey","altKey","shiftKey","button","currentTarget","prevent","stopImmediatePropagation","stopPropagation","preventDefault","delegateLinkHandler","String","nodeName","toUpperCase","hasAttribute","parentNode","eventListenersInitialized","initEventListeners","addEventListener","Router","Component$$1","state","static","onChange","children","toChildArray","getMatchingChildren","updating","forceUpdate","componentWillMount","componentDidMount","unlisten","listen","this$1","componentWillUnmount","splice","componentDidUpdate","invoke","sort","newProps","ref","cloneElement","Boolean","render","ref$1","active","previous","previousUrl","router","Component","Link","createElement","onClick","Route","component","App","id","Header","Synth","MIDI","C","E","displayName","isReactComponent","__f","isPureReactComponent","R","N","Symbol","for","$$typeof","O","count","only","toArray","then","__k","I","L","U","insertBefore","__d","D","__u","__a","M","__R","__O","pop","document","fallback","W","delete","revealOrder","size","getChildContext","nodeType","childNodes","appendChild","removeChild","containerInfo","get","Map","reverse","set","H","Z","Y","$","test","G","textContent","J","defineProperty","configurable","writable","K","event","Q","X","cancelBubble","nn","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","tn","en","enumerable","rn","toLowerCase","multiple","selected","defaultValue","className","un","on","ln","ReactCurrentDispatcher","readContext","__n","cn","fn","bind","an","sn","hn","vn","base","dn","pn","mn","yn","_n","bn","Sn","gn","Cn","useState","useId","useReducer","useEffect","useLayoutEffect","useInsertionEffect","useTransition","useDeferredValue","useSyncExternalStore","startTransition","useRef","useImperativeHandle","useMemo","useCallback","useContext","S","version","Children","hydrate","unmountComponentAtNode","createPortal","createContext","createFactory","createRef","Fragment","isValidElement","findDOMNode","PureComponent","memo","forwardRef","flushSync","unstable_batchedUpdates","StrictMode","Suspense","SuspenseList","lazy","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","SORTED_PITCHES","ACCIDENTAL_PITCHES","PITCH_INDEXES","Db","Eb","Gb","Ab","Bb","MIDI_NUMBER_C0","MIN_MIDI_NUMBER","MAX_MIDI_NUMBER","NOTE_REGEX","NOTES_IN_OCTAVE","fromNote","note","letter","_match","accidental","octave","pitchName","pitchIndex","parseInt","buildMidiNumberAttributes","midiNumber","floor","isAccidental","buildMidiNumberAttributesCache","reduce","cache","midiNumberAttributesCache","getAttributes","attrs","NATURAL_MIDI_NUMBERS","MidiNumbers","Key","onPlayNoteInput","_this","onStopNoteInput","OCTAVE_WIDTH","_MidiNumbers$getAttri","pitchPosition","pitchPositions","octavePosition","getAbsoluteKeyPosition","noteRange","first","naturalKeyWidth","_this$props","accidentalWidthRatio","gliss","useTouchEvents","disabled","React","left","ratioToPercentage","getRelativeKeyPosition","width","onMouseDown","onMouseUp","onMouseEnter","onMouseLeave","onTouchStart","onTouchCancel","onTouchEnd","ratio","Keyboard","last","getMidiNumbers","getNaturalKeyCount","keyWidth","getNaturalKeyWidth","keyWidthToHeight","getWidth","height","getHeight","_MidiNumbers$getAttri2","isActive","activeNotes","renderNoteLabel","noteRangePropType","isNaturalMidiNumber","_props$propName","ControlledPiano","isMouseDown","_ref","prevActiveNotes","nextActiveNotes","notesStopped","difference","notesStarted","playNote","stopNote","keyboardShortcuts","shortcut","find","sh","getMidiNumberForKey","_ref2","keyboardShortcut","getKeyForMidiNumber","onKeyDown","onKeyUp","removeEventListener","prevProps","prevState","handleNoteChanges","_ref3","Piano","otherProps","_objectWithoutProperties","_extends","handlePlayNoteInput","handleStopNoteInput","createKeyboardShortcuts","firstNote","lastNote","keyboardConfig","currentMidiNumber","naturalKeyIndex","flat","natural","KeyboardShortcuts","create","BOTTOM_ROW","sharp","HOME_ROW","QWERTY_ROW","WsMonitor","wsUrl","setWsUrl","myChannels","availableChannels","wsState","joinChannel","getChannels","heartbeat","broadcastMessage","sendMessageToTargetClient","sendMessageToTargetChannel","sendMessageToJoinedChannels","_useState","_useState2","_slicedToArray","message","setMessage","_useState3","_useState4","targetChannel","setTargetChannel","_useState5","_useState6","targetId","setTargetId","messageIsValidJSON","JSON","parse","handleWsUrlChange","onSubmit","placeholder","stringify","channel","members","htmlFor","cols","rows","onInput","overflow","data","SynthClient","process","setWs","setHistory","_useState7","_useState8","setHeartbeat","_useState9","_useState10","setMyChannels","_useState11","_useState12","setAvailableChannels","_useState13","_useState14","setId","_useState15","_useState16","incomingMessage","setIncomingMessage","onMessage","_asyncToGenerator","channels","_toConsumableArray","_x2","protocol","port","hostname","console","log","close","wsConnection","WebSocket","onmessage","onopen","send","readyState","CONNECTING","OPEN","CLOSING","CLOSED","_objectSpread","timestamp","Date","now","MidiClient","LARGE_ARRAY_SIZE","HASH_UNDEFINED","MAX_SAFE_INTEGER","argsTag","funcTag","genTag","reRegExpChar","reIsHostCtor","freeGlobal","global","freeSelf","self","root","Function","thisArg","args","arrayIncludes","baseIndexOf","arrayIncludesWith","comparator","arrayMap","iteratee","result","arrayPush","values","offset","baseFindIndex","predicate","fromIndex","fromRight","baseIsNaN","baseUnary","cacheHas","has","getValue","undefined","isHostObject","arrayProto","funcProto","objectProto","coreJsData","maskSrcKey","uid","keys","IE_PROTO","funcToString","objectToString","reIsNative","RegExp","propertyIsEnumerable","spreadableSymbol","isConcatSpreadable","nativeMax","getNative","nativeCreate","Hash","entries","clear","entry","hashClear","__data__","hashDelete","hashGet","hashHas","hashSet","ListCache","listCacheClear","listCacheDelete","assocIndexOf","lastIndex","listCacheGet","listCacheHas","listCacheSet","MapCache","mapCacheClear","mapCacheDelete","getMapData","mapCacheGet","mapCacheHas","mapCacheSet","SetCache","add","setCacheAdd","setCacheHas","eq","baseDifference","isCommon","valuesLength","outer","computed","valuesIndex","baseFlatten","depth","isStrict","isFlattenable","baseIsNative","isObject","isMasked","pattern","isFunction","toSource","baseRest","otherArgs","isKeyable","isArguments","isArrayLikeObject","other","isArrayLike","isLength","isObjectLike","tag","PolySynth","_classCallCheck","audioContext","AudioContext","webkitAudioContext","voices","_createClass","velocity","voice","Voice","oscillator","createOscillator","frequency","getFrequency","gainNode","createGain","gain","connect","destination","linearRampToValueAtTime","currentTime","pow","MIDIHandler","synth","navigator","requestMIDIAccess","onMIDISuccess","onMIDIFailure","onMIDIMessage","_message$data","status","selectedInput","midiAccess","inputs","selectedDeviceId","access","devices","selectElement","getElementById","_iterator","_createForOfIteratorHelper","_step","done","device","optionElement","text","onDeviceSelect","_iterator2","_step2","input","onmidimessage","_iterator3","_step3","_iterator4","_step4","setupKeyboardListener","_this2","code","toggleMIDIDeviceSelect","deviceSelectContainer","display","MIDIPiano","onPlayNote","onStopNote","polySynth","setPolySynth","muteIncoming","setMuteIncoming","muteOutgoing","setMuteOutgoing","broadcastNotes","setBroadcastNotes","noteData","handlePlayNote","handleStopNote","sequencerIntervalId","setSequencerIntervalId","handleSequenceChannel","channelName","clearInterval","sequenceTarget","setInterval","targetIndex","findIndex","checked","setMidiHandler"],"mappings":"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AE,CAAC;IACb,IAAI;MACF,OAAQxB,IAAI,GAAG,EAAE;IACnB,CAAC,CAAC,OAAOwB,CAAC,EAAE,CAAC;EACf;EACA,OAAO,EAAE;AACX;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI8Y,UAAU,GAAGmO,QAAQ,CAAC,UAAS5oB,KAAK,EAAE+jB,MAAM,EAAE;EAChD,OAAOiF,iBAAiB,CAAChpB,KAAK,CAAC,GAC3B4nB,cAAc,CAAC5nB,KAAK,EAAEkoB,WAAW,CAACnE,MAAM,EAAE,CAAC,EAAEiF,iBAAiB,EAAE,IAAI,CAAC,CAAC,GACtE,EAAE;AACR,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASrB,EAAEA,CAACzjB,KAAK,EAAE+kB,KAAK,EAAE;EACxB,OAAO/kB,KAAK,KAAK+kB,KAAK,IAAK/kB,KAAK,KAAKA,KAAK,IAAI+kB,KAAK,KAAKA,KAAM;AAChE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASF,WAAWA,CAAC7kB,KAAK,EAAE;EAC1B;EACA,OAAO8kB,iBAAiB,CAAC9kB,KAAK,CAAC,IAAIrH,cAAc,CAACoB,IAAI,CAACiG,KAAK,EAAE,QAAQ,CAAC,KACpE,CAACshB,oBAAoB,CAACvnB,IAAI,CAACiG,KAAK,EAAE,QAAQ,CAAC,IAAImhB,cAAc,CAACpnB,IAAI,CAACiG,KAAK,CAAC,IAAIwe,OAAO,CAAC;AAC1F;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIjlB,OAAO,GAAGD,KAAK,CAACC,OAAO;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASyrB,WAAWA,CAAChlB,KAAK,EAAE;EAC1B,OAAOA,KAAK,IAAI,IAAI,IAAIilB,QAAQ,CAACjlB,KAAK,CAAC/G,MAAM,CAAC,IAAI,CAACurB,UAAU,CAACxkB,KAAK,CAAC;AACtE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS8kB,iBAAiBA,CAAC9kB,KAAK,EAAE;EAChC,OAAOklB,YAAY,CAACllB,KAAK,CAAC,IAAIglB,WAAW,CAAChlB,KAAK,CAAC;AAClD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASwkB,UAAUA,CAACxkB,KAAK,EAAE;EACzB;EACA;EACA,IAAImlB,GAAG,GAAGd,QAAQ,CAACrkB,KAAK,CAAC,GAAGmhB,cAAc,CAACpnB,IAAI,CAACiG,KAAK,CAAC,GAAG,EAAE;EAC3D,OAAOmlB,GAAG,IAAI1G,OAAO,IAAI0G,GAAG,IAAIzG,MAAM;AACxC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASuG,QAAQA,CAACjlB,KAAK,EAAE;EACvB,OAAO,OAAOA,KAAK,IAAI,QAAQ,IAC7BA,KAAK,GAAG,CAAC,CAAC,IAAIA,KAAK,GAAG,CAAC,IAAI,CAAC,IAAIA,KAAK,IAAIue,gBAAgB;AAC7D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS8F,QAAQA,CAACrkB,KAAK,EAAE;EACvB,IAAI6D,IAAI,GAAAzK,OAAA,CAAU4G,KAAK;EACvB,OAAO,CAAC,CAACA,KAAK,KAAK6D,IAAI,IAAI,QAAQ,IAAIA,IAAI,IAAI,UAAU,CAAC;AAC5D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASqhB,YAAYA,CAACllB,KAAK,EAAE;EAC3B,OAAO,CAAC,CAACA,KAAK,IAAI5G,OAAA,CAAO4G,KAAK,KAAI,QAAQ;AAC5C;AAEA/F,MAAM,CAACC,OAAO,GAAGqc,UAAU,C;;;;;;;;;;;;;;;ICjpCN6O,SAAS;EAC5B,SAAAA,UAAA,EAAc;IAAAC,eAAA,OAAAD,SAAA;IACZ,IAAI,CAACE,YAAY,GAAG,KAAKjrB,MAAM,CAACkrB,YAAY,IAC1ClrB,MAAM,CAACmrB,kBAAkB,EAAE,CAAC;IAC9B,IAAI,CAACC,MAAM,GAAG,EAAE;EAClB;EAACC,YAAA,CAAAN,SAAA;IAAAtrB,GAAA;IAAAkG,KAAA,EAED,SAAAyW,SAAS5E,IAAI,EAAkB;MAAA,IAAhB8T,QAAQ,GAAA3sB,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAwnB,SAAA,GAAAxnB,SAAA,MAAG,GAAG;MAC3B,IAAI;QACF;QACA,IAAM4sB,KAAK,GAAG,IAAIC,KAAK,CAAC,IAAI,CAACP,YAAY,EAAEzT,IAAI,EAAE8T,QAAQ,CAAC;QAC1D,IAAI,CAACF,MAAM,CAACpsB,IAAI,CAACusB,KAAK,CAAC;;QAEvB;QACAA,KAAK,CAACrrB,KAAK,CAAC,CAAC;MACf,CAAC,CAAC,OAAOkD,CAAC,EAAE;QACV0f,OAAO,CAACC,GAAG,CAAC3f,CAAC,CAAC;MAChB;IACF;EAAC;IAAA3D,GAAA;IAAAkG,KAAA,EAED,SAAA0W,SAAS7E,IAAI,EAAE;MACb,IAAI;QACF;QACA,IAAM+T,KAAK,GAAG,IAAI,CAACH,MAAM,CAAC5O,IAAI,CAAC,UAAC+O,KAAK;UAAA,OAAKA,KAAK,CAAC/T,IAAI,KAAKA,IAAI;QAAA,EAAC;QAE9D,IAAI+T,KAAK,EAAE;UACT;UACAA,KAAK,CAACprB,IAAI,CAAC,CAAC;UACZ,IAAI,CAACirB,MAAM,GAAG,IAAI,CAACA,MAAM,CAAC5mB,MAAM,CAAC,UAACf,CAAC;YAAA,OAAKA,CAAC,KAAK8nB,KAAK;UAAA,EAAC;QACtD;MACF,CAAC,CAAC,OAAOnoB,CAAC,EAAE;QACV0f,OAAO,CAACC,GAAG,CAAC3f,CAAC,CAAC;MAChB;IACF;EAAC;EAAA,OAAA2nB,SAAA;AAAA;AAjC2B;AAAA,IAoCxBS,KAAK;EACT,SAAAA,MAAYP,YAAY,EAAEzT,IAAI,EAAE8T,QAAQ,EAAE;IAAAN,eAAA,OAAAQ,KAAA;IACxC,IAAI,CAACP,YAAY,GAAGA,YAAY;IAChC,IAAI,CAACzT,IAAI,GAAGA,IAAI;IAChB,IAAI,CAAC8T,QAAQ,GAAGA,QAAQ;;IAExB;IACA,IAAI,CAACG,UAAU,GAAG,IAAI,CAACR,YAAY,CAACS,gBAAgB,CAAC,CAAC;IACtD,IAAI,CAACD,UAAU,CAACE,SAAS,CAAChmB,KAAK,GAAGimB,YAAY,CAACpU,IAAI,CAAC;;IAEpD;IACA,IAAI,CAACqU,QAAQ,GAAG,IAAI,CAACZ,YAAY,CAACa,UAAU,CAAC,CAAC;IAC9C,IAAI,CAACD,QAAQ,CAACE,IAAI,CAACpmB,KAAK,GAAG2lB,QAAQ,GAAG,GAAG;;IAEzC;IACA,IAAI,CAACG,UAAU,CAACO,OAAO,CAAC,IAAI,CAACH,QAAQ,CAAC;IACtC,IAAI,CAACA,QAAQ,CAACG,OAAO,CAAC,IAAI,CAACf,YAAY,CAACgB,WAAW,CAAC;EACtD;EAACZ,YAAA,CAAAG,KAAA;IAAA/rB,GAAA;IAAAkG,KAAA,EAED,SAAAzF,MAAA,EAAQ;MACN;MACA,IAAI,CAACurB,UAAU,CAACvrB,KAAK,CAAC,CAAC;IACzB;EAAC;IAAAT,GAAA;IAAAkG,KAAA,EAED,SAAAxF,KAAA,EAAO;MACL;MACA,IAAI,CAAC0rB,QAAQ,CAACE,IAAI,CAACG,uBAAuB,CACxC,CAAC,EACD,IAAI,CAACjB,YAAY,CAACkB,WAAW,GAAG,GAClC,CAAC;;MAED;MACA,IAAI,CAACV,UAAU,CAACtrB,IAAI,CAAC,IAAI,CAAC8qB,YAAY,CAACkB,WAAW,GAAG,GAAG,CAAC;IAC3D;EAAC;EAAA,OAAAX,KAAA;AAAA;AAGH,SAASI,YAAYA,CAACpU,IAAI,EAAE;EAC1B,OAAO,GAAG,GAAGxP,IAAI,CAACokB,GAAG,CAAC,CAAC,EAAE,CAAC5U,IAAI,GAAG,EAAE,IAAI,EAAE,CAAC;AAC5C,C;;;;;;;;;;;;;;;;;;;;;;IC1EqB6U,WAAW;EAC9B,SAAAA,YAAYC,KAAK,EAAE;IAAAtB,eAAA,OAAAqB,WAAA;IACjBvJ,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEwJ,SAAS,CAAC;IACjD;IACAA,SAAS,CACNC,iBAAiB,CAAC,CAAC,CACnBvd,IAAI,CAAC,IAAI,CAACwd,aAAa,CAACnZ,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAACoZ,aAAa,CAACpZ,IAAI,CAAC,IAAI,CAAC,CAAC;IACrE,IAAI,CAACgZ,KAAK,GAAGA,KAAK;EACpB;EAACjB,YAAA,CAAAgB,WAAA;IAAA5sB,GAAA;IAAAkG,KAAA,EAED,SAAAgnB,cAAclN,OAAO,EAAE;MACrB;MACA,IAAAmN,aAAA,GAAApN,cAAA,CAAiCC,OAAO,CAACwB,IAAI;QAAtC4L,MAAM,GAAAD,aAAA;QAAEpV,IAAI,GAAAoV,aAAA;QAAEtB,QAAQ,GAAAsB,aAAA;;MAE7B;MACA,IAAME,aAAa,GAAG,IAAI,CAACC,UAAU,CAACC,MAAM,CAACrc,GAAG,CAAC,IAAI,CAACsc,gBAAgB,CAAC;MACvE,IAAIH,aAAa,KAAKrN,OAAO,CAACrV,MAAM,EAAE;QACpC,IAAIyiB,MAAM,KAAK,GAAG,IAAIvB,QAAQ,GAAG,CAAC,EAAE;UAClC;UACA;UACAxI,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEvL,IAAI,CAAC;QAC9B,CAAC,MAAM,IAAIqV,MAAM,KAAK,GAAG,IAAKA,MAAM,KAAK,GAAG,IAAIvB,QAAQ,KAAK,CAAE,EAAE;UAC/D;UACA;UACAxI,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEvL,IAAI,CAAC;QAC9B;MACF;IACF;EAAC;IAAA/X,GAAA;IAAAkG,KAAA,EAED,SAAA8mB,cAAcS,MAAM,EAAE;MACpB,IAAI,CAACH,UAAU,GAAGG,MAAM;;MAExB;MACA,IAAMC,OAAO,GAAG,IAAI,CAACJ,UAAU,CAACC,MAAM,CAACxH,MAAM,CAAC,CAAC;MAC/C,IAAM4H,aAAa,GAAGrd,QAAQ,CAACsd,cAAc,CAAC,eAAe,CAAC;;MAE9D;MAAA,IAAAC,SAAA,GAAAC,0BAAA,CACmBJ,OAAO;QAAAK,KAAA;MAAA;QAA1B,KAAAF,SAAA,CAAAlpB,CAAA,MAAAopB,KAAA,GAAAF,SAAA,CAAAjqB,CAAA,IAAAoqB,IAAA,GAA4B;UAAA,IAAnBC,MAAM,GAAAF,KAAA,CAAA7nB,KAAA;UACb,IAAMgoB,aAAa,GAAG5d,QAAQ,CAACtC,aAAa,CAAC,QAAQ,CAAC;UACtDkgB,aAAa,CAAChoB,KAAK,GAAG+nB,MAAM,CAAC5f,EAAE;UAC/B6f,aAAa,CAACC,IAAI,GAAGF,MAAM,CAACrsB,IAAI;UAChC+rB,aAAa,CAAC5c,WAAW,CAACmd,aAAa,CAAC;QAC1C;;QAEA;MAAA,SAAAvsB,GAAA;QAAAksB,SAAA,CAAAlqB,CAAA,CAAAhC,GAAA;MAAA;QAAAksB,SAAA,CAAApqB,CAAA;MAAA;MACAkqB,aAAa,CAAC5hB,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACqiB,cAAc,CAAC;;MAE7D;MAAA,IAAAC,UAAA,GAAAP,0BAAA,CACkB,IAAI,CAACR,UAAU,CAACC,MAAM,CAACxH,MAAM,CAAC,CAAC;QAAAuI,MAAA;MAAA;QAAjD,KAAAD,UAAA,CAAA1pB,CAAA,MAAA2pB,MAAA,GAAAD,UAAA,CAAAzqB,CAAA,IAAAoqB,IAAA,GAAmD;UAAA,IAA1CO,KAAK,GAAAD,MAAA,CAAApoB,KAAA;UACZqoB,KAAK,CAACC,aAAa,GAAG,IAAI,CAACtB,aAAa;QAC1C;MAAC,SAAAvrB,GAAA;QAAA0sB,UAAA,CAAA1qB,CAAA,CAAAhC,GAAA;MAAA;QAAA0sB,UAAA,CAAA5qB,CAAA;MAAA;IACH;EAAC;IAAAzD,GAAA;IAAAkG,KAAA,EAED,SAAA+mB,cAAA,EAAgB;MACd5J,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;IAC9C;EAAC;IAAAtjB,GAAA;IAAAkG,KAAA,EAED,SAAAkoB,eAAelc,KAAK,EAAE;MAAA,IAAAmH,KAAA;MACpB,IAAI,CAACmU,gBAAgB,GAAGtb,KAAK,CAACvH,MAAM,CAACzE,KAAK;;MAE1C;MACA4mB,SAAS,CAACC,iBAAiB,CAAC,CAAC,CAACvd,IAAI,CAAC,UAAC8d,UAAU,EAAK;QAAA,IAAAmB,UAAA,GAAAX,0BAAA,CAC/BR,UAAU,CAACC,MAAM,CAACxH,MAAM,CAAC,CAAC;UAAA2I,MAAA;QAAA;UAA5C,KAAAD,UAAA,CAAA9pB,CAAA,MAAA+pB,MAAA,GAAAD,UAAA,CAAA7qB,CAAA,IAAAoqB,IAAA,GAA8C;YAAA,IAArCO,KAAK,GAAAG,MAAA,CAAAxoB,KAAA;YACZqoB,KAAK,CAACC,aAAa,GAAG,IAAI;UAC5B;;UAEA;QAAA,SAAA7sB,GAAA;UAAA8sB,UAAA,CAAA9qB,CAAA,CAAAhC,GAAA;QAAA;UAAA8sB,UAAA,CAAAhrB,CAAA;QAAA;QAAA,IAAAkrB,UAAA,GAAAb,0BAAA,CACkBzU,KAAI,CAACwT,KAAK,CAAClB,MAAM;UAAAiD,MAAA;QAAA;UAAnC,KAAAD,UAAA,CAAAhqB,CAAA,MAAAiqB,MAAA,GAAAD,UAAA,CAAA/qB,CAAA,IAAAoqB,IAAA,GAAqC;YAAA,IAA5BlC,KAAK,GAAA8C,MAAA,CAAA1oB,KAAA;YACZ4lB,KAAK,CAACprB,IAAI,CAAC,CAAC;UACd;QAAC,SAAAiB,GAAA;UAAAgtB,UAAA,CAAAhrB,CAAA,CAAAhC,GAAA;QAAA;UAAAgtB,UAAA,CAAAlrB,CAAA;QAAA;QACD4V,KAAI,CAACwT,KAAK,CAAClB,MAAM,GAAG,EAAE,CAAC,CAAC;;QAExB;QACA,IAAM0B,aAAa,GAAGC,UAAU,CAACC,MAAM,CAACrc,GAAG,CAACmI,KAAI,CAACmU,gBAAgB,CAAC;QAClE,IAAIH,aAAa,EAAE;UACjBA,aAAa,CAACmB,aAAa,GAAGnV,KAAI,CAAC6T,aAAa;QAClD;MACF,CAAC,CAAC;IACJ;EAAC;IAAAltB,GAAA;IAAAkG,KAAA,EAED,SAAA2oB,sBAAA,EAAwB;MAAA,IAAAC,MAAA;MACtB;MACAxe,QAAQ,CAACvE,gBAAgB,CAAC,SAAS,EAAE,UAACmG,KAAK,EAAK;QAC9C,IAAIA,KAAK,CAAClH,QAAQ,IAAIkH,KAAK,CAAC6c,IAAI,KAAK,OAAO,EAAE;UAC5CD,MAAI,CAACE,sBAAsB,CAAC,CAAC;QAC/B;MACF,CAAC,CAAC;IACJ;EAAC;IAAAhvB,GAAA;IAAAkG,KAAA,EAED,SAAA8oB,uBAAA,EAAyB;MACvB,IAAMC,qBAAqB,GAAG3e,QAAQ,CAACsd,cAAc,CACnD,yBACF,CAAC;MAED,IAAI,CAACqB,qBAAqB,EAAE;MAE5B,IAAIA,qBAAqB,CAAC7wB,KAAK,CAAC8wB,OAAO,KAAK,MAAM,EAAE;QAClD;QACAD,qBAAqB,CAAC7wB,KAAK,CAAC8wB,OAAO,GAAG,OAAO;MAC/C,CAAC,MAAM;QACL;QACAD,qBAAqB,CAAC7wB,KAAK,CAAC8wB,OAAO,GAAG,MAAM;MAC9C;IACF;EAAC;EAAA,OAAAtC,WAAA;AAAA;;;;;;;;;ACvGH;;;;;;;;;ACAA;AAAA;AAAA;AAAiD;AACZ;AAEtB,SAASuC,SAASA,CAAA9S,IAAA,EAA6B;EAAA,IAA1B+S,UAAU,GAAA/S,IAAA,CAAV+S,UAAU;IAAEC,UAAU,GAAAhT,IAAA,CAAVgT,UAAU;EACxD,IAAMlR,SAAS,GAAGjF,+DAAW,CAACpB,QAAQ,CAAC,IAAI,CAAC;EAC5C,IAAMsG,QAAQ,GAAGlF,+DAAW,CAACpB,QAAQ,CAAC,IAAI,CAAC;EAC3C;EACA;EACA;EACA;EACA;;EAEA,OACE5Z,CAAA,CAAC0f,yDAAK;IACJ/D,SAAS,EAAE;MAAEC,KAAK,EAAEqE,SAAS;MAAEhD,IAAI,EAAEiD;IAAS,CAAE;IAChDzB,QAAQ,EAAEyS,UAAW;IACrBxS,QAAQ,EAAEyS,UAAW;IACrB5U,KAAK,EAAE;IACP;EAAA,CACD,CAAC;AAEN,C;;;;;;;;;;;;;;;;;;;;;;;;ACrBgE;AAEf;AACjB;AACS;AACH;AAEtC,IAAMgH,WAAW,GAAG,SAAdA,WAAWA,CAAA,EAAS;EACxB,IAAMjjB,EAAE,GAAGC,oEAAK,CAAC,CAAC;EAElB,IACEkkB,eAAe,GAIbnkB,EAAE,CAJJmkB,eAAe;IACflD,gBAAgB,GAGdjhB,EAAE,CAHJihB,gBAAgB;IAChBN,UAAU,GAER3gB,EAAE,CAFJ2gB,UAAU;IACVO,yBAAyB,GACvBlhB,EAAE,CADJkhB,yBAAyB;EAG3B,IAAAG,SAAA,GAAkCjL,qEAAQ,CAAC,IAAI,CAAC;IAAAkL,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAzCyP,SAAS,GAAAxP,UAAA;IAAEyP,YAAY,GAAAzP,UAAA;EAC9B,IAAAI,UAAA,GAAwCtL,qEAAQ,CAAC,KAAK,CAAC;IAAAuL,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAhDsP,YAAY,GAAArP,UAAA;IAAEsP,eAAe,GAAAtP,UAAA;EACpC,IAAAG,UAAA,GAAwC1L,qEAAQ,CAAC,KAAK,CAAC;IAAA2L,UAAA,GAAAR,cAAA,CAAAO,UAAA;IAAhDoP,YAAY,GAAAnP,UAAA;IAAEoP,eAAe,GAAApP,UAAA;EACpC,IAAAsB,UAAA,GAA4CjN,qEAAQ,CAAC,IAAI,CAAC;IAAAkN,UAAA,GAAA/B,cAAA,CAAA8B,UAAA;IAAnD+N,cAAc,GAAA9N,UAAA;IAAE+N,iBAAiB,GAAA/N,UAAA;EAExC/M,sEAAS,CAAC,YAAM;IACd,IAAI,CAAC4N,eAAe,EAAE;IACtB,QAAQA,eAAe,CAAC5Y,IAAI;MAC1B,KAAK,UAAU;QACb,IAAI,CAACylB,YAAY,EAAEF,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAE3S,QAAQ,CAAAhd,KAAA,CAAnB2vB,SAAS,EAAAtM,kBAAA,CAAcL,eAAe,CAACmN,QAAQ,EAAC;QACnE;MACF,KAAK,UAAU;QACbR,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAE1S,QAAQ,CAAAjd,KAAA,CAAnB2vB,SAAS,EAAAtM,kBAAA,CAAcL,eAAe,CAACmN,QAAQ,EAAC;QAChD;IACJ;EACF,CAAC,EAAE,CAACR,SAAS,EAAE3M,eAAe,EAAE6M,YAAY,CAAC,CAAC;EAE9Cza,sEAAS,CAAC,YAAM;IACd,IAAI,CAACxU,MAAM,EAAE;IACbgvB,YAAY,CAAC,IAAIjE,gEAAS,CAAC,CAAC,CAAC;EAC/B,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMyE,cAAc,GAAGta,wEAAW,CAChC,UAACsC,IAAI,EAAK;IACRsL,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEvL,IAAI,CAAC;IAC5B,IAAIuX,SAAS,IAAI,CAACI,YAAY,EAAEJ,SAAS,CAAC3S,QAAQ,CAAC5E,IAAI,CAAC;IACxD,IAAI6X,cAAc,EAChBnQ,gBAAgB,CACdkB,IAAI,CAACK,SAAS,CAAC;MAAEjX,IAAI,EAAE,UAAU;MAAE+lB,QAAQ,EAAE,CAAC/X,IAAI;IAAE,CAAC,CACvD,CAAC;EACL,CAAC,EACD,CAAC0H,gBAAgB,EAAEmQ,cAAc,EAAEF,YAAY,EAAEJ,SAAS,CAC5D,CAAC;EAED,IAAMU,cAAc,GAAGva,wEAAW,CAChC,UAACsC,IAAI,EAAK;IACRsL,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEvL,IAAI,CAAC;IAC7B,IAAIuX,SAAS,EAAEA,SAAS,CAAC1S,QAAQ,CAAC7E,IAAI,CAAC;IACvC,IAAI6X,cAAc,EAChBnQ,gBAAgB,CACdkB,IAAI,CAACK,SAAS,CAAC;MAAEjX,IAAI,EAAE,UAAU;MAAE+lB,QAAQ,EAAE,CAAC/X,IAAI;IAAE,CAAC,CACvD,CAAC;EACL,CAAC,EACD,CAAC0H,gBAAgB,EAAEmQ,cAAc,EAAEN,SAAS,CAC9C,CAAC;EAED,IAAAtN,UAAA,GAAsDpN,qEAAQ,CAAC,IAAI,CAAC;IAAAqN,WAAA,GAAAlC,cAAA,CAAAiC,UAAA;IAA7DiO,mBAAmB,GAAAhO,WAAA;IAAEiO,sBAAsB,GAAAjO,WAAA;EAElD,IAAMkO,qBAAqB,GAAG1a,wEAAW,CACvC,UAAC2a,WAAW,EAAK;IACf,IAAI,CAACA,WAAW,CAACjxB,MAAM,EAAE;IAEzB,IAAI8wB,mBAAmB,EAAEI,aAAa,CAACJ,mBAAmB,CAAC;IAC3D5M,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;IAEtC,IAAIgN,cAAc;IAElBJ,sBAAsB,CACpBK,WAAW,CAAC,YAAM;MAChB,IAAMnQ,aAAa,GAAGjB,UAAU,CAACpC,IAAI,CACnC,UAACrZ,CAAC;QAAA,OAAKA,CAAC,CAACud,OAAO,KAAKmP,WAAW;MAAA,CAClC,CAAC;MACD,IAAI,CAAChQ,aAAa,EAAE;MACpBiD,OAAO,CAACC,GAAG,CAAC,eAAe,EAAElD,aAAa,CAAC;MAE3C,IAAMc,OAAO,GAAGd,aAAa,CAACc,OAAO,CAACnc,MAAM,CAAC,UAACX,CAAC;QAAA,OAAKA,CAAC,KAAK5F,EAAE,CAAC6P,EAAE;MAAA,EAAC;MAChE,IAAI,CAAC6S,OAAO,CAAC/hB,MAAM,EAAE;MACrBkkB,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEpC,OAAO,CAAC;MAE/B,IAAMsP,WAAW,GAAGF,cAAc,GAC9B,CAACpP,OAAO,CAACuP,SAAS,CAAC,UAACrsB,CAAC;QAAA,OAAKA,CAAC,KAAKksB,cAAc;MAAA,EAAC,GAAG,CAAC,IACnDpP,OAAO,CAAC/hB,MAAM,GACd,CAAC;MAELmxB,cAAc,GAAGA,cAAc,GAAGpP,OAAO,CAACsP,WAAW,CAAC,GAAGtP,OAAO,CAAC,CAAC,CAAC;MAEnEmC,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEpC,OAAO,EAAEoP,cAAc,EAAEE,WAAW,CAAC;MAE/D9Q,yBAAyB,CACvBiB,IAAI,CAACK,SAAS,CAAC;QAAEjX,IAAI,EAAE,UAAU;QAAE+lB,QAAQ,EAAE,CAAC,EAAE,GAAGU,WAAW;MAAE,CAAC,CAAC,EAClEF,cACF,CAAC;MAEDjpB,UAAU,CAAC,YAAM;QACfqY,yBAAyB,CACvBiB,IAAI,CAACK,SAAS,CAAC;UACbjX,IAAI,EAAE,UAAU;UAChB+lB,QAAQ,EAAE,CAAC,EAAE,GAAGU,WAAW;QAC7B,CAAC,CAAC,EACFF,cACF,CAAC;MACH,CAAC,EAAE,GAAG,CAAC;IACT,CAAC,EAAE,IAAI,CACT,CAAC;IAED,OAAO;MAAA,OAAMD,aAAa,CAACJ,mBAAmB,CAAC;IAAA;EACjD,CAAC,EACD,CAAC9Q,UAAU,EAAEO,yBAAyB,EAAEuQ,mBAAmB,EAAEzxB,EAAE,CAAC6P,EAAE,CACpE,CAAC;EAED,OACEnQ,CAAA,cACEA,CAAA,CAACQ,0DAAO;IAACC,SAAS,EAAEH;EAAG,CAAE,CAAC,EAE1BN,CAAA;IAAKkV,SAAS,EAAC;EAAM,GACnBlV,CAAA,cACEA,CAAA;IAAOijB,OAAO,EAAC;EAAM,GAAC,qBAA0B,CAAC,EACjDjjB,CAAA;IACE0D,IAAI,EAAE,eAAgB;IACtBmI,IAAI,EAAC,UAAU;IACf2mB,OAAO,EAAElB,YAAa;IACtBpjB,QAAQ,EAAE,SAAAA,SAAA;MAAA,OAAMqjB,eAAe,CAAC,UAACpqB,CAAC;QAAA,OAAK,CAACA,CAAC;MAAA,EAAC;IAAA;EAAC,CAC5C,CACE,CAAC,EACNnH,CAAA,cACEA,CAAA;IAAOijB,OAAO,EAAC;EAAM,GAAC,qBAA0B,CAAC,EACjDjjB,CAAA;IACE0D,IAAI,EAAE,eAAgB;IACtBmI,IAAI,EAAC,UAAU;IACf2mB,OAAO,EAAEhB,YAAa;IACtBtjB,QAAQ,EAAE,SAAAA,SAAA;MAAA,OAAMujB,eAAe,CAAC,UAACtqB,CAAC;QAAA,OAAK,CAACA,CAAC;MAAA,EAAC;IAAA;EAAC,CAC5C,CACE,CAAC,EACNnH,CAAA,cACEA,CAAA;IAAOijB,OAAO,EAAC;EAAgB,GAAC,iBAAsB,CAAC,EACvDjjB,CAAA;IACE0D,IAAI,EAAE,gBAAiB;IACvBmI,IAAI,EAAC,UAAU;IACf2mB,OAAO,EAAEd,cAAe;IACxBxjB,QAAQ,EAAE,SAAAA,SAAA;MAAA,OAAMyjB,iBAAiB,CAAC,CAACD,cAAc,CAAC;IAAA;EAAC,CACpD,CACE,CACF,CAAC,EACN1xB,CAAA;IAAKkV,SAAS,EAAC;EAA0B,GACvClV,CAAA,eAAM,qBAAyB,CAAC,EAChCA,CAAA;IACEkV,SAAS,EAAC,MAAM;IAChBxR,IAAI,EAAC,SAAS;IACdwK,QAAQ,EAAE,SAAAA,SAACzI,CAAC;MAAA,OAAKwsB,qBAAqB,CAACxsB,CAAC,CAACgH,MAAM,CAACzE,KAAK,CAAC;IAAA;EAAC,GACvDhI,CAAA,CAAAkY,QAAA,QACElY,CAAA,eAAS,CAAC,EACTihB,UAAU,CAACnW,GAAG,CAAC,UAACtF,CAAC;IAAA,OAChBxF,CAAA;MAAQ8B,GAAG,EAAE0D,CAAC,CAACud;IAAQ,GAAEvd,CAAC,CAACud,OAAgB,CAAC;EAAA,CAC7C,CACD,CACI,CACL,CAAC,EACN/iB,CAAA,CAACixB,sDAAS;IAACC,UAAU,EAAEW,cAAe;IAACV,UAAU,EAAEW;EAAe,CAAE,CACjE,CAAC;AAEV,CAAC;AAEcvO,oEAAW,E;;;;;;;;;ACzK1B;AACe,0DAAC,kDAAkD,E;;;;;;;;;;;;;;;;;;ACDf;AAEE;AACZ;AACH;AAEtC,IAAM6C,UAAU,GAAG,SAAbA,UAAUA,CAAA,EAAS;EACvB,IAAM9lB,EAAE,GAAGC,oEAAK,CAAC,CAAC;EAElB,IAAAohB,SAAA,GAA2BjL,qEAAQ,CAAC,IAAI,CAAC;IAAAkL,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAhC8Q,cAAc,GAAA7Q,UAAA;EAEvB/K,sEAAS,CAAC,YAAM;IACd,IAAI,CAACxU,MAAM,IAAI,CAACusB,SAAS,EAAE;IAC3B6D,cAAc,CAAC,IAAI/D,kEAAW,CAAC,CAAC,CAAC;EACnC,CAAC,EAAE,EAAE,CAAC;EAEN,OACE1uB,CAAA,cACEA,CAAA,CAACQ,0DAAO;IAACC,SAAS,EAAEH;EAAG,CAAE,CAAC,EAC1BN,CAAA;IAAKmQ,EAAE,EAAC,yBAAyB;IAACjQ,KAAK,EAAC;EAAiB,GACvDF,CAAA,YAAG,sCAAuC,CAAC,EAC3CA,CAAA;IAAOgR,GAAG,EAAC;EAAe,GAAC,qBAA0B,CAAC,EACtDhR,CAAA;IAAQmQ,EAAE,EAAC;EAAe,CAAE,CACzB,CACF,CAAC;AAEV,CAAC;AAEciW,mEAAU,E","file":"ssr-bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"QfWi\");\n","import style from './style.css';\nimport Basic from '../../components/clients/basic';\n\nconst Home = () => {\n  return (\n    <div class={style.home}>\n      <Basic />\n    </div>\n  );\n};\n\nexport default Home;\n","import Monitor from '../wsMonitor';\nimport useWs from '../../hooks/useWs';\n\nconst WsClient = () => {\n  const ws = useWs();\n\n  return <Monitor websocket={ws} />;\n};\n\nexport default WsClient;\n","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\tvar nativeCodeString = '[native code]';\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","module.exports = range;\n\n/*\n  range(0, 5); // [0, 1, 2, 3, 4]\n  range(5); // [0, 1, 2, 3, 4]\n  range(-5); // [0, -1, -2, -3, -4]\n  range(0, 20, 5) // [0, 5, 10, 15]\n  range(0, -20, -5) // [0, -5, -10, -15]\n*/\n\nfunction range(start, stop, step) {\n  if (start != null && typeof start != 'number') {\n    throw new Error('start must be a number or null');\n  }\n  if (stop != null && typeof stop != 'number') {\n    throw new Error('stop must be a number or null');\n  }\n  if (step != null && typeof step != 'number') {\n    throw new Error('step must be a number or null');\n  }\n  if (stop == null) {\n    stop = start || 0;\n    start = 0;\n  }\n  if (step == null) {\n    step = stop > start ? 1 : -1;\n  }\n  var toReturn = [];\n  var increasing = start < stop; //← here’s the change\n  for (; increasing ? start < stop : start > stop; start += step) {\n    toReturn.push(start);\n  }\n  return toReturn;\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","// extracted by mini-css-extract-plugin\nexport default {\"home\":\"home__uRcqa\",\"resource\":\"resource__reFLt\"};","module.exports = require(\"preact\");","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","import { options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n\n/** @type {import('./internal').Component} */\nlet previousComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet EMPTY = [];\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\tif (previousComponent === currentComponent) {\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentComponent._renderCallbacks = [];\n\t\t\thooks._list.forEach(hookItem => {\n\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t}\n\t\t\t\thookItem._pendingValue = EMPTY;\n\t\t\t\thookItem._nextValue = hookItem._pendingArgs = undefined;\n\t\t\t});\n\t\t} else {\n\t\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentIndex = 0;\n\t\t}\n\t}\n\tpreviousComponent = currentComponent;\n};\n\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tif (c.__hooks._pendingEffects.length) afterPaint(afterPaintEffects.push(c));\n\t\tc.__hooks._list.forEach(hookItem => {\n\t\t\tif (hookItem._pendingArgs) {\n\t\t\t\thookItem._args = hookItem._pendingArgs;\n\t\t\t}\n\t\t\tif (hookItem._pendingValue !== EMPTY) {\n\t\t\t\thookItem._value = hookItem._pendingValue;\n\t\t\t}\n\t\t\thookItem._pendingArgs = undefined;\n\t\t\thookItem._pendingValue = EMPTY;\n\t\t});\n\t}\n\tpreviousComponent = currentComponent = null;\n};\n\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tlet hasErrored;\n\t\tc.__hooks._list.forEach(s => {\n\t\t\ttry {\n\t\t\t\tinvokeCleanup(s);\n\t\t\t} catch (e) {\n\t\t\t\thasErrored = e;\n\t\t\t}\n\t\t});\n\t\tc.__hooks = undefined;\n\t\tif (hasErrored) options._catchError(hasErrored, c._vnode);\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {any}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({ _pendingValue: EMPTY });\n\t}\n\treturn hooks._list[index];\n}\n\n/**\n * @param {import('./index').StateUpdater<any>} [initialState]\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @param {import('./index').Reducer<any, any>} reducer\n * @param {import('./index').StateUpdater<any>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ any, (state: any) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst currentValue = hookState._nextValue\n\t\t\t\t\t? hookState._nextValue[0]\n\t\t\t\t\t: hookState._value[0];\n\t\t\t\tconst nextValue = hookState._reducer(currentValue, action);\n\n\t\t\t\tif (currentValue !== nextValue) {\n\t\t\t\t\thookState._nextValue = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\n\t\tif (!currentComponent._hasScuFromHooks) {\n\t\t\tcurrentComponent._hasScuFromHooks = true;\n\t\t\tlet prevScu = currentComponent.shouldComponentUpdate;\n\t\t\tconst prevCWU = currentComponent.componentWillUpdate;\n\n\t\t\t// If we're dealing with a forced update `shouldComponentUpdate` will\n\t\t\t// not be called. But we use that to update the hook values, so we\n\t\t\t// need to call it.\n\t\t\tcurrentComponent.componentWillUpdate = function (p, s, c) {\n\t\t\t\tif (this._force) {\n\t\t\t\t\tlet tmp = prevScu;\n\t\t\t\t\t// Clear to avoid other sCU hooks from being called\n\t\t\t\t\tprevScu = undefined;\n\t\t\t\t\tupdateHookState(p, s, c);\n\t\t\t\t\tprevScu = tmp;\n\t\t\t\t}\n\n\t\t\t\tif (prevCWU) prevCWU.call(this, p, s, c);\n\t\t\t};\n\n\t\t\t// This SCU has the purpose of bailing out after repeated updates\n\t\t\t// to stateful hooks.\n\t\t\t// we store the next value in _nextValue[0] and keep doing that for all\n\t\t\t// state setters, if we have next states and\n\t\t\t// all next states within a component end up being equal to their original state\n\t\t\t// we are safe to bail out for this specific component.\n\t\t\t/**\n\t\t\t *\n\t\t\t * @type {import('./internal').Component[\"shouldComponentUpdate\"]}\n\t\t\t */\n\t\t\t// @ts-ignore - We don't use TS to downtranspile\n\t\t\t// eslint-disable-next-line no-inner-declarations\n\t\t\tfunction updateHookState(p, s, c) {\n\t\t\t\tif (!hookState._component.__hooks) return true;\n\n\t\t\t\tconst stateHooks = hookState._component.__hooks._list.filter(\n\t\t\t\t\tx => x._component\n\t\t\t\t);\n\t\t\t\tconst allHooksEmpty = stateHooks.every(x => !x._nextValue);\n\t\t\t\t// When we have no updated hooks in the component we invoke the previous SCU or\n\t\t\t\t// traverse the VDOM tree further.\n\t\t\t\tif (allHooksEmpty) {\n\t\t\t\t\treturn prevScu ? prevScu.call(this, p, s, c) : true;\n\t\t\t\t}\n\n\t\t\t\t// We check whether we have components with a nextValue set that\n\t\t\t\t// have values that aren't equal to one another this pushes\n\t\t\t\t// us to update further down the tree\n\t\t\t\tlet shouldUpdate = false;\n\t\t\t\tstateHooks.forEach(hookItem => {\n\t\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\t\tconst currentValue = hookItem._value[0];\n\t\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t\t\thookItem._nextValue = undefined;\n\t\t\t\t\t\tif (currentValue !== hookItem._value[0]) shouldUpdate = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn shouldUpdate || hookState._component.props !== p\n\t\t\t\t\t? prevScu\n\t\t\t\t\t\t? prevScu.call(this, p, s, c)\n\t\t\t\t\t\t: true\n\t\t\t\t\t: false;\n\t\t\t}\n\n\t\t\tcurrentComponent.shouldComponentUpdate = updateHookState;\n\t\t}\n\t}\n\n\treturn hookState._nextValue || hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {any[]} args\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') {\n\t\t\t\tref(createHandle());\n\t\t\t\treturn () => ref(null);\n\t\t\t} else if (ref) {\n\t\t\t\tref.current = createHandle();\n\t\t\t\treturn () => (ref.current = null);\n\t\t\t}\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @param {() => any} factory\n * @param {any[]} args\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._pendingValue = factory();\n\t\tstate._pendingArgs = args;\n\t\tstate._factory = factory;\n\t\treturn state._pendingValue;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {any[]} args\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\t/** @type {import('./internal').ContextHookState} */\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(formatter ? formatter(value) : value);\n\t}\n}\n\n/**\n * @param {(error: any, errorInfo: import('preact').ErrorInfo) => void} cb\n */\nexport function useErrorBoundary(cb) {\n\t/** @type {import('./internal').ErrorBoundaryHookState} */\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = (err, errorInfo) => {\n\t\t\tif (state._value) state._value(err, errorInfo);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\nexport function useId() {\n\tconst state = getHookState(currentIndex++, 11);\n\tif (!state._value) {\n\t\t// Grab either the root node or the nearest async boundary node.\n\t\t/** @type {import('./internal.d').VNode} */\n\t\tlet root = currentComponent._vnode;\n\t\twhile (root !== null && !root._mask && root._parent !== null) {\n\t\t\troot = root._parent;\n\t\t}\n\n\t\tlet mask = root._mask || (root._mask = [0, 0]);\n\t\tstate._value = 'P' + mask[0] + '-' + mask[1]++;\n\t}\n\n\treturn state._value;\n}\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tlet component;\n\twhile ((component = afterPaintEffects.shift())) {\n\t\tif (!component._parentDom || !component.__hooks) continue;\n\t\ttry {\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t} catch (e) {\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t}\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tlet cleanup = hook._cleanup;\n\tif (typeof cleanup == 'function') {\n\t\thook._cleanup = undefined;\n\t\tcleanup();\n\t}\n\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {any[]} oldArgs\n * @param {any[]} newArgs\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n","// extracted by mini-css-extract-plugin\nexport {};","\nconst EMPTY = {};\n\nexport function assign(obj, props) {\n\t// eslint-disable-next-line guard-for-in\n\tfor (let i in props) {\n\t\tobj[i] = props[i];\n\t}\n\treturn obj;\n}\n\nexport function exec(url, route, opts) {\n\tlet reg = /(?:\\?([^#]*))?(#.*)?$/,\n\t\tc = url.match(reg),\n\t\tmatches = {},\n\t\tret;\n\tif (c && c[1]) {\n\t\tlet p = c[1].split('&');\n\t\tfor (let i=0; i<p.length; i++) {\n\t\t\tlet r = p[i].split('=');\n\t\t\tmatches[decodeURIComponent(r[0])] = decodeURIComponent(r.slice(1).join('='));\n\t\t}\n\t}\n\turl = segmentize(url.replace(reg, ''));\n\troute = segmentize(route || '');\n\tlet max = Math.max(url.length, route.length);\n\tfor (let i=0; i<max; i++) {\n\t\tif (route[i] && route[i].charAt(0)===':') {\n\t\t\tlet param = route[i].replace(/(^:|[+*?]+$)/g, ''),\n\t\t\t\tflags = (route[i].match(/[+*?]+$/) || EMPTY)[0] || '',\n\t\t\t\tplus = ~flags.indexOf('+'),\n\t\t\t\tstar = ~flags.indexOf('*'),\n\t\t\t\tval = url[i] || '';\n\t\t\tif (!val && !star && (flags.indexOf('?')<0 || plus)) {\n\t\t\t\tret = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatches[param] = decodeURIComponent(val);\n\t\t\tif (plus || star) {\n\t\t\t\tmatches[param] = url.slice(i).map(decodeURIComponent).join('/');\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\telse if (route[i]!==url[i]) {\n\t\t\tret = false;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (opts.default!==true && ret===false) return false;\n\treturn matches;\n}\n\nexport function pathRankSort(a, b) {\n\treturn (\n\t\t(a.rank < b.rank) ? 1 :\n\t\t\t(a.rank > b.rank) ? -1 :\n\t\t\t\t(a.index - b.index)\n\t);\n}\n\n// filter out VNodes without attributes (which are unrankeable), and add `index`/`rank` properties to be used in sorting.\nexport function prepareVNodeForRanking(vnode, index) {\n\tvnode.index = index;\n\tvnode.rank = rankChild(vnode);\n\treturn vnode.props;\n}\n\nexport function segmentize(url) {\n\treturn url.replace(/(^\\/+|\\/+$)/g, '').split('/');\n}\n\nexport function rankSegment(segment) {\n\treturn segment.charAt(0)==':' ? (1 + '*+?'.indexOf(segment.charAt(segment.length-1))) || 4 : 5;\n}\n\nexport function rank(path) {\n\treturn segmentize(path).map(rankSegment).join('');\n}\n\nfunction rankChild(vnode) {\n\treturn vnode.props.default ? 0 : rank(vnode.props.path);\n}\n","import { cloneElement, createElement, Component, toChildArray } from 'preact';\nimport { exec, prepareVNodeForRanking, assign, pathRankSort } from './util';\n\nlet customHistory = null;\n\nconst ROUTERS = [];\n\nconst subscribers = [];\n\nconst EMPTY = {};\n\nfunction setUrl(url, type='push') {\n\tif (customHistory && customHistory[type]) {\n\t\tcustomHistory[type](url);\n\t}\n\telse if (typeof history!=='undefined' && history[type+'State']) {\n\t\thistory[type+'State'](null, null, url);\n\t}\n}\n\n\nfunction getCurrentUrl() {\n\tlet url;\n\tif (customHistory && customHistory.location) {\n\t\turl = customHistory.location;\n\t}\n\telse if (customHistory && customHistory.getCurrentLocation) {\n\t\turl = customHistory.getCurrentLocation();\n\t}\n\telse {\n\t\turl = typeof location!=='undefined' ? location : EMPTY;\n\t}\n\treturn `${url.pathname || ''}${url.search || ''}`;\n}\n\n\n\nfunction route(url, replace=false) {\n\tif (typeof url!=='string' && url.url) {\n\t\treplace = url.replace;\n\t\turl = url.url;\n\t}\n\n\t// only push URL into history if we can handle it\n\tif (canRoute(url)) {\n\t\tsetUrl(url, replace ? 'replace' : 'push');\n\t}\n\n\treturn routeTo(url);\n}\n\n\n/** Check if the given URL can be handled by any router instances. */\nfunction canRoute(url) {\n\tfor (let i=ROUTERS.length; i--; ) {\n\t\tif (ROUTERS[i].canRoute(url)) return true;\n\t}\n\treturn false;\n}\n\n\n/** Tell all router instances to handle the given URL.  */\nfunction routeTo(url) {\n\tlet didRoute = false;\n\tfor (let i=0; i<ROUTERS.length; i++) {\n\t\tif (ROUTERS[i].routeTo(url)===true) {\n\t\t\tdidRoute = true;\n\t\t}\n\t}\n\tfor (let i=subscribers.length; i--; ) {\n\t\tsubscribers[i](url);\n\t}\n\treturn didRoute;\n}\n\n\nfunction routeFromLink(node) {\n\t// only valid elements\n\tif (!node || !node.getAttribute) return;\n\n\tlet href = node.getAttribute('href'),\n\t\ttarget = node.getAttribute('target');\n\n\t// ignore links with targets and non-path URLs\n\tif (!href || !href.match(/^\\//g) || (target && !target.match(/^_?self$/i))) return;\n\n\t// attempt to route, if no match simply cede control to browser\n\treturn route(href);\n}\n\n\nfunction handleLinkClick(e) {\n\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button!==0) return;\n\trouteFromLink(e.currentTarget || e.target || this);\n\treturn prevent(e);\n}\n\n\nfunction prevent(e) {\n\tif (e) {\n\t\tif (e.stopImmediatePropagation) e.stopImmediatePropagation();\n\t\tif (e.stopPropagation) e.stopPropagation();\n\t\te.preventDefault();\n\t}\n\treturn false;\n}\n\n\nfunction delegateLinkHandler(e) {\n\t// ignore events the browser takes care of already:\n\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button!==0) return;\n\n\tlet t = e.target;\n\tdo {\n\t\tif (String(t.nodeName).toUpperCase()==='A' && t.getAttribute('href')) {\n\t\t\tif (t.hasAttribute('native')) return;\n\t\t\t// if link is handled by the router, prevent browser defaults\n\t\t\tif (routeFromLink(t)) {\n\t\t\t\treturn prevent(e);\n\t\t\t}\n\t\t}\n\t} while ((t=t.parentNode));\n}\n\n\nlet eventListenersInitialized = false;\n\nfunction initEventListeners() {\n\tif (eventListenersInitialized) return;\n\n\tif (typeof addEventListener==='function') {\n\t\tif (!customHistory) {\n\t\t\taddEventListener('popstate', () => {\n\t\t\t\trouteTo(getCurrentUrl());\n\t\t\t});\n\t\t}\n\t\taddEventListener('click', delegateLinkHandler);\n\t}\n\teventListenersInitialized = true;\n}\n\n\nclass Router extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tif (props.history) {\n\t\t\tcustomHistory = props.history;\n\t\t}\n\n\t\tthis.state = {\n\t\t\turl: props.url || getCurrentUrl()\n\t\t};\n\n\t\tinitEventListeners();\n\t}\n\n\tshouldComponentUpdate(props) {\n\t\tif (props.static!==true) return true;\n\t\treturn props.url!==this.props.url || props.onChange!==this.props.onChange;\n\t}\n\n\t/** Check if the given URL can be matched against any children */\n\tcanRoute(url) {\n\t\tconst children = toChildArray(this.props.children);\n\t\treturn this.getMatchingChildren(children, url, false).length > 0;\n\t}\n\n\t/** Re-render children with a new URL to match against. */\n\trouteTo(url) {\n\t\tthis.setState({ url });\n\n\t\tconst didRoute = this.canRoute(url);\n\n\t\t// trigger a manual re-route if we're not in the middle of an update:\n\t\tif (!this.updating) this.forceUpdate();\n\n\t\treturn didRoute;\n\t}\n\n\tcomponentWillMount() {\n\t\tROUTERS.push(this);\n\t\tthis.updating = true;\n\t}\n\n\tcomponentDidMount() {\n\t\tif (customHistory) {\n\t\t\tthis.unlisten = customHistory.listen((location) => {\n\t\t\t\tthis.routeTo(`${location.pathname || ''}${location.search || ''}`);\n\t\t\t});\n\t\t}\n\t\tthis.updating = false;\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif (typeof this.unlisten==='function') this.unlisten();\n\t\tROUTERS.splice(ROUTERS.indexOf(this), 1);\n\t}\n\n\tcomponentWillUpdate() {\n\t\tthis.updating = true;\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.updating = false;\n\t}\n\n\tgetMatchingChildren(children, url, invoke) {\n\t\treturn children\n\t\t\t.filter(prepareVNodeForRanking)\n\t\t\t.sort(pathRankSort)\n\t\t\t.map( vnode => {\n\t\t\t\tlet matches = exec(url, vnode.props.path, vnode.props);\n\t\t\t\tif (matches) {\n\t\t\t\t\tif (invoke !== false) {\n\t\t\t\t\t\tlet newProps = { url, matches };\n\t\t\t\t\t\tassign(newProps, matches);\n\t\t\t\t\t\tdelete newProps.ref;\n\t\t\t\t\t\tdelete newProps.key;\n\t\t\t\t\t\treturn cloneElement(vnode, newProps);\n\t\t\t\t\t}\n\t\t\t\t\treturn vnode;\n\t\t\t\t}\n\t\t\t}).filter(Boolean);\n\t}\n\n\trender({ children, onChange }, { url }) {\n\t\tlet active = this.getMatchingChildren(toChildArray(children), url, true);\n\n\t\tlet current = active[0] || null;\n\n\t\tlet previous = this.previousUrl;\n\t\tif (url!==previous) {\n\t\t\tthis.previousUrl = url;\n\t\t\tif (typeof onChange==='function') {\n\t\t\t\tonChange({\n\t\t\t\t\trouter: this,\n\t\t\t\t\turl,\n\t\t\t\t\tprevious,\n\t\t\t\t\tactive,\n\t\t\t\t\tcurrent\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn current;\n\t}\n}\n\nconst Link = (props) => (\n\tcreateElement('a', assign({ onClick: handleLinkClick }, props))\n);\n\nconst Route = props => createElement(props.component, props);\n\nRouter.subscribers = subscribers;\nRouter.getCurrentUrl = getCurrentUrl;\nRouter.route = route;\nRouter.Router = Router;\nRouter.Route = Route;\nRouter.Link = Link;\nRouter.exec = exec;\n\nexport { subscribers, getCurrentUrl, route, Router, Route, Link, exec };\nexport default Router;\n","import { h } from 'preact';\nimport { Router } from 'preact-router';\n\nimport Header from './header';\n\n// Code-splitting is automated for `routes` directory\nimport Home from '../routes/home';\nimport Synth from '../routes/synth';\nimport MIDI from '../routes/midi';\n\nconst App = () => (\n  <div id='app'>\n    <Header />\n    <main>\n      <Router>\n        <Home path='/' />\n        <Synth path='/synth' />\n        <MIDI path='/midi' />\n      </Router>\n    </main>\n  </div>\n);\n\nexport default App;\n","import './style';\nimport App from './components/app';\n\nexport default App;\n","/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Check if two objects have a different shape\n * @param {object} a\n * @param {object} b\n * @returns {boolean}\n */\nexport function shallowDiffers(a, b) {\n\tfor (let i in a) if (i !== '__source' && !(i in b)) return true;\n\tfor (let i in b) if (i !== '__source' && a[i] !== b[i]) return true;\n\treturn false;\n}\n\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\n/**\n * Check if two values are the same value\n * @param {*} x\n * @param {*} y\n * @returns {boolean}\n */\nexport function is(x, y) {\n\treturn (x === y && (x !== 0 || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\n","import { Component } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Component class with a predefined `shouldComponentUpdate` implementation\n */\nexport function PureComponent(p) {\n\tthis.props = p;\n}\nPureComponent.prototype = new Component();\n// Some third-party libraries check if this property is present\nPureComponent.prototype.isPureReactComponent = true;\nPureComponent.prototype.shouldComponentUpdate = function (props, state) {\n\treturn shallowDiffers(this.props, props) || shallowDiffers(this.state, state);\n};\n","import { createElement } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Memoize a component, so that it only updates when the props actually have\n * changed. This was previously known as `React.pure`.\n * @param {import('./internal').FunctionComponent} c functional component\n * @param {(prev: object, next: object) => boolean} [comparer] Custom equality function\n * @returns {import('./internal').FunctionComponent}\n */\nexport function memo(c, comparer) {\n\tfunction shouldUpdate(nextProps) {\n\t\tlet ref = this.props.ref;\n\t\tlet updateRef = ref == nextProps.ref;\n\t\tif (!updateRef && ref) {\n\t\t\tref.call ? ref(null) : (ref.current = null);\n\t\t}\n\n\t\tif (!comparer) {\n\t\t\treturn shallowDiffers(this.props, nextProps);\n\t\t}\n\n\t\treturn !comparer(this.props, nextProps) || !updateRef;\n\t}\n\n\tfunction Memoed(props) {\n\t\tthis.shouldComponentUpdate = shouldUpdate;\n\t\treturn createElement(c, props);\n\t}\n\tMemoed.displayName = 'Memo(' + (c.displayName || c.name) + ')';\n\tMemoed.prototype.isReactComponent = true;\n\tMemoed._forwarded = true;\n\treturn Memoed;\n}\n","import { options } from 'preact';\nimport { assign } from './util';\n\nlet oldDiffHook = options._diff;\noptions._diff = vnode => {\n\tif (vnode.type && vnode.type._forwarded && vnode.ref) {\n\t\tvnode.props.ref = vnode.ref;\n\t\tvnode.ref = null;\n\t}\n\tif (oldDiffHook) oldDiffHook(vnode);\n};\n\nexport const REACT_FORWARD_SYMBOL =\n\t(typeof Symbol != 'undefined' &&\n\t\tSymbol.for &&\n\t\tSymbol.for('react.forward_ref')) ||\n\t0xf47;\n\n/**\n * Pass ref down to a child. This is mainly used in libraries with HOCs that\n * wrap components. Using `forwardRef` there is an easy way to get a reference\n * of the wrapped component instead of one of the wrapper itself.\n * @param {import('./index').ForwardFn} fn\n * @returns {import('./internal').FunctionComponent}\n */\nexport function forwardRef(fn) {\n\tfunction Forwarded(props) {\n\t\tlet clone = assign({}, props);\n\t\tdelete clone.ref;\n\t\treturn fn(clone, props.ref || null);\n\t}\n\n\t// mobx-react checks for this being present\n\tForwarded.$$typeof = REACT_FORWARD_SYMBOL;\n\t// mobx-react heavily relies on implementation details.\n\t// It expects an object here with a `render` property,\n\t// and prototype.render will fail. Without this\n\t// mobx-react throws.\n\tForwarded.render = Forwarded;\n\n\tForwarded.prototype.isReactComponent = Forwarded._forwarded = true;\n\tForwarded.displayName = 'ForwardRef(' + (fn.displayName || fn.name) + ')';\n\treturn Forwarded;\n}\n","import { toChildArray } from 'preact';\n\nconst mapFn = (children, fn) => {\n\tif (children == null) return null;\n\treturn toChildArray(toChildArray(children).map(fn));\n};\n\n// This API is completely unnecessary for Preact, so it's basically passthrough.\nexport const Children = {\n\tmap: mapFn,\n\tforEach: mapFn,\n\tcount(children) {\n\t\treturn children ? toChildArray(children).length : 0;\n\t},\n\tonly(children) {\n\t\tconst normalized = toChildArray(children);\n\t\tif (normalized.length !== 1) throw 'Children.only';\n\t\treturn normalized[0];\n\t},\n\ttoArray: toChildArray\n};\n","import { Component, createElement, options, Fragment } from 'preact';\nimport { assign } from './util';\n\nconst oldCatchError = options._catchError;\noptions._catchError = function (error, newVNode, oldVNode, errorInfo) {\n\tif (error.then) {\n\t\t/** @type {import('./internal').Component} */\n\t\tlet component;\n\t\tlet vnode = newVNode;\n\n\t\tfor (; (vnode = vnode._parent); ) {\n\t\t\tif ((component = vnode._component) && component._childDidSuspend) {\n\t\t\t\tif (newVNode._dom == null) {\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t}\n\t\t\t\t// Don't call oldCatchError if we found a Suspense\n\t\t\t\treturn component._childDidSuspend(error, newVNode);\n\t\t\t}\n\t\t}\n\t}\n\toldCatchError(error, newVNode, oldVNode, errorInfo);\n};\n\nconst oldUnmount = options.unmount;\noptions.unmount = function (vnode) {\n\t/** @type {import('./internal').Component} */\n\tconst component = vnode._component;\n\tif (component && component._onResolve) {\n\t\tcomponent._onResolve();\n\t}\n\n\t// if the component is still hydrating\n\t// most likely it is because the component is suspended\n\t// we set the vnode.type as `null` so that it is not a typeof function\n\t// so the unmount will remove the vnode._dom\n\tif (component && vnode._hydrating === true) {\n\t\tvnode.type = null;\n\t}\n\n\tif (oldUnmount) oldUnmount(vnode);\n};\n\nfunction detachedClone(vnode, detachedParent, parentDom) {\n\tif (vnode) {\n\t\tif (vnode._component && vnode._component.__hooks) {\n\t\t\tvnode._component.__hooks._list.forEach(effect => {\n\t\t\t\tif (typeof effect._cleanup == 'function') effect._cleanup();\n\t\t\t});\n\n\t\t\tvnode._component.__hooks = null;\n\t\t}\n\n\t\tvnode = assign({}, vnode);\n\t\tif (vnode._component != null) {\n\t\t\tif (vnode._component._parentDom === parentDom) {\n\t\t\t\tvnode._component._parentDom = detachedParent;\n\t\t\t}\n\t\t\tvnode._component = null;\n\t\t}\n\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tdetachedClone(child, detachedParent, parentDom)\n\t\t\t);\n\t}\n\n\treturn vnode;\n}\n\nfunction removeOriginal(vnode, detachedParent, originalParent) {\n\tif (vnode) {\n\t\tvnode._original = null;\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tremoveOriginal(child, detachedParent, originalParent)\n\t\t\t);\n\n\t\tif (vnode._component) {\n\t\t\tif (vnode._component._parentDom === detachedParent) {\n\t\t\t\tif (vnode._dom) {\n\t\t\t\t\toriginalParent.insertBefore(vnode._dom, vnode._nextDom);\n\t\t\t\t}\n\t\t\t\tvnode._component._force = true;\n\t\t\t\tvnode._component._parentDom = originalParent;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn vnode;\n}\n\n// having custom inheritance instead of a class here saves a lot of bytes\nexport function Suspense() {\n\t// we do not call super here to golf some bytes...\n\tthis._pendingSuspensionCount = 0;\n\tthis._suspenders = null;\n\tthis._detachOnNextRender = null;\n}\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspense.prototype = new Component();\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {Promise} promise The thrown promise\n * @param {import('./internal').VNode<any, any>} suspendingVNode The suspending component\n */\nSuspense.prototype._childDidSuspend = function (promise, suspendingVNode) {\n\tconst suspendingComponent = suspendingVNode._component;\n\n\t/** @type {import('./internal').SuspenseComponent} */\n\tconst c = this;\n\n\tif (c._suspenders == null) {\n\t\tc._suspenders = [];\n\t}\n\tc._suspenders.push(suspendingComponent);\n\n\tconst resolve = suspended(c._vnode);\n\n\tlet resolved = false;\n\tconst onResolved = () => {\n\t\tif (resolved) return;\n\n\t\tresolved = true;\n\t\tsuspendingComponent._onResolve = null;\n\n\t\tif (resolve) {\n\t\t\tresolve(onSuspensionComplete);\n\t\t} else {\n\t\t\tonSuspensionComplete();\n\t\t}\n\t};\n\n\tsuspendingComponent._onResolve = onResolved;\n\n\tconst onSuspensionComplete = () => {\n\t\tif (!--c._pendingSuspensionCount) {\n\t\t\t// If the suspension was during hydration we don't need to restore the\n\t\t\t// suspended children into the _children array\n\t\t\tif (c.state._suspended) {\n\t\t\t\tconst suspendedVNode = c.state._suspended;\n\t\t\t\tc._vnode._children[0] = removeOriginal(\n\t\t\t\t\tsuspendedVNode,\n\t\t\t\t\tsuspendedVNode._component._parentDom,\n\t\t\t\t\tsuspendedVNode._component._originalParentDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tc.setState({ _suspended: (c._detachOnNextRender = null) });\n\n\t\t\tlet suspended;\n\t\t\twhile ((suspended = c._suspenders.pop())) {\n\t\t\t\tsuspended.forceUpdate();\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * We do not set `suspended: true` during hydration because we want the actual markup\n\t * to remain on screen and hydrate it when the suspense actually gets resolved.\n\t * While in non-hydration cases the usual fallback -> component flow would occour.\n\t */\n\tconst wasHydrating = suspendingVNode._hydrating === true;\n\tif (!c._pendingSuspensionCount++ && !wasHydrating) {\n\t\tc.setState({ _suspended: (c._detachOnNextRender = c._vnode._children[0]) });\n\t}\n\tpromise.then(onResolved, onResolved);\n};\n\nSuspense.prototype.componentWillUnmount = function () {\n\tthis._suspenders = [];\n};\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {import('./internal').SuspenseComponent[\"props\"]} props\n * @param {import('./internal').SuspenseState} state\n */\nSuspense.prototype.render = function (props, state) {\n\tif (this._detachOnNextRender) {\n\t\t// When the Suspense's _vnode was created by a call to createVNode\n\t\t// (i.e. due to a setState further up in the tree)\n\t\t// it's _children prop is null, in this case we \"forget\" about the parked vnodes to detach\n\t\tif (this._vnode._children) {\n\t\t\tconst detachedParent = document.createElement('div');\n\t\t\tconst detachedComponent = this._vnode._children[0]._component;\n\t\t\tthis._vnode._children[0] = detachedClone(\n\t\t\t\tthis._detachOnNextRender,\n\t\t\t\tdetachedParent,\n\t\t\t\t(detachedComponent._originalParentDom = detachedComponent._parentDom)\n\t\t\t);\n\t\t}\n\n\t\tthis._detachOnNextRender = null;\n\t}\n\n\t// Wrap fallback tree in a VNode that prevents itself from being marked as aborting mid-hydration:\n\t/** @type {import('./internal').VNode} */\n\tconst fallback =\n\t\tstate._suspended && createElement(Fragment, null, props.fallback);\n\tif (fallback) fallback._hydrating = null;\n\n\treturn [\n\t\tcreateElement(Fragment, null, state._suspended ? null : props.children),\n\t\tfallback\n\t];\n};\n\n/**\n * Checks and calls the parent component's _suspended method, passing in the\n * suspended vnode. This is a way for a parent (e.g. SuspenseList) to get notified\n * that one of its children/descendants suspended.\n *\n * The parent MAY return a callback. The callback will get called when the\n * suspension resolves, notifying the parent of the fact.\n * Moreover, the callback gets function `unsuspend` as a parameter. The resolved\n * child descendant will not actually get unsuspended until `unsuspend` gets called.\n * This is a way for the parent to delay unsuspending.\n *\n * If the parent does not return a callback then the resolved vnode\n * gets unsuspended immediately when it resolves.\n *\n * @param {import('./internal').VNode} vnode\n * @returns {((unsuspend: () => void) => void)?}\n */\nexport function suspended(vnode) {\n\t/** @type {import('./internal').Component} */\n\tlet component = vnode._parent._component;\n\treturn component && component._suspended && component._suspended(vnode);\n}\n\nexport function lazy(loader) {\n\tlet prom;\n\tlet component;\n\tlet error;\n\n\tfunction Lazy(props) {\n\t\tif (!prom) {\n\t\t\tprom = loader();\n\t\t\tprom.then(\n\t\t\t\texports => {\n\t\t\t\t\tcomponent = exports.default || exports;\n\t\t\t\t},\n\t\t\t\te => {\n\t\t\t\t\terror = e;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tif (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (!component) {\n\t\t\tthrow prom;\n\t\t}\n\n\t\treturn createElement(component, props);\n\t}\n\n\tLazy.displayName = 'Lazy';\n\tLazy._forwarded = true;\n\treturn Lazy;\n}\n","import { Component, toChildArray } from 'preact';\nimport { suspended } from './suspense.js';\n\n// Indexes to linked list nodes (nodes are stored as arrays to save bytes).\nconst SUSPENDED_COUNT = 0;\nconst RESOLVED_COUNT = 1;\nconst NEXT_NODE = 2;\n\n// Having custom inheritance instead of a class here saves a lot of bytes.\nexport function SuspenseList() {\n\tthis._next = null;\n\tthis._map = null;\n}\n\n// Mark one of child's earlier suspensions as resolved.\n// Some pending callbacks may become callable due to this\n// (e.g. the last suspended descendant gets resolved when\n// revealOrder === 'together'). Process those callbacks as well.\nconst resolve = (list, child, node) => {\n\tif (++node[RESOLVED_COUNT] === node[SUSPENDED_COUNT]) {\n\t\t// The number a child (or any of its descendants) has been suspended\n\t\t// matches the number of times it's been resolved. Therefore we\n\t\t// mark the child as completely resolved by deleting it from ._map.\n\t\t// This is used to figure out when *all* children have been completely\n\t\t// resolved when revealOrder is 'together'.\n\t\tlist._map.delete(child);\n\t}\n\n\t// If revealOrder is falsy then we can do an early exit, as the\n\t// callbacks won't get queued in the node anyway.\n\t// If revealOrder is 'together' then also do an early exit\n\t// if all suspended descendants have not yet been resolved.\n\tif (\n\t\t!list.props.revealOrder ||\n\t\t(list.props.revealOrder[0] === 't' && list._map.size)\n\t) {\n\t\treturn;\n\t}\n\n\t// Walk the currently suspended children in order, calling their\n\t// stored callbacks on the way. Stop if we encounter a child that\n\t// has not been completely resolved yet.\n\tnode = list._next;\n\twhile (node) {\n\t\twhile (node.length > 3) {\n\t\t\tnode.pop()();\n\t\t}\n\t\tif (node[RESOLVED_COUNT] < node[SUSPENDED_COUNT]) {\n\t\t\tbreak;\n\t\t}\n\t\tlist._next = node = node[NEXT_NODE];\n\t}\n};\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspenseList.prototype = new Component();\n\nSuspenseList.prototype._suspended = function (child) {\n\tconst list = this;\n\tconst delegated = suspended(list._vnode);\n\n\tlet node = list._map.get(child);\n\tnode[SUSPENDED_COUNT]++;\n\n\treturn unsuspend => {\n\t\tconst wrappedUnsuspend = () => {\n\t\t\tif (!list.props.revealOrder) {\n\t\t\t\t// Special case the undefined (falsy) revealOrder, as there\n\t\t\t\t// is no need to coordinate a specific order or unsuspends.\n\t\t\t\tunsuspend();\n\t\t\t} else {\n\t\t\t\tnode.push(unsuspend);\n\t\t\t\tresolve(list, child, node);\n\t\t\t}\n\t\t};\n\t\tif (delegated) {\n\t\t\tdelegated(wrappedUnsuspend);\n\t\t} else {\n\t\t\twrappedUnsuspend();\n\t\t}\n\t};\n};\n\nSuspenseList.prototype.render = function (props) {\n\tthis._next = null;\n\tthis._map = new Map();\n\n\tconst children = toChildArray(props.children);\n\tif (props.revealOrder && props.revealOrder[0] === 'b') {\n\t\t// If order === 'backwards' (or, well, anything starting with a 'b')\n\t\t// then flip the child list around so that the last child will be\n\t\t// the first in the linked list.\n\t\tchildren.reverse();\n\t}\n\t// Build the linked list. Iterate through the children in reverse order\n\t// so that `_next` points to the first linked list node to be resolved.\n\tfor (let i = children.length; i--; ) {\n\t\t// Create a new linked list node as an array of form:\n\t\t// \t[suspended_count, resolved_count, next_node]\n\t\t// where suspended_count and resolved_count are numeric counters for\n\t\t// keeping track how many times a node has been suspended and resolved.\n\t\t//\n\t\t// Note that suspended_count starts from 1 instead of 0, so we can block\n\t\t// processing callbacks until componentDidMount has been called. In a sense\n\t\t// node is suspended at least until componentDidMount gets called!\n\t\t//\n\t\t// Pending callbacks are added to the end of the node:\n\t\t// \t[suspended_count, resolved_count, next_node, callback_0, callback_1, ...]\n\t\tthis._map.set(children[i], (this._next = [1, 0, this._next]));\n\t}\n\treturn props.children;\n};\n\nSuspenseList.prototype.componentDidUpdate =\n\tSuspenseList.prototype.componentDidMount = function () {\n\t\t// Iterate through all children after mounting for two reasons:\n\t\t// 1. As each node[SUSPENDED_COUNT] starts from 1, this iteration increases\n\t\t//    each node[RELEASED_COUNT] by 1, therefore balancing the counters.\n\t\t//    The nodes can now be completely consumed from the linked list.\n\t\t// 2. Handle nodes that might have gotten resolved between render and\n\t\t//    componentDidMount.\n\t\tthis._map.forEach((node, child) => {\n\t\t\tresolve(this, child, node);\n\t\t});\n\t};\n","import { createElement, render } from 'preact';\n\n/**\n * @param {import('../../src/index').RenderableProps<{ context: any }>} props\n */\nfunction ContextProvider(props) {\n\tthis.getChildContext = () => props.context;\n\treturn props.children;\n}\n\n/**\n * Portal component\n * @this {import('./internal').Component}\n * @param {object | null | undefined} props\n *\n * TODO: use createRoot() instead of fake root\n */\nfunction Portal(props) {\n\tconst _this = this;\n\tlet container = props._container;\n\n\t_this.componentWillUnmount = function () {\n\t\trender(null, _this._temp);\n\t\t_this._temp = null;\n\t\t_this._container = null;\n\t};\n\n\t// When we change container we should clear our old container and\n\t// indicate a new mount.\n\tif (_this._container && _this._container !== container) {\n\t\t_this.componentWillUnmount();\n\t}\n\n\t// When props.vnode is undefined/false/null we are dealing with some kind of\n\t// conditional vnode. This should not trigger a render.\n\tif (props._vnode) {\n\t\tif (!_this._temp) {\n\t\t\t_this._container = container;\n\n\t\t\t// Create a fake DOM parent node that manages a subset of `container`'s children:\n\t\t\t_this._temp = {\n\t\t\t\tnodeType: 1,\n\t\t\t\tparentNode: container,\n\t\t\t\tchildNodes: [],\n\t\t\t\tappendChild(child) {\n\t\t\t\t\tthis.childNodes.push(child);\n\t\t\t\t\t_this._container.appendChild(child);\n\t\t\t\t},\n\t\t\t\tinsertBefore(child, before) {\n\t\t\t\t\tthis.childNodes.push(child);\n\t\t\t\t\t_this._container.appendChild(child);\n\t\t\t\t},\n\t\t\t\tremoveChild(child) {\n\t\t\t\t\tthis.childNodes.splice(this.childNodes.indexOf(child) >>> 1, 1);\n\t\t\t\t\t_this._container.removeChild(child);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t// Render our wrapping element into temp.\n\t\trender(\n\t\t\tcreateElement(ContextProvider, { context: _this.context }, props._vnode),\n\t\t\t_this._temp\n\t\t);\n\t}\n\t// When we come from a conditional render, on a mounted\n\t// portal we should clear the DOM.\n\telse if (_this._temp) {\n\t\t_this.componentWillUnmount();\n\t}\n}\n\n/**\n * Create a `Portal` to continue rendering the vnode tree at a different DOM node\n * @param {import('./internal').VNode} vnode The vnode to render\n * @param {import('./internal').PreactElement} container The DOM node to continue rendering in to.\n */\nexport function createPortal(vnode, container) {\n\tconst el = createElement(Portal, { _vnode: vnode, _container: container });\n\tel.containerInfo = container;\n\treturn el;\n}\n","import {\n\trender as preactRender,\n\thydrate as preactHydrate,\n\toptions,\n\ttoChildArray,\n\tComponent\n} from 'preact';\n\nexport const REACT_ELEMENT_TYPE =\n\t(typeof Symbol != 'undefined' && Symbol.for && Symbol.for('react.element')) ||\n\t0xeac7;\n\nconst CAMEL_PROPS =\n\t/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;\nconst ON_ANI = /^on(Ani|Tra|Tou|BeforeInp|Compo)/;\nconst CAMEL_REPLACE = /[A-Z0-9]/g;\n\nconst IS_DOM = typeof document !== 'undefined';\n\n// Input types for which onchange should not be converted to oninput.\n// type=\"file|checkbox|radio\", plus \"range\" in IE11.\n// (IE11 doesn't support Symbol, which we use here to turn `rad` into `ra` which matches \"range\")\nconst onChangeInputType = type =>\n\t(typeof Symbol != 'undefined' && typeof Symbol() == 'symbol'\n\t\t? /fil|che|rad/\n\t\t: /fil|che|ra/\n\t).test(type);\n\n// Some libraries like `react-virtualized` explicitly check for this.\nComponent.prototype.isReactComponent = {};\n\n// `UNSAFE_*` lifecycle hooks\n// Preact only ever invokes the unprefixed methods.\n// Here we provide a base \"fallback\" implementation that calls any defined UNSAFE_ prefixed method.\n// - If a component defines its own `componentDidMount()` (including via defineProperty), use that.\n// - If a component defines `UNSAFE_componentDidMount()`, `componentDidMount` is the alias getter/setter.\n// - If anything assigns to an `UNSAFE_*` property, the assignment is forwarded to the unprefixed property.\n// See https://github.com/preactjs/preact/issues/1941\n[\n\t'componentWillMount',\n\t'componentWillReceiveProps',\n\t'componentWillUpdate'\n].forEach(key => {\n\tObject.defineProperty(Component.prototype, key, {\n\t\tconfigurable: true,\n\t\tget() {\n\t\t\treturn this['UNSAFE_' + key];\n\t\t},\n\t\tset(v) {\n\t\t\tObject.defineProperty(this, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true,\n\t\t\t\tvalue: v\n\t\t\t});\n\t\t}\n\t});\n});\n\n/**\n * Proxy render() since React returns a Component reference.\n * @param {import('./internal').VNode} vnode VNode tree to render\n * @param {import('./internal').PreactElement} parent DOM node to render vnode tree into\n * @param {() => void} [callback] Optional callback that will be called after rendering\n * @returns {import('./internal').Component | null} The root component reference or null\n */\nexport function render(vnode, parent, callback) {\n\t// React destroys any existing DOM nodes, see #1727\n\t// ...but only on the first render, see #1828\n\tif (parent._children == null) {\n\t\tparent.textContent = '';\n\t}\n\n\tpreactRender(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nexport function hydrate(vnode, parent, callback) {\n\tpreactHydrate(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nlet oldEventHook = options.event;\noptions.event = e => {\n\tif (oldEventHook) e = oldEventHook(e);\n\n\te.persist = empty;\n\te.isPropagationStopped = isPropagationStopped;\n\te.isDefaultPrevented = isDefaultPrevented;\n\treturn (e.nativeEvent = e);\n};\n\nfunction empty() {}\n\nfunction isPropagationStopped() {\n\treturn this.cancelBubble;\n}\n\nfunction isDefaultPrevented() {\n\treturn this.defaultPrevented;\n}\n\nconst classNameDescriptorNonEnumberable = {\n\tenumerable: false,\n\tconfigurable: true,\n\tget() {\n\t\treturn this.class;\n\t}\n};\n\nfunction handleDomVNode(vnode) {\n\tlet props = vnode.props,\n\t\ttype = vnode.type,\n\t\tnormalizedProps = {};\n\n\tfor (let i in props) {\n\t\tlet value = props[i];\n\n\t\tif (\n\t\t\t(i === 'value' && 'defaultValue' in props && value == null) ||\n\t\t\t// Emulate React's behavior of not rendering the contents of noscript tags on the client.\n\t\t\t(IS_DOM && i === 'children' && type === 'noscript') ||\n\t\t\ti === 'class' ||\n\t\t\ti === 'className'\n\t\t) {\n\t\t\t// Skip applying value if it is null/undefined and we already set\n\t\t\t// a default value\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet lowerCased = i.toLowerCase();\n\t\tif (i === 'defaultValue' && 'value' in props && props.value == null) {\n\t\t\t// `defaultValue` is treated as a fallback `value` when a value prop is present but null/undefined.\n\t\t\t// `defaultValue` for Elements with no value prop is the same as the DOM defaultValue property.\n\t\t\ti = 'value';\n\t\t} else if (i === 'download' && value === true) {\n\t\t\t// Calling `setAttribute` with a truthy value will lead to it being\n\t\t\t// passed as a stringified value, e.g. `download=\"true\"`. React\n\t\t\t// converts it to an empty string instead, otherwise the attribute\n\t\t\t// value will be used as the file name and the file will be called\n\t\t\t// \"true\" upon downloading it.\n\t\t\tvalue = '';\n\t\t} else if (lowerCased === 'ondoubleclick') {\n\t\t\ti = 'ondblclick';\n\t\t} else if (\n\t\t\tlowerCased === 'onchange' &&\n\t\t\t(type === 'input' || type === 'textarea') &&\n\t\t\t!onChangeInputType(props.type)\n\t\t) {\n\t\t\tlowerCased = i = 'oninput';\n\t\t} else if (lowerCased === 'onfocus') {\n\t\t\ti = 'onfocusin';\n\t\t} else if (lowerCased === 'onblur') {\n\t\t\ti = 'onfocusout';\n\t\t} else if (ON_ANI.test(i)) {\n\t\t\ti = lowerCased;\n\t\t} else if (type.indexOf('-') === -1 && CAMEL_PROPS.test(i)) {\n\t\t\ti = i.replace(CAMEL_REPLACE, '-$&').toLowerCase();\n\t\t} else if (value === null) {\n\t\t\tvalue = undefined;\n\t\t}\n\n\t\t// Add support for onInput and onChange, see #3561\n\t\t// if we have an oninput prop already change it to oninputCapture\n\t\tif (lowerCased === 'oninput') {\n\t\t\ti = lowerCased;\n\t\t\tif (normalizedProps[i]) {\n\t\t\t\ti = 'oninputCapture';\n\t\t\t}\n\t\t}\n\n\t\tnormalizedProps[i] = value;\n\t}\n\n\t// Add support for array select values: <select multiple value={[]} />\n\tif (\n\t\ttype == 'select' &&\n\t\tnormalizedProps.multiple &&\n\t\tArray.isArray(normalizedProps.value)\n\t) {\n\t\t// forEach() always returns undefined, which we abuse here to unset the value prop.\n\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\tchild.props.selected =\n\t\t\t\tnormalizedProps.value.indexOf(child.props.value) != -1;\n\t\t});\n\t}\n\n\t// Adding support for defaultValue in select tag\n\tif (type == 'select' && normalizedProps.defaultValue != null) {\n\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\tif (normalizedProps.multiple) {\n\t\t\t\tchild.props.selected =\n\t\t\t\t\tnormalizedProps.defaultValue.indexOf(child.props.value) != -1;\n\t\t\t} else {\n\t\t\t\tchild.props.selected =\n\t\t\t\t\tnormalizedProps.defaultValue == child.props.value;\n\t\t\t}\n\t\t});\n\t}\n\n\tif (props.class && !props.className) {\n\t\tnormalizedProps.class = props.class;\n\t\tObject.defineProperty(\n\t\t\tnormalizedProps,\n\t\t\t'className',\n\t\t\tclassNameDescriptorNonEnumberable\n\t\t);\n\t} else if (props.className && !props.class) {\n\t\tnormalizedProps.class = normalizedProps.className = props.className;\n\t} else if (props.class && props.className) {\n\t\tnormalizedProps.class = normalizedProps.className = props.className;\n\t}\n\n\tvnode.props = normalizedProps;\n}\n\nlet oldVNodeHook = options.vnode;\noptions.vnode = vnode => {\n\t// only normalize props on Element nodes\n\tif (typeof vnode.type === 'string') {\n\t\thandleDomVNode(vnode);\n\t}\n\n\tvnode.$$typeof = REACT_ELEMENT_TYPE;\n\n\tif (oldVNodeHook) oldVNodeHook(vnode);\n};\n\n// Only needed for react-relay\nlet currentComponent;\nconst oldBeforeRender = options._render;\noptions._render = function (vnode) {\n\tif (oldBeforeRender) {\n\t\toldBeforeRender(vnode);\n\t}\n\tcurrentComponent = vnode._component;\n};\n\nconst oldDiffed = options.diffed;\n/** @type {(vnode: import('./internal').VNode) => void} */\noptions.diffed = function (vnode) {\n\tif (oldDiffed) {\n\t\toldDiffed(vnode);\n\t}\n\n\tconst props = vnode.props;\n\tconst dom = vnode._dom;\n\n\tif (\n\t\tdom != null &&\n\t\tvnode.type === 'textarea' &&\n\t\t'value' in props &&\n\t\tprops.value !== dom.value\n\t) {\n\t\tdom.value = props.value == null ? '' : props.value;\n\t}\n\n\tcurrentComponent = null;\n};\n\n// This is a very very private internal function for React it\n// is used to sort-of do runtime dependency injection. So far\n// only `react-relay` makes use of it. It uses it to read the\n// context value.\nexport const __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = {\n\tReactCurrentDispatcher: {\n\t\tcurrent: {\n\t\t\treadContext(context) {\n\t\t\t\treturn currentComponent._globalContext[context._id].props.value;\n\t\t\t}\n\t\t}\n\t}\n};\n","import {\n\tcreateElement,\n\trender as preactRender,\n\tcloneElement as preactCloneElement,\n\tcreateRef,\n\tComponent,\n\tcreateContext,\n\tFragment\n} from 'preact';\nimport {\n\tuseState,\n\tuseId,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue\n} from 'preact/hooks';\nimport { PureComponent } from './PureComponent';\nimport { memo } from './memo';\nimport { forwardRef } from './forwardRef';\nimport { Children } from './Children';\nimport { Suspense, lazy } from './suspense';\nimport { SuspenseList } from './suspense-list';\nimport { createPortal } from './portals';\nimport { is } from './util';\nimport {\n\thydrate,\n\trender,\n\tREACT_ELEMENT_TYPE,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n} from './render';\n\nconst version = '17.0.2'; // trick libraries to think we are react\n\n/**\n * Legacy version of createElement.\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component constructor\n */\nfunction createFactory(type) {\n\treturn createElement.bind(null, type);\n}\n\n/**\n * Check if the passed element is a valid (p)react node.\n * @param {*} element The element to check\n * @returns {boolean}\n */\nfunction isValidElement(element) {\n\treturn !!element && element.$$typeof === REACT_ELEMENT_TYPE;\n}\n\n/**\n * Wrap `cloneElement` to abort if the passed element is not a valid element and apply\n * all vnode normalizations.\n * @param {import('./internal').VNode} element The vnode to clone\n * @param {object} props Props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Optional component children\n */\nfunction cloneElement(element) {\n\tif (!isValidElement(element)) return element;\n\treturn preactCloneElement.apply(null, arguments);\n}\n\n/**\n * Remove a component tree from the DOM, including state and event handlers.\n * @param {import('./internal').PreactElement} container\n * @returns {boolean}\n */\nfunction unmountComponentAtNode(container) {\n\tif (container._children) {\n\t\tpreactRender(null, container);\n\t\treturn true;\n\t}\n\treturn false;\n}\n\n/**\n * Get the matching DOM node for a component\n * @param {import('./internal').Component} component\n * @returns {import('./internal').PreactElement | null}\n */\nfunction findDOMNode(component) {\n\treturn (\n\t\t(component &&\n\t\t\t(component.base || (component.nodeType === 1 && component))) ||\n\t\tnull\n\t);\n}\n\n/**\n * Deprecated way to control batched rendering inside the reconciler, but we\n * already schedule in batches inside our rendering code\n * @template Arg\n * @param {(arg: Arg) => void} callback function that triggers the updated\n * @param {Arg} [arg] Optional argument that can be passed to the callback\n */\n// eslint-disable-next-line camelcase\nconst unstable_batchedUpdates = (callback, arg) => callback(arg);\n\n/**\n * In React, `flushSync` flushes the entire tree and forces a rerender. It's\n * implmented here as a no-op.\n * @template Arg\n * @template Result\n * @param {(arg: Arg) => Result} callback function that runs before the flush\n * @param {Arg} [arg] Optional argument that can be passed to the callback\n * @returns\n */\nconst flushSync = (callback, arg) => callback(arg);\n\n/**\n * Strict Mode is not implemented in Preact, so we provide a stand-in for it\n * that just renders its children without imposing any restrictions.\n */\nconst StrictMode = Fragment;\n\nexport function startTransition(cb) {\n\tcb();\n}\n\nexport function useDeferredValue(val) {\n\treturn val;\n}\n\nexport function useTransition() {\n\treturn [false, startTransition];\n}\n\n// TODO: in theory this should be done after a VNode is diffed as we want to insert\n// styles/... before it attaches\nexport const useInsertionEffect = useLayoutEffect;\n\n/**\n * This is taken from https://github.com/facebook/react/blob/main/packages/use-sync-external-store/src/useSyncExternalStoreShimClient.js#L84\n * on a high level this cuts out the warnings, ... and attempts a smaller implementation\n */\nexport function useSyncExternalStore(subscribe, getSnapshot) {\n\tconst value = getSnapshot();\n\n\tconst [{ _instance }, forceUpdate] = useState({\n\t\t_instance: { _value: value, _getSnapshot: getSnapshot }\n\t});\n\n\tuseLayoutEffect(() => {\n\t\t_instance._value = value;\n\t\t_instance._getSnapshot = getSnapshot;\n\n\t\tif (!is(_instance._value, getSnapshot())) {\n\t\t\tforceUpdate({ _instance });\n\t\t}\n\t}, [subscribe, value, getSnapshot]);\n\n\tuseEffect(() => {\n\t\tif (!is(_instance._value, _instance._getSnapshot())) {\n\t\t\tforceUpdate({ _instance });\n\t\t}\n\n\t\treturn subscribe(() => {\n\t\t\tif (!is(_instance._value, _instance._getSnapshot())) {\n\t\t\t\tforceUpdate({ _instance });\n\t\t\t}\n\t\t});\n\t}, [subscribe]);\n\n\treturn value;\n}\n\nexport * from 'preact/hooks';\nexport {\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\t// eslint-disable-next-line camelcase\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n\n// React copies the named exports to the default one.\nexport default {\n\tuseState,\n\tuseId,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseInsertionEffect,\n\tuseTransition,\n\tuseDeferredValue,\n\tuseSyncExternalStore,\n\tstartTransition,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue,\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n","import range from 'just-range';\n\nconst SORTED_PITCHES = ['C', 'Db', 'D', 'Eb', 'E', 'F', 'Gb', 'G', 'Ab', 'A', 'Bb', 'B'];\nconst ACCIDENTAL_PITCHES = ['Db', 'Eb', 'Gb', 'Ab', 'Bb'];\nconst PITCH_INDEXES = {\n  C: 0,\n  'C#': 1,\n  Db: 1,\n  D: 2,\n  'D#': 3,\n  Eb: 3,\n  E: 4,\n  F: 5,\n  'F#': 6,\n  Gb: 6,\n  G: 7,\n  'G#': 8,\n  Ab: 8,\n  A: 9,\n  'A#': 10,\n  Bb: 10,\n  B: 11,\n};\nconst MIDI_NUMBER_C0 = 12;\nconst MIN_MIDI_NUMBER = MIDI_NUMBER_C0;\nconst MAX_MIDI_NUMBER = 127;\nconst NOTE_REGEX = /([a-g])([#b]?)(\\d+)/;\nconst NOTES_IN_OCTAVE = 12;\n\n// Converts string notes in scientific pitch notation to a MIDI number, or null.\n//\n// Example: \"c#0\" => 13, \"eb5\" => 75, \"abc\" => null\n//\n// References:\n// - http://www.flutopedia.com/octave_notation.htm\n// - https://github.com/danigb/tonal/blob/master/packages/note/index.js\nfunction fromNote(note) {\n  if (!note) {\n    throw Error('Invalid note argument');\n  }\n  const match = NOTE_REGEX.exec(note.toLowerCase());\n  if (!match) {\n    throw Error('Invalid note argument');\n  }\n  const [, letter, accidental, octave] = match;\n  const pitchName = `${letter.toUpperCase()}${accidental}`;\n  const pitchIndex = PITCH_INDEXES[pitchName];\n  if (pitchIndex == null) {\n    throw Error('Invalid note argument');\n  }\n  return MIDI_NUMBER_C0 + pitchIndex + NOTES_IN_OCTAVE * parseInt(octave, 10);\n}\n\n//\n// Build cache for getAttributes\n//\nfunction buildMidiNumberAttributes(midiNumber) {\n  const pitchIndex = (midiNumber - MIDI_NUMBER_C0) % NOTES_IN_OCTAVE;\n  const octave = Math.floor((midiNumber - MIDI_NUMBER_C0) / NOTES_IN_OCTAVE);\n  const pitchName = SORTED_PITCHES[pitchIndex];\n  return {\n    note: `${pitchName}${octave}`,\n    pitchName,\n    octave,\n    midiNumber,\n    isAccidental: ACCIDENTAL_PITCHES.includes(pitchName),\n  };\n}\n\nfunction buildMidiNumberAttributesCache() {\n  return range(MIN_MIDI_NUMBER, MAX_MIDI_NUMBER + 1).reduce((cache, midiNumber) => {\n    cache[midiNumber] = buildMidiNumberAttributes(midiNumber);\n    return cache;\n  }, {});\n}\n\nconst midiNumberAttributesCache = buildMidiNumberAttributesCache();\n\n// Returns an object containing various attributes for a given MIDI number.\n// Throws error for invalid midiNumbers.\nfunction getAttributes(midiNumber) {\n  const attrs = midiNumberAttributesCache[midiNumber];\n  if (!attrs) {\n    throw Error('Invalid MIDI number');\n  }\n  return attrs;\n}\n\n// Returns all MIDI numbers corresponding to natural notes, e.g. C and not C# or Bb.\nconst NATURAL_MIDI_NUMBERS = range(MIN_MIDI_NUMBER, MAX_MIDI_NUMBER + 1).filter(\n  (midiNumber) => !getAttributes(midiNumber).isAccidental,\n);\n\nexport default {\n  fromNote,\n  getAttributes,\n  MIN_MIDI_NUMBER,\n  MAX_MIDI_NUMBER,\n  NATURAL_MIDI_NUMBERS,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport MidiNumbers from './MidiNumbers';\n\nclass Key extends React.Component {\n  static propTypes = {\n    midiNumber: PropTypes.number.isRequired,\n    naturalKeyWidth: PropTypes.number.isRequired, // Width as a ratio between 0 and 1\n    gliss: PropTypes.bool.isRequired,\n    useTouchEvents: PropTypes.bool.isRequired,\n    accidental: PropTypes.bool.isRequired,\n    active: PropTypes.bool.isRequired,\n    disabled: PropTypes.bool.isRequired,\n    onPlayNoteInput: PropTypes.func.isRequired,\n    onStopNoteInput: PropTypes.func.isRequired,\n    accidentalWidthRatio: PropTypes.number.isRequired,\n    pitchPositions: PropTypes.object.isRequired,\n    children: PropTypes.node,\n  };\n\n  static defaultProps = {\n    accidentalWidthRatio: 0.65,\n    pitchPositions: {\n      C: 0,\n      Db: 0.55,\n      D: 1,\n      Eb: 1.8,\n      E: 2,\n      F: 3,\n      Gb: 3.5,\n      G: 4,\n      Ab: 4.7,\n      A: 5,\n      Bb: 5.85,\n      B: 6,\n    },\n  };\n\n  onPlayNoteInput = () => {\n    this.props.onPlayNoteInput(this.props.midiNumber);\n  };\n\n  onStopNoteInput = () => {\n    this.props.onStopNoteInput(this.props.midiNumber);\n  };\n\n  // Key position is represented by the number of natural key widths from the left\n  getAbsoluteKeyPosition(midiNumber) {\n    const OCTAVE_WIDTH = 7;\n    const { octave, pitchName } = MidiNumbers.getAttributes(midiNumber);\n    const pitchPosition = this.props.pitchPositions[pitchName];\n    const octavePosition = OCTAVE_WIDTH * octave;\n    return pitchPosition + octavePosition;\n  }\n\n  getRelativeKeyPosition(midiNumber) {\n    return (\n      this.getAbsoluteKeyPosition(midiNumber) -\n      this.getAbsoluteKeyPosition(this.props.noteRange.first)\n    );\n  }\n\n  render() {\n    const {\n      naturalKeyWidth,\n      accidentalWidthRatio,\n      midiNumber,\n      gliss,\n      useTouchEvents,\n      accidental,\n      active,\n      disabled,\n      children,\n    } = this.props;\n\n    // Need to conditionally include/exclude handlers based on useTouchEvents,\n    // because otherwise mobile taps double fire events.\n    return (\n      <div\n        className={classNames('ReactPiano__Key', {\n          'ReactPiano__Key--accidental': accidental,\n          'ReactPiano__Key--natural': !accidental,\n          'ReactPiano__Key--disabled': disabled,\n          'ReactPiano__Key--active': active,\n        })}\n        style={{\n          left: ratioToPercentage(this.getRelativeKeyPosition(midiNumber) * naturalKeyWidth),\n          width: ratioToPercentage(\n            accidental ? accidentalWidthRatio * naturalKeyWidth : naturalKeyWidth,\n          ),\n        }}\n        onMouseDown={useTouchEvents ? null : this.onPlayNoteInput}\n        onMouseUp={useTouchEvents ? null : this.onStopNoteInput}\n        onMouseEnter={gliss ? this.onPlayNoteInput : null}\n        onMouseLeave={this.onStopNoteInput}\n        onTouchStart={useTouchEvents ? this.onPlayNoteInput : null}\n        onTouchCancel={useTouchEvents ? this.onStopNoteInput : null}\n        onTouchEnd={useTouchEvents ? this.onStopNoteInput : null}\n      >\n        <div className=\"ReactPiano__NoteLabelContainer\">{children}</div>\n      </div>\n    );\n  }\n}\n\nfunction ratioToPercentage(ratio) {\n  return `${ratio * 100}%`;\n}\n\nexport default Key;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport range from 'just-range';\nimport classNames from 'classnames';\n\nimport Key from './Key';\nimport MidiNumbers from './MidiNumbers';\n\nclass Keyboard extends React.Component {\n  static propTypes = {\n    noteRange: noteRangePropType,\n    activeNotes: PropTypes.arrayOf(PropTypes.number),\n    onPlayNoteInput: PropTypes.func.isRequired,\n    onStopNoteInput: PropTypes.func.isRequired,\n    renderNoteLabel: PropTypes.func.isRequired,\n    keyWidthToHeight: PropTypes.number.isRequired,\n    className: PropTypes.string,\n    disabled: PropTypes.bool,\n    gliss: PropTypes.bool,\n    useTouchEvents: PropTypes.bool,\n    // If width is not provided, must have fixed width and height in parent container\n    width: PropTypes.number,\n  };\n\n  static defaultProps = {\n    disabled: false,\n    gliss: false,\n    useTouchEvents: false,\n    keyWidthToHeight: 0.33,\n    renderNoteLabel: () => {},\n  };\n\n  // Range of midi numbers on keyboard\n  getMidiNumbers() {\n    return range(this.props.noteRange.first, this.props.noteRange.last + 1);\n  }\n\n  getNaturalKeyCount() {\n    return this.getMidiNumbers().filter((number) => {\n      const { isAccidental } = MidiNumbers.getAttributes(number);\n      return !isAccidental;\n    }).length;\n  }\n\n  // Returns a ratio between 0 and 1\n  getNaturalKeyWidth() {\n    return 1 / this.getNaturalKeyCount();\n  }\n\n  getWidth() {\n    return this.props.width ? this.props.width : '100%';\n  }\n\n  getHeight() {\n    if (!this.props.width) {\n      return '100%';\n    }\n    const keyWidth = this.props.width * this.getNaturalKeyWidth();\n    return `${keyWidth / this.props.keyWidthToHeight}px`;\n  }\n\n  render() {\n    const naturalKeyWidth = this.getNaturalKeyWidth();\n    return (\n      <div\n        className={classNames('ReactPiano__Keyboard', this.props.className)}\n        style={{ width: this.getWidth(), height: this.getHeight() }}\n      >\n        {this.getMidiNumbers().map((midiNumber) => {\n          const { note, isAccidental } = MidiNumbers.getAttributes(midiNumber);\n          const isActive = !this.props.disabled && this.props.activeNotes.includes(midiNumber);\n          return (\n            <Key\n              naturalKeyWidth={naturalKeyWidth}\n              midiNumber={midiNumber}\n              noteRange={this.props.noteRange}\n              active={isActive}\n              accidental={isAccidental}\n              disabled={this.props.disabled}\n              onPlayNoteInput={this.props.onPlayNoteInput}\n              onStopNoteInput={this.props.onStopNoteInput}\n              gliss={this.props.gliss}\n              useTouchEvents={this.props.useTouchEvents}\n              key={midiNumber}\n            >\n              {this.props.disabled\n                ? null\n                : this.props.renderNoteLabel({\n                    isActive,\n                    isAccidental,\n                    midiNumber,\n                  })}\n            </Key>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nfunction isNaturalMidiNumber(value) {\n  if (typeof value !== 'number') {\n    return false;\n  }\n  return MidiNumbers.NATURAL_MIDI_NUMBERS.includes(value);\n}\n\nfunction noteRangePropType(props, propName, componentName) {\n  const { first, last } = props[propName];\n  if (!first || !last) {\n    return new Error(\n      `Invalid prop ${propName} supplied to ${componentName}. ${propName} must be an object with .first and .last values.`,\n    );\n  }\n  if (!isNaturalMidiNumber(first) || !isNaturalMidiNumber(last)) {\n    return new Error(\n      `Invalid prop ${propName} supplied to ${componentName}. ${propName} values must be valid MIDI numbers, and should not be accidentals (sharp or flat notes).`,\n    );\n  }\n  if (first >= last) {\n    return new Error(\n      `Invalid prop ${propName} supplied to ${componentName}. ${propName}.first must be smaller than ${propName}.last.`,\n    );\n  }\n}\n\nexport default Keyboard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport difference from 'lodash.difference';\nimport Keyboard from './Keyboard';\n\nclass ControlledPiano extends React.Component {\n  static propTypes = {\n    noteRange: PropTypes.object.isRequired,\n    activeNotes: PropTypes.arrayOf(PropTypes.number.isRequired).isRequired,\n    playNote: PropTypes.func.isRequired,\n    stopNote: PropTypes.func.isRequired,\n    onPlayNoteInput: PropTypes.func.isRequired,\n    onStopNoteInput: PropTypes.func.isRequired,\n    renderNoteLabel: PropTypes.func.isRequired,\n    className: PropTypes.string,\n    disabled: PropTypes.bool,\n    width: PropTypes.number,\n    keyWidthToHeight: PropTypes.number,\n    keyboardShortcuts: PropTypes.arrayOf(\n      PropTypes.shape({\n        key: PropTypes.string.isRequired,\n        midiNumber: PropTypes.number.isRequired,\n      }),\n    ),\n  };\n\n  static defaultProps = {\n    renderNoteLabel: ({ keyboardShortcut, midiNumber, isActive, isAccidental }) =>\n      keyboardShortcut ? (\n        <div\n          className={classNames('ReactPiano__NoteLabel', {\n            'ReactPiano__NoteLabel--active': isActive,\n            'ReactPiano__NoteLabel--accidental': isAccidental,\n            'ReactPiano__NoteLabel--natural': !isAccidental,\n          })}\n        >\n          {keyboardShortcut}\n        </div>\n      ) : null,\n  };\n\n  state = {\n    isMouseDown: false,\n    useTouchEvents: false,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.onKeyDown);\n    window.addEventListener('keyup', this.onKeyUp);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.onKeyDown);\n    window.removeEventListener('keyup', this.onKeyUp);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.activeNotes !== prevProps.activeNotes) {\n      this.handleNoteChanges({\n        prevActiveNotes: prevProps.activeNotes || [],\n        nextActiveNotes: this.props.activeNotes || [],\n      });\n    }\n  }\n\n  // This function is responsible for diff'ing activeNotes\n  // and playing or stopping notes accordingly.\n  handleNoteChanges = ({ prevActiveNotes, nextActiveNotes }) => {\n    if (this.props.disabled) {\n      return;\n    }\n    const notesStopped = difference(prevActiveNotes, nextActiveNotes);\n    const notesStarted = difference(nextActiveNotes, prevActiveNotes);\n    notesStarted.forEach((midiNumber) => {\n      this.props.playNote(midiNumber);\n    });\n    notesStopped.forEach((midiNumber) => {\n      this.props.stopNote(midiNumber);\n    });\n  };\n\n  getMidiNumberForKey = (key) => {\n    if (!this.props.keyboardShortcuts) {\n      return null;\n    }\n    const shortcut = this.props.keyboardShortcuts.find((sh) => sh.key === key);\n    return shortcut && shortcut.midiNumber;\n  };\n\n  getKeyForMidiNumber = (midiNumber) => {\n    if (!this.props.keyboardShortcuts) {\n      return null;\n    }\n    const shortcut = this.props.keyboardShortcuts.find((sh) => sh.midiNumber === midiNumber);\n    return shortcut && shortcut.key;\n  };\n\n  onKeyDown = (event) => {\n    // Don't conflict with existing combinations like ctrl + t\n    if (event.ctrlKey || event.metaKey || event.shiftKey) {\n      return;\n    }\n    const midiNumber = this.getMidiNumberForKey(event.key);\n    if (midiNumber) {\n      this.onPlayNoteInput(midiNumber);\n    }\n  };\n\n  onKeyUp = (event) => {\n    // This *should* also check for event.ctrlKey || event.metaKey || event.ShiftKey like onKeyDown does,\n    // but at least on Mac Chrome, when mashing down many alphanumeric keystrokes at once,\n    // ctrlKey is fired unexpectedly, which would cause onStopNote to NOT be fired, which causes problematic\n    // lingering notes. Since it's fairly safe to call onStopNote even when not necessary,\n    // the ctrl/meta/shift check is removed to fix that issue.\n    const midiNumber = this.getMidiNumberForKey(event.key);\n    if (midiNumber) {\n      this.onStopNoteInput(midiNumber);\n    }\n  };\n\n  onPlayNoteInput = (midiNumber) => {\n    if (this.props.disabled) {\n      return;\n    }\n    // Pass in previous activeNotes for recording functionality\n    this.props.onPlayNoteInput(midiNumber, this.props.activeNotes);\n  };\n\n  onStopNoteInput = (midiNumber) => {\n    if (this.props.disabled) {\n      return;\n    }\n    // Pass in previous activeNotes for recording functionality\n    this.props.onStopNoteInput(midiNumber, this.props.activeNotes);\n  };\n\n  onMouseDown = () => {\n    this.setState({\n      isMouseDown: true,\n    });\n  };\n\n  onMouseUp = () => {\n    this.setState({\n      isMouseDown: false,\n    });\n  };\n\n  onTouchStart = () => {\n    this.setState({\n      useTouchEvents: true,\n    });\n  };\n\n  renderNoteLabel = ({ midiNumber, isActive, isAccidental }) => {\n    const keyboardShortcut = this.getKeyForMidiNumber(midiNumber);\n    return this.props.renderNoteLabel({ keyboardShortcut, midiNumber, isActive, isAccidental });\n  };\n\n  render() {\n    return (\n      <div\n        style={{ width: '100%', height: '100%' }}\n        onMouseDown={this.onMouseDown}\n        onMouseUp={this.onMouseUp}\n        onTouchStart={this.onTouchStart}\n        data-testid=\"container\"\n      >\n        <Keyboard\n          noteRange={this.props.noteRange}\n          onPlayNoteInput={this.onPlayNoteInput}\n          onStopNoteInput={this.onStopNoteInput}\n          activeNotes={this.props.activeNotes}\n          className={this.props.className}\n          disabled={this.props.disabled}\n          width={this.props.width}\n          keyWidthToHeight={this.props.keyWidthToHeight}\n          gliss={this.state.isMouseDown}\n          useTouchEvents={this.state.useTouchEvents}\n          renderNoteLabel={this.renderNoteLabel}\n        />\n      </div>\n    );\n  }\n}\n\nexport default ControlledPiano;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport difference from 'lodash.difference';\nimport ControlledPiano from './ControlledPiano';\nimport Keyboard from './Keyboard';\n\nclass Piano extends React.Component {\n  static propTypes = {\n    noteRange: PropTypes.object.isRequired,\n    activeNotes: PropTypes.arrayOf(PropTypes.number.isRequired),\n    playNote: PropTypes.func.isRequired,\n    stopNote: PropTypes.func.isRequired,\n    onPlayNoteInput: PropTypes.func,\n    onStopNoteInput: PropTypes.func,\n    renderNoteLabel: PropTypes.func,\n    className: PropTypes.string,\n    disabled: PropTypes.bool,\n    width: PropTypes.number,\n    keyWidthToHeight: PropTypes.number,\n    keyboardShortcuts: PropTypes.arrayOf(\n      PropTypes.shape({\n        key: PropTypes.string.isRequired,\n        midiNumber: PropTypes.number.isRequired,\n      }),\n    ),\n  };\n\n  state = {\n    activeNotes: this.props.activeNotes || [],\n  };\n\n  componentDidUpdate(prevProps) {\n    // Make activeNotes \"controllable\" by using internal\n    // state by default, but allowing prop overrides.\n    if (\n      prevProps.activeNotes !== this.props.activeNotes &&\n      this.state.activeNotes !== this.props.activeNotes\n    ) {\n      this.setState({\n        activeNotes: this.props.activeNotes || [],\n      });\n    }\n  }\n\n  handlePlayNoteInput = (midiNumber) => {\n    this.setState((prevState) => {\n      // Need to be handled inside setState in order to set prevActiveNotes without\n      // race conditions.\n      if (this.props.onPlayNoteInput) {\n        this.props.onPlayNoteInput(midiNumber, { prevActiveNotes: prevState.activeNotes });\n      }\n\n      // Don't append note to activeNotes if it's already present\n      if (prevState.activeNotes.includes(midiNumber)) {\n        return null;\n      }\n      return {\n        activeNotes: prevState.activeNotes.concat(midiNumber),\n      };\n    });\n  };\n\n  handleStopNoteInput = (midiNumber) => {\n    this.setState((prevState) => {\n      // Need to be handled inside setState in order to set prevActiveNotes without\n      // race conditions.\n      if (this.props.onStopNoteInput) {\n        this.props.onStopNoteInput(midiNumber, { prevActiveNotes: this.state.activeNotes });\n      }\n      return {\n        activeNotes: prevState.activeNotes.filter((note) => midiNumber !== note),\n      };\n    });\n  };\n\n  render() {\n    const { activeNotes, onPlayNoteInput, onStopNoteInput, ...otherProps } = this.props;\n    return (\n      <ControlledPiano\n        activeNotes={this.state.activeNotes}\n        onPlayNoteInput={this.handlePlayNoteInput}\n        onStopNoteInput={this.handleStopNoteInput}\n        {...otherProps}\n      />\n    );\n  }\n}\n\nexport default Piano;\n","import MidiNumbers from './MidiNumbers';\n\nfunction createKeyboardShortcuts({ firstNote, lastNote, keyboardConfig }) {\n  let currentMidiNumber = firstNote;\n  let naturalKeyIndex = 0;\n  let keyboardShortcuts = [];\n\n  while (\n    // There are still keys to be assigned\n    naturalKeyIndex < keyboardConfig.length &&\n    // Note to be assigned does not surpass range\n    currentMidiNumber <= lastNote\n  ) {\n    const key = keyboardConfig[naturalKeyIndex];\n    const { isAccidental } = MidiNumbers.getAttributes(currentMidiNumber);\n    if (isAccidental) {\n      keyboardShortcuts.push({\n        key: key.flat,\n        midiNumber: currentMidiNumber,\n      });\n    } else {\n      keyboardShortcuts.push({\n        key: key.natural,\n        midiNumber: currentMidiNumber,\n      });\n      naturalKeyIndex += 1;\n    }\n    currentMidiNumber += 1;\n  }\n  return keyboardShortcuts;\n}\n\nexport default {\n  create: createKeyboardShortcuts,\n  // Preset configurations\n  BOTTOM_ROW: [\n    { natural: 'z', flat: 'a', sharp: 's' },\n    { natural: 'x', flat: 's', sharp: 'd' },\n    { natural: 'c', flat: 'd', sharp: 'f' },\n    { natural: 'v', flat: 'f', sharp: 'g' },\n    { natural: 'b', flat: 'g', sharp: 'h' },\n    { natural: 'n', flat: 'h', sharp: 'j' },\n    { natural: 'm', flat: 'j', sharp: 'k' },\n    { natural: ',', flat: 'k', sharp: 'l' },\n    { natural: '.', flat: 'l', sharp: ';' },\n    { natural: '/', flat: ';', sharp: \"'\" },\n  ],\n  HOME_ROW: [\n    { natural: 'a', flat: 'q', sharp: 'w' },\n    { natural: 's', flat: 'w', sharp: 'e' },\n    { natural: 'd', flat: 'e', sharp: 'r' },\n    { natural: 'f', flat: 'r', sharp: 't' },\n    { natural: 'g', flat: 't', sharp: 'y' },\n    { natural: 'h', flat: 'y', sharp: 'u' },\n    { natural: 'j', flat: 'u', sharp: 'i' },\n    { natural: 'k', flat: 'i', sharp: 'o' },\n    { natural: 'l', flat: 'o', sharp: 'p' },\n    { natural: ';', flat: 'p', sharp: '[' },\n    { natural: \"'\", flat: '[', sharp: ']' },\n  ],\n  QWERTY_ROW: [\n    { natural: 'q', flat: '1', sharp: '2' },\n    { natural: 'w', flat: '2', sharp: '3' },\n    { natural: 'e', flat: '3', sharp: '4' },\n    { natural: 'r', flat: '4', sharp: '5' },\n    { natural: 't', flat: '5', sharp: '6' },\n    { natural: 'y', flat: '6', sharp: '7' },\n    { natural: 'u', flat: '7', sharp: '8' },\n    { natural: 'i', flat: '8', sharp: '9' },\n    { natural: 'o', flat: '9', sharp: '0' },\n    { natural: 'p', flat: '0', sharp: '-' },\n    { natural: '[', flat: '-', sharp: '=' },\n  ],\n};\n","const Header = () => (\n  <header className='items-center fixed w-full h-10 z-50 flex bg-slate-800 shadow-xl gap-4'>\n    <a\n      href='/'\n      className='hover:bg-slate-700 transition-colors h-full flex items-center px-4'>\n      <h1>monitor</h1>\n    </a>\n    <a\n      href='/synth'\n      className='hover:bg-slate-700 transition-colors h-full flex items-center px-4'>\n      <h1>synth</h1>\n    </a>\n    <a\n      href='/midi'\n      className='hover:bg-slate-700 transition-colors h-full flex items-center px-4'>\n      <h1>midi</h1>\n    </a>\n  </header>\n);\n\nexport default Header;\n","import { useCallback, useMemo, useState } from 'preact/hooks';\n\nconst WsMonitor = ({ websocket }) => {\n  const {\n    ws,\n    wsUrl,\n    setWsUrl,\n    history,\n    myChannels,\n    availableChannels,\n    id,\n    wsState,\n    joinChannel,\n    getChannels,\n    heartbeat,\n    broadcastMessage,\n    sendMessageToTargetClient,\n    sendMessageToTargetChannel,\n    sendMessageToJoinedChannels,\n  } = websocket;\n\n  const [message, setMessage] = useState('');\n  const [targetChannel, setTargetChannel] = useState('');\n  const [targetId, setTargetId] = useState('');\n\n  const messageIsValidJSON = useMemo(() => {\n    try {\n      JSON.parse(message);\n    } catch (e) {\n      return false;\n    }\n    return true;\n  }, [message]);\n\n  const handleWsUrlChange = useCallback(\n    (e) => {\n      e.preventDefault();\n      setWsUrl(e.target.wsUrl.value);\n    },\n    [setWsUrl]\n  );\n\n  return (\n    <div className='flex flex-col gap-4'>\n      <div className='flex gap-8'>\n        {ws && wsUrl && (\n          <div>\n            {wsState} on: {wsUrl}\n          </div>\n        )}\n        <form onSubmit={handleWsUrlChange}>\n          <input type='text' name='wsUrl' placeholder={wsUrl} />\n          <button type='submit'>go</button>\n        </form>\n      </div>\n\n      {ws && (\n        <>\n          <div>\n            {id && <div>id: {id}</div>}\n            {heartbeat && <div>heartbeat: {JSON.stringify(heartbeat)}</div>}\n          </div>\n\n          <div>\n            <div className='flex flex-row gap-8'>\n              <button onClick={getChannels}>get channels</button>\n              <form onSubmit={joinChannel}>\n                <input type='text' name='channel' />\n                <button type='submit' className='ml-2'>\n                  join channel\n                </button>\n              </form>\n            </div>\n            <ul>\n              my channels:\n              {myChannels.map(({ channel, members }) => (\n                <li key={channel} className={'ml-2'}>\n                  {channel} | {members.length} members: {members.join(', ')}\n                </li>\n              ))}\n            </ul>\n            <ul>\n              all channels:\n              {availableChannels.map(({ channel, members }) => (\n                <li key={channel} className={'ml-2'}>\n                  {channel}{' '}\n                  {members.length\n                    ? `| ${members.length} members: ${members.join(', ')}`\n                    : '(no members)'}\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          <div>\n            <div className='flex flex-col gap-1'>\n              <div>\n                <label htmlFor='message'>message</label>\n                <textarea\n                  cols={100}\n                  rows={1}\n                  name='message'\n                  placeholder={`{\"hello\": 1}`}\n                  value={message}\n                  onInput={(e) => setMessage(e.target.value)}\n                />\n              </div>\n              <div>\n                <label htmlFor='targetChannel'>target channel</label>\n                <input\n                  name='targetChannel'\n                  type='text'\n                  value={targetChannel}\n                  onInput={(e) => setTargetChannel(e.target.value)}\n                />\n              </div>\n              <div>\n                <label htmlFor='targetChannel'>target client</label>\n                <input\n                  name='targetId'\n                  type='text'\n                  value={targetId}\n                  onInput={(e) => setTargetId(e.target.value)}\n                />\n              </div>\n              <div>\n                <button\n                  disabled={!messageIsValidJSON}\n                  onClick={() => sendMessageToTargetClient(message, targetId)}>\n                  send to another client\n                </button>\n                <button\n                  disabled={!messageIsValidJSON}\n                  onClick={() =>\n                    sendMessageToTargetChannel(message, targetChannel)\n                  }>\n                  send to channel\n                </button>\n                <button\n                  disabled={!messageIsValidJSON}\n                  onClick={() => sendMessageToJoinedChannels(message)}>\n                  send to joined channel\n                </button>\n                <button\n                  disabled={!messageIsValidJSON}\n                  onClick={() => broadcastMessage(message)}>\n                  broadcast\n                </button>\n              </div>\n            </div>\n            {!messageIsValidJSON && message.length ? (\n              <div>Invalid JSON</div>\n            ) : (\n              <></>\n            )}\n          </div>\n\n          <div>incoming messages:</div>\n          <div style={{ overflow: 'scroll', height: '200px' }}>\n            {history.map((data) => (\n              <div key={data}>{JSON.stringify(data)}</div>\n            ))}\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default WsMonitor;\n","import style from './style.css';\nimport SynthClient from '../../components/clients/synth';\n\nconst Synth = () => {\n  return (\n    <div class={style.home}>\n      <SynthClient />\n    </div>\n  );\n};\n\nexport default Synth;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","import { useCallback, useState, useEffect, useMemo } from 'preact/hooks';\n\nconst useWs = () => {\n  const [ws, setWs] = useState(null);\n  const [wsUrl, setWsUrl] = useState('');\n  const [history, setHistory] = useState([]);\n  const [heartbeat, setHeartbeat] = useState(null);\n  const [myChannels, setMyChannels] = useState([]);\n  const [availableChannels, setAvailableChannels] = useState([]);\n  const [id, setId] = useState(null);\n  const [incomingMessage, setIncomingMessage] = useState('');\n\n  const onMessage = useCallback(async (event) => {\n    const data = await JSON.parse(event.data);\n    switch (data.type) {\n      case 'id':\n        setId(data.id);\n        break;\n      case 'heartbeat':\n        setHeartbeat(data.heartbeat);\n        break;\n      case 'myChannels':\n        setMyChannels(data.channels);\n        break;\n      case 'availableChannels':\n        setAvailableChannels(data.channels);\n        break;\n      default:\n        setHistory((p) => [data, ...p]);\n        break;\n    }\n\n    setIncomingMessage(data);\n  }, []);\n\n  useEffect(() => {\n    if (!window) return;\n\n    const protocol = window.location.protocol.includes('https') ? 'wss' : 'ws';\n    const port = window.location.protocol.includes('https') ? '' : ':3000';\n    let url = `${protocol}://${location.hostname}${port}?channels=welcome`;\n\n    setWsUrl(url);\n  }, []);\n\n  useEffect(() => {\n    if (!wsUrl.length || typeof window === 'undefined') return;\n\n    console.log('attempting to connect to', wsUrl);\n\n    if (ws) ws.close();\n\n    const wsConnection = new WebSocket(wsUrl);\n    wsConnection.onmessage = onMessage;\n    wsConnection.onopen = () => {\n      console.log('hey were open');\n    };\n\n    setWs(wsConnection);\n  }, [onMessage, wsUrl]);\n\n  const getChannels = useCallback(() => {\n    ws?.send(JSON.stringify({ type: 'myChannels' }));\n    ws?.send(JSON.stringify({ type: 'availableChannels' }));\n  }, [ws]);\n\n  const wsState = useMemo(() => {\n    if (typeof window === 'undefined') return;\n\n    switch (ws?.readyState) {\n      case WebSocket.CONNECTING:\n        return 'connecting';\n      case WebSocket.OPEN:\n        return 'open';\n      case WebSocket.CLOSING:\n        return 'closing';\n      case WebSocket.CLOSED:\n        return 'closed';\n      default:\n        return 'uninitialized';\n    }\n  }, [ws?.readyState]);\n\n  useEffect(() => {\n    if (wsState === 'open') getChannels();\n  }, [getChannels, ws, wsState]);\n\n  const joinChannel = useCallback(\n    (e) => {\n      e.preventDefault();\n      ws?.send(\n        JSON.stringify({ type: 'joinChannel', channel: e.target.channel.value })\n      );\n    },\n    [ws]\n  );\n\n  const broadcastMessage = useCallback(\n    (message) =>\n      wsState === 'open' &&\n      ws?.send(\n        JSON.stringify({\n          type: 'broadcast',\n          message: { ...JSON.parse(message), timestamp: Date.now() },\n        })\n      ),\n    [ws, wsState]\n  );\n\n  const sendMessageToTargetChannel = useCallback(\n    (message, channel) => {\n      wsState === 'open' &&\n        ws?.send(\n          JSON.stringify({\n            ...JSON.parse(message),\n            timestamp: Date.now(),\n            channel,\n          })\n        );\n    },\n    [ws, wsState]\n  );\n\n  const sendMessageToTargetClient = useCallback(\n    (message, targetId) => {\n      console.log('sending to target id', message, targetId);\n      wsState === 'open' &&\n        ws?.send(\n          JSON.stringify({\n            ...JSON.parse(message),\n            timestamp: Date.now(),\n            targetId,\n          })\n        );\n    },\n    [ws, wsState]\n  );\n\n  const sendMessageToJoinedChannels = useCallback(\n    (message) => {\n      wsState === 'open' &&\n        ws?.send(\n          JSON.stringify({ ...JSON.parse(message), timestamp: Date.now() })\n        );\n    },\n    [ws, wsState]\n  );\n\n  return {\n    ws,\n    wsUrl,\n    setWsUrl,\n    history,\n    myChannels,\n    availableChannels,\n    id,\n    incomingMessage,\n    wsState,\n    joinChannel,\n    getChannels,\n    heartbeat,\n    broadcastMessage,\n    sendMessageToTargetClient,\n    sendMessageToTargetChannel,\n    sendMessageToJoinedChannels,\n  };\n};\n\nexport default useWs;\n","// extracted by mini-css-extract-plugin\nexport default {\"home\":\"home__1n+Tk\",\"resource\":\"resource__Gnwfh\"};","import style from './style.css';\nimport MidiClient from '../../components/clients/midi';\n\nconst Synth = () => {\n  return (\n    <div class={style.home}>\n      <MidiClient />\n    </div>\n  );\n};\n\nexport default Synth;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array ? array.length : 0;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\n/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  if (value !== value) {\n    return baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a cache value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values ? values.length : 0;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order of result values is determined by the\n * order they occur in the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\nmodule.exports = difference;\n","export default class PolySynth {\n  constructor() {\n    this.audioContext = new (window.AudioContext ||\n      window.webkitAudioContext)();\n    this.voices = [];\n  }\n\n  playNote(note, velocity = 127) {\n    try {\n      // Create a voice for the note\n      const voice = new Voice(this.audioContext, note, velocity);\n      this.voices.push(voice);\n\n      // Start the voice\n      voice.start();\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  stopNote(note) {\n    try {\n      // Find the voice playing the note\n      const voice = this.voices.find((voice) => voice.note === note);\n\n      if (voice) {\n        // Stop and remove the voice\n        voice.stop();\n        this.voices = this.voices.filter((v) => v !== voice);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }\n}\n\nclass Voice {\n  constructor(audioContext, note, velocity) {\n    this.audioContext = audioContext;\n    this.note = note;\n    this.velocity = velocity;\n\n    // Create an oscillator\n    this.oscillator = this.audioContext.createOscillator();\n    this.oscillator.frequency.value = getFrequency(note);\n\n    // Create a gain node\n    this.gainNode = this.audioContext.createGain();\n    this.gainNode.gain.value = velocity / 127;\n\n    // Connect the oscillator to the gain node and the gain node to the audio context destination\n    this.oscillator.connect(this.gainNode);\n    this.gainNode.connect(this.audioContext.destination);\n  }\n\n  start() {\n    // Start the oscillator\n    this.oscillator.start();\n  }\n\n  stop() {\n    // Stop the oscillator smoothly over 500ms\n    this.gainNode.gain.linearRampToValueAtTime(\n      0,\n      this.audioContext.currentTime + 0.5\n    );\n\n    // Stop the oscillator completely after 500ms\n    this.oscillator.stop(this.audioContext.currentTime + 0.5);\n  }\n}\n\nfunction getFrequency(note) {\n  return 440 * Math.pow(2, (note - 69) / 12);\n}\n","export default class MIDIHandler {\n  constructor(synth) {\n    console.log('Midihandler constructor', navigator);\n    // Request access to Web MIDI API\n    navigator\n      .requestMIDIAccess()\n      .then(this.onMIDISuccess.bind(this), this.onMIDIFailure.bind(this));\n    this.synth = synth;\n  }\n\n  onMIDIMessage(message) {\n    // Extract MIDI data\n    const [status, note, velocity] = message.data;\n\n    // Check if the message is from the selected input device\n    const selectedInput = this.midiAccess.inputs.get(this.selectedDeviceId);\n    if (selectedInput === message.target) {\n      if (status === 144 && velocity > 0) {\n        // Note-on message\n        // this.synth.playSynth(note, velocity);\n        console.log('note on', note);\n      } else if (status === 128 || (status === 144 && velocity === 0)) {\n        // Note-off message\n        // this.stopSynth(note);\n        console.log('note on', note);\n      }\n    }\n  }\n\n  onMIDISuccess(access) {\n    this.midiAccess = access;\n\n    // Get the list of available MIDI devices\n    const devices = this.midiAccess.inputs.values();\n    const selectElement = document.getElementById('device-select');\n\n    // Populate the device select options\n    for (let device of devices) {\n      const optionElement = document.createElement('option');\n      optionElement.value = device.id;\n      optionElement.text = device.name;\n      selectElement.appendChild(optionElement);\n    }\n\n    // Add event listener for device selection\n    selectElement.addEventListener('change', this.onDeviceSelect);\n\n    // Listen for MIDI messages\n    for (let input of this.midiAccess.inputs.values()) {\n      input.onmidimessage = this.onMIDIMessage;\n    }\n  }\n\n  onMIDIFailure() {\n    console.log('Failed to access MIDI devices');\n  }\n\n  onDeviceSelect(event) {\n    this.selectedDeviceId = event.target.value;\n\n    // Close existing MIDI inputs\n    navigator.requestMIDIAccess().then((midiAccess) => {\n      for (let input of midiAccess.inputs.values()) {\n        input.onmidimessage = null;\n      }\n\n      // Stop all active voices\n      for (let voice of this.synth.voices) {\n        voice.stop();\n      }\n      this.synth.voices = []; // Clear the voices array\n\n      // Listen for MIDI messages on the selected input\n      const selectedInput = midiAccess.inputs.get(this.selectedDeviceId);\n      if (selectedInput) {\n        selectedInput.onmidimessage = this.onMIDIMessage;\n      }\n    });\n  }\n\n  setupKeyboardListener() {\n    // Keyboard event listener for Shift + Spacebar\n    document.addEventListener('keydown', (event) => {\n      if (event.shiftKey && event.code === 'Space') {\n        this.toggleMIDIDeviceSelect();\n      }\n    });\n  }\n\n  toggleMIDIDeviceSelect() {\n    const deviceSelectContainer = document.getElementById(\n      'device-select-container'\n    );\n\n    if (!deviceSelectContainer) return;\n\n    if (deviceSelectContainer.style.display === 'none') {\n      // Show MIDI device select container\n      deviceSelectContainer.style.display = 'block';\n    } else {\n      // Hide MIDI device select container\n      deviceSelectContainer.style.display = 'none';\n    }\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport {};","import { Piano, MidiNumbers } from 'react-piano';\nimport 'react-piano/dist/styles.css';\n\nexport default function MIDIPiano({ onPlayNote, onStopNote }) {\n  const firstNote = MidiNumbers.fromNote('c3');\n  const lastNote = MidiNumbers.fromNote('f5');\n  // const keyboardShortcuts = KeyboardShortcuts.create({\n  //   firstNote,\n  //   lastNote,\n  //   keyboardConfig: KeyboardShortcuts.HOME_ROW,\n  // });\n\n  return (\n    <Piano\n      noteRange={{ first: firstNote, last: lastNote }}\n      playNote={onPlayNote}\n      stopNote={onStopNote}\n      width={1000}\n      // keyboardShortcuts={keyboardShortcuts}\n    />\n  );\n}\n","import { useCallback, useState, useEffect } from 'preact/hooks';\n\nimport PolySynth from '../../../utils/polysynth';\nimport MIDIPiano from './piano';\nimport useWs from '../../../hooks/useWs';\nimport Monitor from '../../wsMonitor';\n\nconst SynthClient = () => {\n  const ws = useWs();\n\n  const {\n    incomingMessage,\n    broadcastMessage,\n    myChannels,\n    sendMessageToTargetClient,\n  } = ws;\n\n  const [polySynth, setPolySynth] = useState(null);\n  const [muteIncoming, setMuteIncoming] = useState(false);\n  const [muteOutgoing, setMuteOutgoing] = useState(false);\n  const [broadcastNotes, setBroadcastNotes] = useState(true);\n\n  useEffect(() => {\n    if (!incomingMessage) return;\n    switch (incomingMessage.type) {\n      case 'playNote':\n        if (!muteIncoming) polySynth?.playNote(...incomingMessage.noteData);\n        break;\n      case 'stopNote':\n        polySynth?.stopNote(...incomingMessage.noteData);\n        break;\n    }\n  }, [polySynth, incomingMessage, muteIncoming]);\n\n  useEffect(() => {\n    if (!window) return;\n    setPolySynth(new PolySynth());\n  }, []);\n\n  const handlePlayNote = useCallback(\n    (note) => {\n      console.log('playing', note);\n      if (polySynth && !muteOutgoing) polySynth.playNote(note);\n      if (broadcastNotes)\n        broadcastMessage(\n          JSON.stringify({ type: 'playNote', noteData: [note] })\n        );\n    },\n    [broadcastMessage, broadcastNotes, muteOutgoing, polySynth]\n  );\n\n  const handleStopNote = useCallback(\n    (note) => {\n      console.log('stopping', note);\n      if (polySynth) polySynth.stopNote(note);\n      if (broadcastNotes)\n        broadcastMessage(\n          JSON.stringify({ type: 'stopNote', noteData: [note] })\n        );\n    },\n    [broadcastMessage, broadcastNotes, polySynth]\n  );\n\n  const [sequencerIntervalId, setSequencerIntervalId] = useState(null);\n\n  const handleSequenceChannel = useCallback(\n    (channelName) => {\n      if (!channelName.length) return;\n\n      if (sequencerIntervalId) clearInterval(sequencerIntervalId);\n      console.log('setting new interval id');\n\n      let sequenceTarget;\n\n      setSequencerIntervalId(\n        setInterval(() => {\n          const targetChannel = myChannels.find(\n            (c) => c.channel === channelName\n          );\n          if (!targetChannel) return;\n          console.log('targetChannel', targetChannel);\n\n          const members = targetChannel.members.filter((m) => m !== ws.id);\n          if (!members.length) return;\n          console.log('members', members);\n\n          const targetIndex = sequenceTarget\n            ? (members.findIndex((m) => m === sequenceTarget) + 1) %\n              members.length\n            : 0;\n\n          sequenceTarget = sequenceTarget ? members[targetIndex] : members[0];\n\n          console.log('sequencing', members, sequenceTarget, targetIndex);\n\n          sendMessageToTargetClient(\n            JSON.stringify({ type: 'playNote', noteData: [69 + targetIndex] }),\n            sequenceTarget\n          );\n\n          setTimeout(() => {\n            sendMessageToTargetClient(\n              JSON.stringify({\n                type: 'stopNote',\n                noteData: [69 + targetIndex],\n              }),\n              sequenceTarget\n            );\n          }, 100);\n        }, 1000)\n      );\n\n      return () => clearInterval(sequencerIntervalId);\n    },\n    [myChannels, sendMessageToTargetClient, sequencerIntervalId, ws.id]\n  );\n\n  return (\n    <div>\n      <Monitor websocket={ws} />\n\n      <div className='mb-2'>\n        <div>\n          <label htmlFor='mute'>mute incoming notes</label>\n          <input\n            name={'mute incoming'}\n            type='checkbox'\n            checked={muteIncoming}\n            onChange={() => setMuteIncoming((p) => !p)}\n          />\n        </div>\n        <div>\n          <label htmlFor='mute'>mute outgoing notes</label>\n          <input\n            name={'mute outgoing'}\n            type='checkbox'\n            checked={muteOutgoing}\n            onChange={() => setMuteOutgoing((p) => !p)}\n          />\n        </div>\n        <div>\n          <label htmlFor='broadcastNotes'>broadcast notes</label>\n          <input\n            name={'broadcastNotes'}\n            type='checkbox'\n            checked={broadcastNotes}\n            onChange={() => setBroadcastNotes(!broadcastNotes)}\n          />\n        </div>\n      </div>\n      <div className='flex flex-row gap-2 mb-2'>\n        <span>sequence to channel</span>\n        <select\n          className='px-1'\n          name='channel'\n          onChange={(e) => handleSequenceChannel(e.target.value)}>\n          <>\n            <option />\n            {myChannels.map((c) => (\n              <option key={c.channel}>{c.channel}</option>\n            ))}\n          </>\n        </select>\n      </div>\n      <MIDIPiano onPlayNote={handlePlayNote} onStopNote={handleStopNote} />\n    </div>\n  );\n};\n\nexport default SynthClient;\n","// extracted by mini-css-extract-plugin\nexport default {\"home\":\"home__Tk3DL\",\"resource\":\"resource__-GqBH\"};","import { useState, useEffect } from 'preact/hooks';\n\nimport MIDIHandler from '../../../utils/midihandler';\nimport useWs from '../../../hooks/useWs';\nimport Monitor from '../../wsMonitor';\n\nconst MidiClient = () => {\n  const ws = useWs();\n\n  const [, setMidiHandler] = useState(null);\n\n  useEffect(() => {\n    if (!window || !navigator) return;\n    setMidiHandler(new MIDIHandler());\n  }, []);\n\n  return (\n    <div>\n      <Monitor websocket={ws} />\n      <div id='device-select-container' style='display: block;'>\n        <p>press shift+space to toggle controls</p>\n        <label for='device-select'>Select MIDI Device:</label>\n        <select id='device-select' />\n      </div>\n    </div>\n  );\n};\n\nexport default MidiClient;\n"],"sourceRoot":""}