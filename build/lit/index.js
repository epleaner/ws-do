class e{constructor({handleMessage:e}={}){this.ws=null,this.wsUrl="",this.history=[],this.heartbeat=null,this.joinedChannels=[],this.availableChannels=[],this.id=null,this.incomingMessage="",this.handleMessage=e||(()=>{}),this.connect=this.connect.bind(this),this.initialize=this.initialize.bind(this),this.onMessage=this.onMessage.bind(this),this.onOpen=this.onOpen.bind(this),this.getChannels=this.getChannels.bind(this),this.joinChannel=this.joinChannel.bind(this),this.broadcastMessage=this.broadcastMessage.bind(this),this.sendMessageToTargetChannel=this.sendMessageToTargetChannel.bind(this),this.sendMessageToTargetClient=this.sendMessageToTargetClient.bind(this),this.sendMessageToJoinedChannels=this.sendMessageToJoinedChannels.bind(this),this.initialize()}connect(e){e.length&&"undefined"!=typeof window&&(console.log("attempting to connect to",e),this.ws&&this.ws.OPEN&&this.ws.close(),this.ws=new WebSocket(e))}initialize(){if("undefined"==typeof window)return;const e=window.location.protocol.includes("https")?"wss":"ws",t=window.location.protocol.includes("https")?"":":3000",n=`${e}://${location.hostname}${t}?channels=welcome`;this.wsUrl=n,this.connect(n),this.ws.onmessage=this.onMessage,this.ws.onopen=this.onOpen}onOpen(){console.log("connection opened"),this.getChannels()}onMessage(e){const t=JSON.parse(e.data);switch(t.type){case"id":this.id=t.id;break;case"heartbeat":this.heartbeat=t.heartbeat;break;case"joinedChannels":this.joinedChannels=t.channels;break;case"availableChannels":this.availableChannels=t.channels;break;default:this.history.unshift(t)}this.incomingMessage=t,this.handleMessage(t)}getChannels(){this.ws?.send(JSON.stringify({type:"joinedChannels"})),this.ws?.send(JSON.stringify({type:"availableChannels"}))}joinChannel(e){e.preventDefault(),this.ws?.send(JSON.stringify({type:"joinChannel",channel:e.target.channel.value}))}broadcastMessage(e){this.ws?.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify({type:"broadcast",message:{...JSON.parse(e),timestamp:Date.now()}}))}sendMessageToTargetChannel(e,t){this.ws?.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify({...JSON.parse(e),timestamp:Date.now(),channel:t}))}sendMessageToTargetClient(e,t){console.log("sending to target id",e,t),this.ws?.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify({...JSON.parse(e),timestamp:Date.now(),targetId:t}))}sendMessageToJoinedChannels(e){this.ws?.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify({...JSON.parse(e),timestamp:Date.now()}))}get wsState(){if("undefined"==typeof window)return"uninitialized";switch(this.ws?.readyState){case WebSocket.CONNECTING:return"connecting";case WebSocket.OPEN:return"open";case WebSocket.CLOSING:return"closing";case WebSocket.CLOSED:return"closed";default:return"uninitialized"}}}var t="An invariant failed, however the error is obfuscated because this is a production build.",n=[];Object.freeze(n);var r={};function o(){return++Se.mobxGuid}function i(e){throw s(!1,e),"X"}function s(e,n){if(!e)throw new Error("[mobx] "+(n||t))}function a(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}Object.freeze(r);var c=function(){};function u(e){return null!==e&&"object"==typeof e}function l(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function h(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function d(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!n||!1!==n.configurable&&!1!==n.writable}function p(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return u(e)&&!0===e[n]}}function f(e){return e instanceof Map}function v(e){return e instanceof Set}function y(e){var t=new Set;for(var n in e)t.add(n);return Object.getOwnPropertySymbols(e).forEach((function(n){Object.getOwnPropertyDescriptor(e,n).enumerable&&t.add(n)})),Array.from(t)}function b(e){return e&&e.toString?e.toString():new String(e).toString()}function g(e){return null===e?null:"object"==typeof e?""+e:e}var m="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,_=Symbol("mobx administration"),E=function(){function e(e){void 0===e&&(e="Atom@"+o()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=F.NOT_TRACKING}return e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.reportObserved=function(){return je(this)},e.prototype.reportChanged=function(){De(),function(e){if(e.lowestObserverState===F.STALE)return;e.lowestObserverState=F.STALE,e.observers.forEach((function(t){t.dependenciesState===F.UP_TO_DATE&&(t.isTracing!==Z.NONE&&Te(t,e),t.onBecomeStale()),t.dependenciesState=F.STALE}))}(this),Ve()},e.prototype.toString=function(){return this.name},e}(),w=p("Atom",E);function O(e,t,n){void 0===t&&(t=c),void 0===n&&(n=c);var r,o=new E(e);return t!==c&&qe("onBecomeObserved",o,t,r),n!==c&&We(o,n),o}var A={identity:function(e,t){return e===t},structural:function(e,t){return Rt(e,t)},default:function(e,t){return Object.is(e,t)},shallow:function(e,t){return Rt(e,t,1)}},N=function(e,t){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},N(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var S=function(){return S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},S.apply(this,arguments)};function x(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function $(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function C(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat($(arguments[t]));return e}var D=Symbol("mobx did run lazy initializers"),V=Symbol("mobx pending decorators"),j={},T={};function k(e){var t,n;if(!0!==e[D]){var r=e[V];if(r){h(e,D,!0);var o=C(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var i=x(o),s=i.next();!s.done;s=i.next()){var a=r[s.value];a.propertyCreator(e,a.prop,a.descriptor,a.decoratorTarget,a.decoratorArguments)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}}}function P(e,t){return function(){var r,o=function(n,o,s,a){if(!0===a)return t(n,o,s,n,r),null;if("production"===process.env.NODE_ENV||R(arguments)||i("This function is a decorator, but it wasn't invoked like a decorator"),!Object.prototype.hasOwnProperty.call(n,V)){var c=n[V];h(n,V,S({},c))}return n[V][o]={prop:o,propertyCreator:t,descriptor:s,decoratorTarget:n,decoratorArguments:r},function(e,t){var n=t?j:T;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return k(this),this[e]},set:function(t){k(this),this[e]=t}})}(o,e)};return R(arguments)?(r=n,o.apply(null,arguments)):(r=Array.prototype.slice.call(arguments),o)}}function R(e){return(2===e.length||3===e.length)&&("string"==typeof e[1]||"symbol"==typeof e[1])||4===e.length&&!0===e[3]}function U(e,t,n){return et(e)?e:Array.isArray(e)?X.array(e,{name:n}):l(e)?X.object(e,void 0,{name:n}):f(e)?X.map(e,{name:n}):v(e)?X.set(e,{name:n}):e}function M(e){return e}function L(e){s(e);var t=P(!0,(function(t,n,r,o,i){"production"!==process.env.NODE_ENV&&s(!r||!r.get,'@observable cannot be used on getter (property "'+b(n)+'"), use @computed instead.');var a=r?r.initializer?r.initializer.call(t):r.value:void 0;St(t).addObservableProp(n,a,e)})),n="undefined"!=typeof process&&process.env&&"production"!==process.env.NODE_ENV?function(){return arguments.length<2?i("Incorrect decorator invocation. @observable decorator doesn't expect any arguments"):t.apply(null,arguments)}:t;return n.enhancer=e,n}var I={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function B(e){/^(deep|name|equals|defaultDecorator|proxy)$/.test(e)||i("invalid option for (extend)observable: "+e)}function H(e){if(null==e)return I;if("string"==typeof e)return{name:e,deep:!0,proxy:!0};if("production"!==process.env.NODE_ENV){if("object"!=typeof e)return i("expected options object");Object.keys(e).forEach(B)}return e}Object.freeze(I);var z=L(U),J=L((function(e,t,n){return null==e||Vt(e)||bt(e)||Et(e)||At(e)?e:Array.isArray(e)?X.array(e,{name:n,deep:!1}):l(e)?X.object(e,void 0,{name:n,deep:!1}):f(e)?X.map(e,{name:n,deep:!1}):v(e)?X.set(e,{name:n,deep:!1}):i("production"!==process.env.NODE_ENV&&"The shallow modifier / decorator can only used in combination with arrays, objects, maps and sets")})),G=L(M),K=L((function(e,t,n){if("production"!==process.env.NODE_ENV&&et(e))throw"observable.struct should not be used with observable values";return Rt(e,t)?t:e}));function W(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?M:U}var q={box:function(e,t){arguments.length>2&&Y("box");var n=H(t);return new me(e,W(n),n.name,!0,n.equals)},array:function(e,t){arguments.length>2&&Y("array");var n=H(t);return function(e,t,n,r){void 0===n&&(n="ObservableArray@"+o());void 0===r&&(r=!1);var i=new pt(n,t,r);s=i.values,a=_,c=i,Object.defineProperty(s,a,{enumerable:!1,writable:!1,configurable:!0,value:c});var s,a,c;var u=new Proxy(i.values,dt);if(i.proxy=u,e&&e.length){var l=be(!0);i.spliceWithArray(0,0,e),ge(l)}return u}(e,W(n),n.name)},map:function(e,t){arguments.length>2&&Y("map");var n=H(t);return new _t(e,W(n),n.name)},set:function(e,t){arguments.length>2&&Y("set");var n=H(t);return new Ot(e,W(n),n.name)},object:function(e,t,n){"string"==typeof arguments[1]&&Y("object");var r=H(n);if(!1===r.proxy)return Xe({},e,t,r);var o=Ye(r),i=function(e){var t=new Proxy(e,it);return e[_].proxy=t,t}(Xe({},void 0,void 0,r));return Fe(i,e,t,o),i},ref:G,shallow:J,deep:z,struct:K},X=function(e,t,n){if("string"==typeof arguments[1]||"symbol"==typeof arguments[1])return z.apply(null,arguments);if(et(e))return e;var r=l(e)?X.object(e,t,n):Array.isArray(e)?X.array(e,t):f(e)?X.map(e,t):v(e)?X.set(e,t):e;if(r!==e)return r;i("production"!==process.env.NODE_ENV&&"The provided value could not be converted into an observable. If you want just create an observable reference to the object use 'observable.box(value)'")};function Y(e){i("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(q).forEach((function(e){return X[e]=q[e]}));var F,Z,Q=P(!1,(function(e,t,n,r,o){"production"!==process.env.NODE_ENV&&s(n&&n.get,"Trying to declare a computed value for unspecified getter '"+b(t)+"'");var i=n.get,a=n.set,c=o[0]||{};St(e).addComputedProp(e,t,S({get:i,set:a,context:e},c))}));Q({equals:A.structural}),function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}(F||(F={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(Z||(Z={}));var ee=function(e){this.cause=e};function te(e){return e instanceof ee}function ne(e){switch(e.dependenciesState){case F.UP_TO_DATE:return!1;case F.NOT_TRACKING:case F.STALE:return!0;case F.POSSIBLY_STALE:for(var t=ue(!0),n=ae(),r=e.observing,o=r.length,i=0;i<o;i++){var s=r[i];if(Ee(s)){if(Se.disableErrorBoundaries)s.get();else try{s.get()}catch(e){return ce(n),le(t),!0}if(e.dependenciesState===F.STALE)return ce(n),le(t),!0}}return he(e),ce(n),le(t),!1}}function re(e){var t=e.observers.size>0;Se.computationDepth>0&&t&&i("production"!==process.env.NODE_ENV&&"Computed values are not allowed to cause side effects by changing observables that are already being observed. Tried to modify: "+e.name),Se.allowStateChanges||!t&&"strict"!==Se.enforceActions||i("production"!==process.env.NODE_ENV&&(Se.enforceActions?"Since strict-mode is enabled, changing observed observable values outside actions is not allowed. Please wrap the code in an `action` if this change is intended. Tried to modify: ":"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, the render function of a React component? Tried to modify: ")+e.name)}function oe(e,t,n){var r=ue(!0);he(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++Se.runId;var o,i=Se.trackingDerivation;if(Se.trackingDerivation=e,!0===Se.disableErrorBoundaries)o=t.call(n);else try{o=t.call(n)}catch(e){o=new ee(e)}return Se.trackingDerivation=i,function(e){for(var t=e.observing,n=e.observing=e.newObserving,r=F.UP_TO_DATE,o=0,i=e.unboundDepsCount,s=0;s<i;s++){0===(a=n[s]).diffValue&&(a.diffValue=1,o!==s&&(n[o]=a),o++),a.dependenciesState>r&&(r=a.dependenciesState)}n.length=o,e.newObserving=null,i=t.length;for(;i--;){0===(a=t[i]).diffValue&&$e(a,e),a.diffValue=0}for(;o--;){var a;1===(a=n[o]).diffValue&&(a.diffValue=0,xe(a,e))}r!==F.UP_TO_DATE&&(e.dependenciesState=r,e.onBecomeStale())}(e),function(e){if("production"===process.env.NODE_ENV)return;if(0!==e.observing.length)return;(Se.reactionRequiresObservable||e.requiresObservable)&&console.warn("[mobx] Derivation "+e.name+" is created/updated without reading any observable value")}(e),le(r),o}function ie(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)$e(t[n],e);e.dependenciesState=F.NOT_TRACKING}function se(e){var t=ae();try{return e()}finally{ce(t)}}function ae(){var e=Se.trackingDerivation;return Se.trackingDerivation=null,e}function ce(e){Se.trackingDerivation=e}function ue(e){var t=Se.allowStateReads;return Se.allowStateReads=e,t}function le(e){Se.allowStateReads=e}function he(e){if(e.dependenciesState!==F.UP_TO_DATE){e.dependenciesState=F.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=F.UP_TO_DATE}}var de=0,pe=1,fe=Object.getOwnPropertyDescriptor((function(){}),"name"),ve=fe&&fe.configurable;function ye(e,t,n){"production"!==process.env.NODE_ENV&&(s("function"==typeof t,"`action` can only be invoked on functions"),"string"==typeof e&&e||i("actions should have valid names, got: '"+e+"'"));var r=function(){return function(e,t,n,r){var o=function(e,t,n){var r=Be()&&!!e,o=0;if(r&&"production"!==process.env.NODE_ENV){o=Date.now();var i=n&&n.length||0,s=new Array(i);if(i>0)for(var a=0;a<i;a++)s[a]=n[a];ze({type:"action",name:e,object:t,arguments:s})}var c=ae();De();var u=be(!0),l=ue(!0),h={prevDerivation:c,prevAllowStateChanges:u,prevAllowStateReads:l,notifySpy:r,startTime:o,actionId:pe++,parentActionId:de};return de=h.actionId,h}(e,n,r);try{return t.apply(n,r)}catch(e){throw o.error=e,e}finally{!function(e){de!==e.actionId&&i("invalid action stack. did you forget to finish an action?");de=e.parentActionId,void 0!==e.error&&(Se.suppressReactionErrors=!0);ge(e.prevAllowStateChanges),le(e.prevAllowStateReads),Ve(),ce(e.prevDerivation),e.notifySpy&&"production"!==process.env.NODE_ENV&&Ge({time:Date.now()-e.startTime});Se.suppressReactionErrors=!1}(o)}}(e,t,n||this,arguments)};return r.isMobxAction=!0,"production"!==process.env.NODE_ENV&&ve&&Object.defineProperty(r,"name",{value:e}),r}function be(e){var t=Se.allowStateChanges;return Se.allowStateChanges=e,t}function ge(e){Se.allowStateChanges=e}var me=function(e){function t(t,n,r,i,s){void 0===r&&(r="ObservableValue@"+o()),void 0===i&&(i=!0),void 0===s&&(s=A.default);var a=e.call(this,r)||this;return a.enhancer=n,a.name=r,a.equals=s,a.hasUnreportedChange=!1,a.value=n(t,void 0,r),i&&Be()&&"production"!==process.env.NODE_ENV&&He({type:"create",name:a.name,newValue:""+a.value}),a}return function(e,t){function n(){this.constructor=e}N(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){var t=this.value;if((e=this.prepareNewValue(e))!==Se.UNCHANGED){var n=Be();n&&"production"!==process.env.NODE_ENV&&ze({type:"update",name:this.name,newValue:e,oldValue:t}),this.setNewValue(e),n&&"production"!==process.env.NODE_ENV&&Ge()}},t.prototype.prepareNewValue=function(e){if(re(this),st(this)){var t=ct(this,{object:this,type:"update",newValue:e});if(!t)return Se.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?Se.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),ut(this)&&ht(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return at(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),lt(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return g(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(E);p("ObservableValue",me);var _e=function(){function e(e){this.dependenciesState=F.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=F.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+o(),this.value=new ee(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Z.NONE,s(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+o(),e.set&&(this.setter=ye(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?A.structural:A.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState!==F.UP_TO_DATE)return;e.lowestObserverState=F.POSSIBLY_STALE,e.observers.forEach((function(t){t.dependenciesState===F.UP_TO_DATE&&(t.dependenciesState=F.POSSIBLY_STALE,t.isTracing!==Z.NONE&&Te(t,e),t.onBecomeStale())}))}(this)},e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.get=function(){this.isComputing&&i("Cycle detected in computation "+this.name+": "+this.derivation),0!==Se.inBatch||0!==this.observers.size||this.keepAlive?(je(this),ne(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState===F.STALE)return;e.lowestObserverState=F.STALE,e.observers.forEach((function(t){t.dependenciesState===F.POSSIBLY_STALE?t.dependenciesState=F.STALE:t.dependenciesState===F.UP_TO_DATE&&(e.lowestObserverState=F.UP_TO_DATE)}))}(this)):ne(this)&&(this.warnAboutUntrackedRead(),De(),this.value=this.computeValue(!1),Ve());var e=this.value;if(te(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(te(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){s(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else s(!1,"production"!==process.env.NODE_ENV&&"[ComputedValue '"+this.name+"'] It is not possible to assign a new value to a computed value.")},e.prototype.trackAndCompute=function(){Be()&&"production"!==process.env.NODE_ENV&&He({object:this.scope,type:"compute",name:this.name});var e=this.value,t=this.dependenciesState===F.NOT_TRACKING,n=this.computeValue(!0),r=t||te(e)||te(n)||!this.equals(e,n);return r&&(this.value=n),r},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,Se.computationDepth++,e)t=oe(this,this.derivation,this.scope);else if(!0===Se.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new ee(e)}return Se.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(ie(this),this.value=void 0)},e.prototype.observe=function(e,t){var n=this,i=!0,a=void 0;return function(e,t){void 0===t&&(t=r);"production"!==process.env.NODE_ENV&&(s("function"==typeof e,"Autorun expects a function as first argument"),s(!1==("function"==typeof(n=e)&&!0===n.isMobxAction),"Autorun does not accept actions since actions are untrackable"));var n;var i,a=t&&t.name||e.name||"Autorun@"+o();if(t.scheduler||t.delay){var c=function(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Ke}(t),u=!1;i=new Pe(a,(function(){u||(u=!0,c((function(){u=!1,i.isDisposed||i.track(l)})))}),t.onError,t.requiresObservable)}else i=new Pe(a,(function(){this.track(l)}),t.onError,t.requiresObservable);function l(){e(i)}return i.schedule(),i.getDisposer()}((function(){var r=n.get();if(!i||t){var o=ae();e({type:"update",object:n,newValue:r,oldValue:a}),ce(o)}i=!1,a=r}))},e.prototype.warnAboutUntrackedRead=function(){"production"!==process.env.NODE_ENV&&(!0===this.requiresReaction&&i("[mobx] Computed value "+this.name+" is read outside a reactive context"),this.isTracing!==Z.NONE&&console.log("[mobx.trace] '"+this.name+"' is being read outside a reactive context. Doing a full recompute"),Se.computedRequiresReaction&&console.warn("[mobx] Computed value "+this.name+" is being read outside a reactive context. Doing a full recompute"))},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return g(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(),Ee=p("ComputedValue",_e),we=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Oe={};function Ae(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:Oe}var Ne=!0,Se=function(){var e=Ae();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Ne=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new we).version&&(Ne=!1),Ne?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new we):(setTimeout((function(){i("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new we)}();function xe(e,t){e.observers.add(t),e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function $e(e,t){e.observers.delete(t),0===e.observers.size&&Ce(e)}function Ce(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,Se.pendingUnobservations.push(e))}function De(){Se.inBatch++}function Ve(){if(0==--Se.inBatch){Me();for(var e=Se.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof _e&&n.suspend())}Se.pendingUnobservations=[]}}function je(e){!function(e){"production"!==process.env.NODE_ENV&&!Se.allowStateReads&&Se.observableRequiresReaction&&console.warn("[mobx] Observable "+e.name+" being read outside a reactive context")}(e);var t=Se.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.size&&Se.inBatch>0&&Ce(e),!1)}function Te(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===Z.BREAK){var n=[];ke(Ze(jt(e,r)),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof _e?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}var r}function ke(e,t,n){t.length>=1e3?t.push("(and many more)"):(t.push(""+new Array(n).join("\t")+e.name),e.dependencies&&e.dependencies.forEach((function(e){return ke(e,t,n+1)})))}var Pe=function(){function e(e,t,n,r){void 0===e&&(e="Reaction@"+o()),void 0===r&&(r=!1),this.name=e,this.onInvalidate=t,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=F.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+o(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Z.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Se.pendingReactions.push(this),Me())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(De(),this._isScheduled=!1,ne(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&Be()&&"production"!==process.env.NODE_ENV&&He({name:this.name,type:"scheduled-reaction"})}catch(e){this.reportExceptionInDerivation(e)}}Ve()}},e.prototype.track=function(e){if(!this.isDisposed){De();var t,n=Be();n&&"production"!==process.env.NODE_ENV&&(t=Date.now(),ze({name:this.name,type:"reaction"})),this._isRunning=!0;var r=oe(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ie(this),te(r)&&this.reportExceptionInDerivation(r.cause),n&&"production"!==process.env.NODE_ENV&&Ge({time:Date.now()-t}),Ve()}},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(Se.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Se.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,e),Be()&&He({type:"error",name:this.name,message:n,error:""+e}),Se.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(De(),ie(this),Ve()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e[_]=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var r=function(e){switch(e.length){case 0:return Se.trackingDerivation;case 1:return jt(e[0]);case 2:return jt(e[0],e[1])}}(e);if(!r)return i("production"!==process.env.NODE_ENV&&"'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");r.isTracing===Z.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled");r.isTracing=n?Z.BREAK:Z.LOG}(this,e)},e}(),Re=100,Ue=function(e){return e()};function Me(){Se.inBatch>0||Se.isRunningReactions||Ue(Le)}function Le(){Se.isRunningReactions=!0;for(var e=Se.pendingReactions,t=0;e.length>0;){++t===Re&&(console.error("Reaction doesn't converge to a stable state after "+Re+" iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction()}Se.isRunningReactions=!1}var Ie=p("Reaction",Pe);function Be(){return"production"!==process.env.NODE_ENV&&!!Se.spyListeners.length}function He(e){if("production"!==process.env.NODE_ENV&&Se.spyListeners.length)for(var t=Se.spyListeners,n=0,r=t.length;n<r;n++)t[n](e)}function ze(e){"production"!==process.env.NODE_ENV&&He(S(S({},e),{spyReportStart:!0}))}var Je={spyReportEnd:!0};function Ge(e){"production"!==process.env.NODE_ENV&&He(e?S(S({},e),{spyReportEnd:!0}):Je)}var Ke=function(e){return e()};function We(e,t,n){return qe("onBecomeUnobserved",e,t,n)}function qe(e,t,n,r){var o="function"==typeof r?jt(t,n):jt(t),s="function"==typeof r?r:n,a=e+"Listeners";return o[a]?o[a].add(s):o[a]=new Set([s]),"function"!=typeof o[e]?i("production"!==process.env.NODE_ENV&&"Not an atom that can be (un)observed"):function(){var e=o[a];e&&(e.delete(s),0===e.size&&delete o[a])}}function Xe(e,t,n,r){"production"!==process.env.NODE_ENV&&(s(arguments.length>=2&&arguments.length<=4,"'extendObservable' expected 2-4 arguments"),s("object"==typeof e,"'extendObservable' expects an object as first argument"),s(!Et(e),"'extendObservable' should not be used on maps, use map.merge instead"));var o=Ye(r=H(r));return k(e),St(e,r.name,o.enhancer),t&&Fe(e,t,n,o),e}function Ye(e){return e.defaultDecorator||(!1===e.deep?G:z)}function Fe(e,t,n,r){var o,a,c,u;if("production"!==process.env.NODE_ENV&&(s(!et(t),"Extending an object with another observable (object) is not supported. Please construct an explicit propertymap, using `toJS` if need. See issue #540"),n)){var h=y(n);try{for(var d=x(h),p=d.next();!p.done;p=d.next()){(g=p.value)in t||i("Trying to declare a decorator for unspecified property '"+b(g)+"'")}}catch(e){o={error:e}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(o)throw o.error}}}De();try{h=m(t);try{for(var f=x(h),v=f.next();!v.done;v=f.next()){var g=v.value,_=Object.getOwnPropertyDescriptor(t,g);"production"!==process.env.NODE_ENV&&(l(t)||i("'extendObservable' only accepts plain objects as second argument"),Qe(_.value)&&i("Passing a 'computed' as initial property value is no longer supported by extendObservable. Use a getter or decorator instead"));var E=n&&g in n?n[g]:_.get?Q:r;"production"!==process.env.NODE_ENV&&"function"!=typeof E&&i("Not a valid decorator for '"+b(g)+"', got: "+E);var w=E(e,g,_,!0);w&&Object.defineProperty(e,g,w)}}catch(e){c={error:e}}finally{try{v&&!v.done&&(u=f.return)&&u.call(f)}finally{if(c)throw c.error}}}finally{Ve()}}function Ze(e){var t,n,r={name:e.name};return e.observing&&e.observing.length>0&&(r.dependencies=(t=e.observing,n=[],t.forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),n).map(Ze)),r}function Qe(e){return arguments.length>1?i("production"!==process.env.NODE_ENV&&"isComputed expects only 1 argument. Use isObservableProp to inspect the observability of a property"):function(e,t){if(null==e)return!1;if(void 0!==t){if(!1===Vt(e))return!1;if(!e[_].values.has(t))return!1;var n=jt(e,t);return Ee(n)}return Ee(e)}(e)}function et(e){return 1!==arguments.length&&i("production"!==process.env.NODE_ENV&&"isObservable expects only 1 argument. Use isObservableProp to inspect the observability of a property"),function(e,t){return null!=e&&(void 0!==t?"production"!==process.env.NODE_ENV&&(Et(e)||bt(e))?i("isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead."):!!Vt(e)&&e[_].values.has(t):Vt(e)||!!e[_]||w(e)||Ie(e)||Ee(e))}(e)}function tt(e,t,n){if(2!==arguments.length||At(e))if(Vt(e)){var r=e[_];r.values.get(t)?r.write(t,n):r.addObservableProp(t,n,r.defaultEnhancer)}else if(Et(e))e.set(t,n);else if(At(e))e.add(t);else{if(!bt(e))return i("production"!==process.env.NODE_ENV&&"'set()' can only be used on observable objects, arrays and maps");"number"!=typeof t&&(t=parseInt(t,10)),s(t>=0,"Not a valid index: '"+t+"'"),De(),t>=e.length&&(e.length=t+1),e[t]=n,Ve()}else{De();var o=t;try{for(var a in o)tt(e,a,o[a])}finally{Ve()}}}function nt(e,t){void 0===t&&(t=void 0),De();try{return e.apply(t)}finally{Ve()}}function rt(e){return e[_]}function ot(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e}var it={has:function(e,t){if(t===_||"constructor"===t||t===D)return!0;var n=rt(e);return ot(t)?n.has(t):t in e},get:function(e,t){if(t===_||"constructor"===t||t===D)return e[t];var n=rt(e),r=n.values.get(t);if(r instanceof E){var o=r.get();return void 0===o&&n.has(t),o}return ot(t)&&n.has(t),e[t]},set:function(e,t,n){return!!ot(t)&&(tt(e,t,n),!0)},deleteProperty:function(e,t){return!!ot(t)&&(rt(e).remove(t),!0)},ownKeys:function(e){return rt(e).keysAtom.reportObserved(),Reflect.ownKeys(e)},preventExtensions:function(e){return i("Dynamic observable objects cannot be frozen"),!1}};function st(e){return void 0!==e.interceptors&&e.interceptors.length>0}function at(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),a((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function ct(e,t){var n=ae();try{for(var r=C(e.interceptors||[]),o=0,i=r.length;o<i&&(s(!(t=r[o](t))||t.type,"Intercept handlers should return nothing or a change object"),t);o++);return t}finally{ce(n)}}function ut(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function lt(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),a((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function ht(e,t){var n=ae(),r=e.changeListeners;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](t);ce(n)}}var dt={get:function(e,t){return t===_?e[_]:"length"===t?e[_].getArrayLength():"number"==typeof t?ft.get.call(e,t):"string"!=typeof t||isNaN(t)?ft.hasOwnProperty(t)?ft[t]:e[t]:ft.get.call(e,parseInt(t))},set:function(e,t,n){return"length"===t&&e[_].setArrayLength(n),"number"==typeof t&&ft.set.call(e,t,n),"symbol"==typeof t||isNaN(t)?e[t]=n:ft.set.call(e,parseInt(t),n),!0},preventExtensions:function(e){return i("Observable arrays cannot be frozen"),!1}};var pt=function(){function e(e,t,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new E(e||"ObservableArray@"+o()),this.enhancer=function(n,r){return t(n,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return at(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),lt(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=t},e.prototype.spliceWithArray=function(e,t,r){var o=this;re(this.atom);var i=this.values.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===r&&(r=n),st(this)){var s=ct(this,{object:this.proxy,type:"splice",index:e,removedCount:t,added:r});if(!s)return n;t=s.removedCount,r=s.added}if(r=0===r.length?r:r.map((function(e){return o.enhancer(e,void 0)})),"production"!==process.env.NODE_ENV){var a=r.length-t;this.updateArrayLength(i,a)}var c=this.spliceItemsIntoValues(e,t,r);return 0===t&&0===r.length||this.notifyArraySplice(e,r,c),this.dehanceValues(c)},e.prototype.spliceItemsIntoValues=function(e,t,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,C([e,t],n));var o=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),o},e.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&Be(),o=ut(this),i=o||r?{object:this.proxy,type:"update",index:e,newValue:t,oldValue:n}:null;r&&"production"!==process.env.NODE_ENV&&ze(S(S({},i),{name:this.atom.name})),this.atom.reportChanged(),o&&ht(this,i),r&&"production"!==process.env.NODE_ENV&&Ge()},e.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&Be(),o=ut(this),i=o||r?{object:this.proxy,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;r&&"production"!==process.env.NODE_ENV&&ze(S(S({},i),{name:this.atom.name})),this.atom.reportChanged(),o&&ht(this,i),r&&"production"!==process.env.NODE_ENV&&Ge()},e}(),ft={intercept:function(e){return this[_].intercept(e)},observe:function(e,t){return void 0===t&&(t=!1),this[_].observe(e,t)},clear:function(){return this.splice(0)},replace:function(e){var t=this[_];return t.spliceWithArray(0,t.values.length,e)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=this[_];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray(e);case 2:return o.spliceWithArray(e,t)}return o.spliceWithArray(e,t,n)},spliceWithArray:function(e,t,n){return this[_].spliceWithArray(e,t,n)},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[_];return n.spliceWithArray(n.values.length,0,e),n.values.length},pop:function(){return this.splice(Math.max(this[_].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[_];return n.spliceWithArray(0,0,e),n.values.length},reverse:function(){"production"!==process.env.NODE_ENV&&console.warn("[mobx] `observableArray.reverse()` will not update the array in place. Use `observableArray.slice().reverse()` to suppress this warning and perform the operation on a copy, or `observableArray.replace(observableArray.slice().reverse())` to reverse & update in place");var e=this.slice();return e.reverse.apply(e,arguments)},sort:function(e){"production"!==process.env.NODE_ENV&&console.warn("[mobx] `observableArray.sort()` will not update the array in place. Use `observableArray.slice().sort()` to suppress this warning and perform the operation on a copy, or `observableArray.replace(observableArray.slice().sort())` to sort & update in place");var t=this.slice();return t.sort.apply(t,arguments)},remove:function(e){var t=this[_],n=t.dehanceValues(t.values).indexOf(e);return n>-1&&(this.splice(n,1),!0)},get:function(e){var t=this[_];if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(e,t){var n=this[_],r=n.values;if(e<r.length){re(n.atom);var o=r[e];if(st(n)){var i=ct(n,{type:"update",object:n.proxy,index:e,newValue:t});if(!i)return;t=i.newValue}(t=n.enhancer(t,o))!==o&&(r[e]=t,n.notifyArrayChildUpdate(e,t,o))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(e){"function"==typeof Array.prototype[e]&&(ft[e]=function(){var t=this[_];t.atom.reportObserved();var n=t.dehanceValues(t.values);return n[e].apply(n,arguments)})})),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach((function(e){"function"==typeof Array.prototype[e]&&(ft[e]=function(t,n){var r=this,o=this[_];return o.atom.reportObserved(),o.dehanceValues(o.values)[e]((function(e,o){return t.call(n,e,o,r)}),n)})})),["reduce","reduceRight"].forEach((function(e){ft[e]=function(){var t=this,n=this[_];n.atom.reportObserved();var r=arguments[0];return arguments[0]=function(e,o,i){return o=n.dehanceValue(o),r(e,o,i,t)},n.values[e].apply(n.values,arguments)}}));var vt,yt=p("ObservableArrayAdministration",pt);function bt(e){return u(e)&&yt(e[_])}var gt,mt={},_t=function(){function e(e,t,n){if(void 0===t&&(t=U),void 0===n&&(n="ObservableMap@"+o()),this.enhancer=t,this.name=n,this[vt]=mt,this._keysAtom=O(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!Se.trackingDerivation)return this._has(e);var n=this._hasMap.get(e);if(!n){var r=n=new me(this._has(e),M,this.name+"."+b(e)+"?",!1);this._hasMap.set(e,r),We(r,(function(){return t._hasMap.delete(e)}))}return n.get()},e.prototype.set=function(e,t){var n=this._has(e);if(st(this)){var r=ct(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if((re(this._keysAtom),st(this))&&!(o=ct(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=Be(),r=ut(this),o=r||n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return n&&"production"!==process.env.NODE_ENV&&ze(S(S({},o),{name:this.name,key:e})),nt((function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)})),r&&ht(this,o),n&&"production"!==process.env.NODE_ENV&&Ge(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);n&&n.setNewValue(t)},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==Se.UNCHANGED){var r=Be(),o=ut(this),i=o||r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;r&&"production"!==process.env.NODE_ENV&&ze(S(S({},i),{name:this.name,key:e})),n.setNewValue(t),o&&ht(this,i),r&&"production"!==process.env.NODE_ENV&&Ge()}},e.prototype._addValue=function(e,t){var n=this;re(this._keysAtom),nt((function(){var r=new me(t,n.enhancer,n.name+"."+b(e),!1);n._data.set(e,r),t=r.value,n._updateHasMapEntry(e,!0),n._keysAtom.reportChanged()}));var r=Be(),o=ut(this),i=o||r?{type:"add",object:this,name:e,newValue:t}:null;r&&"production"!==process.env.NODE_ENV&&ze(S(S({},i),{name:this.name,key:e})),o&&ht(this,i),r&&"production"!==process.env.NODE_ENV&&Ge()},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=this.keys();return It({next:function(){var n=t.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:e.get(o)}}})},e.prototype.entries=function(){var e=this,t=this.keys();return It({next:function(){var n=t.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:[o,e.get(o)]}}})},e.prototype[(vt=_,Symbol.iterator)]=function(){return this.entries()},e.prototype.forEach=function(e,t){var n,r;try{for(var o=x(this),i=o.next();!i.done;i=o.next()){var s=$(i.value,2),a=s[0],c=s[1];e.call(t,c,a,this)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.merge=function(e){var t=this;return Et(e)&&(e=e.toJS()),nt((function(){var n=be(!0);try{l(e)?y(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=$(e,2),r=n[0],o=n[1];return t.set(r,o)})):f(e)?(e.constructor!==Map&&i("Cannot initialize from classes that inherit from Map: "+e.constructor.name),e.forEach((function(e,n){return t.set(n,e)}))):null!=e&&i("Cannot initialize map from "+e)}finally{ge(n)}})),this},e.prototype.clear=function(){var e=this;nt((function(){se((function(){var t,n;try{for(var r=x(e.keys()),o=r.next();!o.done;o=r.next()){var i=o.value;e.delete(i)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}))}))},e.prototype.replace=function(e){var t=this;return nt((function(){var n,r,o,s,a=function(e){if(f(e)||Et(e))return e;if(Array.isArray(e))return new Map(e);if(l(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return i("Cannot convert to map from '"+e+"'")}(e),c=new Map,u=!1;try{for(var h=x(t._data.keys()),d=h.next();!d.done;d=h.next()){var p=d.value;if(!a.has(p))if(t.delete(p))u=!0;else{var v=t._data.get(p);c.set(p,v)}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}try{for(var y=x(a.entries()),b=y.next();!b.done;b=y.next()){var g=$(b.value,2),m=(p=g[0],v=g[1],t._data.has(p));if(t.set(p,v),t._data.has(p)){var _=t._data.get(p);c.set(p,_),m||(u=!0)}}}catch(e){o={error:e}}finally{try{b&&!b.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}if(!u)if(t._data.size!==c.size)t._keysAtom.reportChanged();else for(var E=t._data.keys(),w=c.keys(),O=E.next(),A=w.next();!O.done;){if(O.value!==A.value){t._keysAtom.reportChanged();break}O=E.next(),A=w.next()}t._data=c})),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e,t,n={};try{for(var r=x(this),o=r.next();!o.done;o=r.next()){var i=$(o.value,2),s=i[0],a=i[1];n["symbol"==typeof s?s:b(s)]=a}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+Array.from(this.keys()).map((function(t){return b(t)+": "+e.get(t)})).join(", ")+" }]"},e.prototype.observe=function(e,t){return"production"!==process.env.NODE_ENV&&s(!0!==t,"`observe` doesn't support fireImmediately=true in combination with maps."),lt(this,e)},e.prototype.intercept=function(e){return at(this,e)},e}(),Et=p("ObservableMap",_t),wt={},Ot=function(){function e(e,t,n){if(void 0===t&&(t=U),void 0===n&&(n="ObservableSet@"+o()),this.name=n,this[gt]=wt,this._data=new Set,this._atom=O(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,r){return t(e,r,n)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;nt((function(){se((function(){var t,n;try{for(var r=x(e._data.values()),o=r.next();!o.done;o=r.next()){var i=o.value;e.delete(i)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}))}))},e.prototype.forEach=function(e,t){var n,r;try{for(var o=x(this),i=o.next();!i.done;i=o.next()){var s=i.value;e.call(t,s,s,this)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if((re(this._atom),st(this))&&!(o=ct(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){nt((function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()}));var n=Be(),r=ut(this),o=r||n?{type:"add",object:this,newValue:e}:null;n&&"production"!==process.env.NODE_ENV&&ze(o),r&&ht(this,o),n&&"production"!==process.env.NODE_ENV&&Ge()}return this},e.prototype.delete=function(e){var t=this;if(st(this)&&!(o=ct(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var n=Be(),r=ut(this),o=r||n?{type:"delete",object:this,oldValue:e}:null;return n&&"production"!==process.env.NODE_ENV&&ze(S(S({},o),{name:this.name})),nt((function(){t._atom.reportChanged(),t._data.delete(e)})),r&&ht(this,o),n&&"production"!==process.env.NODE_ENV&&Ge(),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return It({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e=this,t=0,n=Array.from(this._data.values());return It({next:function(){return t<n.length?{value:e.dehanceValue(n[t++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return At(e)&&(e=e.toJS()),nt((function(){var n=be(!0);try{Array.isArray(e)||v(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&i("Cannot initialize set from "+e)}finally{ge(n)}})),this},e.prototype.observe=function(e,t){return"production"!==process.env.NODE_ENV&&s(!0!==t,"`observe` doesn't support fireImmediately=true in combination with sets."),lt(this,e)},e.prototype.intercept=function(e){return at(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},e.prototype[(gt=_,Symbol.iterator)]=function(){return this.values()},e}(),At=p("ObservableSet",Ot),Nt=function(){function e(e,t,n,r){void 0===t&&(t=new Map),this.target=e,this.values=t,this.name=n,this.defaultEnhancer=r,this.keysAtom=new E(n+".keys")}return e.prototype.read=function(e){return this.values.get(e).get()},e.prototype.write=function(e,t){var n=this.target,r=this.values.get(e);if(r instanceof _e)r.set(t);else{if(st(this)){if(!(s=ct(this,{type:"update",object:this.proxy||n,name:e,newValue:t})))return;t=s.newValue}if((t=r.prepareNewValue(t))!==Se.UNCHANGED){var o=ut(this),i=Be(),s=o||i?{type:"update",object:this.proxy||n,oldValue:r.value,name:e,newValue:t}:null;i&&"production"!==process.env.NODE_ENV&&ze(S(S({},s),{name:this.name,key:e})),r.setNewValue(t),o&&ht(this,s),i&&"production"!==process.env.NODE_ENV&&Ge()}}},e.prototype.has=function(e){var t=this.pendingKeys||(this.pendingKeys=new Map),n=t.get(e);if(n)return n.get();var r=!!this.values.get(e);return n=new me(r,M,this.name+"."+b(e)+"?",!1),t.set(e,n),n.get()},e.prototype.addObservableProp=function(e,t,n){void 0===n&&(n=this.defaultEnhancer);var r,o,s=this.target;if(r=s,o=e,"production"===process.env.NODE_ENV||d(r,o)||i("Cannot make property '"+o.toString()+"' observable, it is not configurable and writable in the target object"),st(this)){var a=ct(this,{object:this.proxy||s,name:e,type:"add",newValue:t});if(!a)return;t=a.newValue}var c=new me(t,n,this.name+"."+b(e),!1);this.values.set(e,c),t=c.value,Object.defineProperty(s,e,function(e){return xt[e]||(xt[e]={configurable:!0,enumerable:!0,get:function(){return this[_].read(e)},set:function(t){this[_].write(e,t)}})}(e)),this.notifyPropertyAddition(e,t)},e.prototype.addComputedProp=function(e,t,n){var r=this.target;n.name=n.name||this.name+"."+b(t),this.values.set(t,new _e(n)),(e===r||d(e,t))&&Object.defineProperty(e,t,function(e){return $t[e]||($t[e]={configurable:Se.computedConfigurable,enumerable:!1,get:function(){return Ct(this).read(e)},set:function(t){Ct(this).write(e,t)}})}(t))},e.prototype.remove=function(e){if(this.values.has(e)){var t=this.target;if(st(this))if(!(a=ct(this,{object:this.proxy||t,name:e,type:"remove"})))return;try{De();var n=ut(this),r=Be(),o=this.values.get(e),i=o&&o.get();if(o&&o.set(void 0),this.keysAtom.reportChanged(),this.values.delete(e),this.pendingKeys){var s=this.pendingKeys.get(e);s&&s.set(!1)}delete this.target[e];var a=n||r?{type:"remove",object:this.proxy||t,oldValue:i,name:e}:null;r&&"production"!==process.env.NODE_ENV&&ze(S(S({},a),{name:this.name,key:e})),n&&ht(this,a),r&&"production"!==process.env.NODE_ENV&&Ge()}finally{Ve()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return"production"!==process.env.NODE_ENV&&s(!0!==t,"`observe` doesn't support the fire immediately property for observable objects."),lt(this,e)},e.prototype.intercept=function(e){return at(this,e)},e.prototype.notifyPropertyAddition=function(e,t){var n=ut(this),r=Be(),o=n||r?{type:"add",object:this.proxy||this.target,name:e,newValue:t}:null;if(r&&"production"!==process.env.NODE_ENV&&ze(S(S({},o),{name:this.name,key:e})),n&&ht(this,o),r&&"production"!==process.env.NODE_ENV&&Ge(),this.pendingKeys){var i=this.pendingKeys.get(e);i&&i.set(!0)}this.keysAtom.reportChanged()},e.prototype.getKeys=function(){var e,t;this.keysAtom.reportObserved();var n=[];try{for(var r=x(this.values),o=r.next();!o.done;o=r.next()){var i=$(o.value,2),s=i[0];i[1]instanceof me&&n.push(s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e}();function St(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=U),Object.prototype.hasOwnProperty.call(e,_))return e[_];"production"!==process.env.NODE_ENV&&s(Object.isExtensible(e),"Cannot make the designated object observable; it is not extensible"),l(e)||(t=(e.constructor.name||"ObservableObject")+"@"+o()),t||(t="ObservableObject@"+o());var r=new Nt(e,new Map,b(t),n);return h(e,_,r),r}var xt=Object.create(null),$t=Object.create(null);function Ct(e){var t=e[_];return t||(k(e),e[_])}var Dt=p("ObservableObjectAdministration",Nt);function Vt(e){return!!u(e)&&(k(e),Dt(e[_]))}function jt(e,t){if("object"==typeof e&&null!==e){if(bt(e))return void 0!==t&&i("production"!==process.env.NODE_ENV&&"It is not possible to get index atoms from arrays"),e[_].atom;if(At(e))return e[_];if(Et(e)){var n=e;return void 0===t?n._keysAtom:((r=n._data.get(t)||n._hasMap.get(t))||i("production"!==process.env.NODE_ENV&&"the entry '"+t+"' does not exist in the observable map '"+kt(e)+"'"),r)}var r;if(k(e),t&&!e[_]&&e[t],Vt(e))return t?((r=e[_].values.get(t))||i("production"!==process.env.NODE_ENV&&"no observable property '"+t+"' found on the observable object '"+kt(e)+"'"),r):i("production"!==process.env.NODE_ENV&&"please specify a property");if(w(e)||Ee(e)||Ie(e))return e}else if("function"==typeof e&&Ie(e[_]))return e[_];return i("production"!==process.env.NODE_ENV&&"Cannot obtain atom from "+e)}function Tt(e,t){return e||i("Expecting some object"),void 0!==t?Tt(jt(e,t)):w(e)||Ee(e)||Ie(e)||Et(e)||At(e)?e:(k(e),e[_]?e[_]:void i("production"!==process.env.NODE_ENV&&"Cannot obtain administration from "+e))}function kt(e,t){return(void 0!==t?jt(e,t):Vt(e)||Et(e)||At(e)?Tt(e):jt(e)).name}var Pt=Object.prototype.toString;function Rt(e,t,n){return void 0===n&&(n=-1),Ut(e,t,n)}function Ut(e,t,n,r,o){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;if("function"!==i&&"object"!==i&&"object"!=typeof t)return!1;var s=Pt.call(e);if(s!==Pt.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=Mt(e),t=Mt(t);var a="[object Array]"===s;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var c=e.constructor,u=t.constructor;if(c!==u&&!("function"==typeof c&&c instanceof c&&"function"==typeof u&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),o=o||[];for(var l=(r=r||[]).length;l--;)if(r[l]===e)return o[l]===t;if(r.push(e),o.push(t),a){if((l=e.length)!==t.length)return!1;for(;l--;)if(!Ut(e[l],t[l],n-1,r,o))return!1}else{var h=Object.keys(e),d=void 0;if(l=h.length,Object.keys(t).length!==l)return!1;for(;l--;)if(!Lt(t,d=h[l])||!Ut(e[d],t[d],n-1,r,o))return!1}return r.pop(),o.pop(),!0}function Mt(e){return bt(e)?e.slice():f(e)||Et(e)||v(e)||At(e)?Array.from(e.entries()):e}function Lt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function It(e){return e[Symbol.iterator]=Bt,e}function Bt(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");try{process.env.NODE_ENV}catch(ln){var Ht=Ae();"undefined"==typeof process&&(Ht.process={}),Ht.process.env={}}!function(){if("testCodeMinification"!==function(){}.name&&"production"!==process.env.NODE_ENV&&"undefined"!=typeof process&&"true"!==process.env.IGNORE_MOBX_MINIFY_WARNING){var e=["process","env","NODE_ENV"].join(".");console.warn("[mobx] you are running a minified build, but '"+e+"' was not set to 'production' in your bundler. This results in an unnecessarily large and slow bundle")}}(),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return"production"===process.env.NODE_ENV?(console.warn("[mobx.spy] Is a no-op in production builds"),function(){}):(Se.spyListeners.push(e),a((function(){Se.spyListeners=Se.spyListeners.filter((function(t){return t!==e}))})))},extras:{getDebugName:kt},$mobx:_})
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;const zt=window,Jt=zt.ShadowRoot&&(void 0===zt.ShadyCSS||zt.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Gt=Symbol(),Kt=new WeakMap;let Wt=class{constructor(e,t,n){if(this._$cssResult$=!0,n!==Gt)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(Jt&&void 0===e){const n=void 0!==t&&1===t.length;n&&(e=Kt.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&Kt.set(t,e))}return e}toString(){return this.cssText}};const qt=(e,...t)=>{const n=1===e.length?e[0]:t.reduce(((t,n,r)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+e[r+1]),e[0]);return new Wt(n,e,Gt)},Xt=Jt?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const n of e.cssRules)t+=n.cssText;return(e=>new Wt("string"==typeof e?e:e+"",void 0,Gt))(t)})(e):e
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;var Yt;const Ft=window,Zt=Ft.trustedTypes,Qt=Zt?Zt.emptyScript:"",en=Ft.reactiveElementPolyfillSupport,tn={toAttribute(e,t){switch(t){case Boolean:e=e?Qt:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=null!==e;break;case Number:n=null===e?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch(e){n=null}}return n}},nn=(e,t)=>t!==e&&(t==t||e==e),rn={attribute:!0,type:String,converter:tn,reflect:!1,hasChanged:nn},on="finalized";let sn=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(e){var t;this.finalize(),(null!==(t=this.h)&&void 0!==t?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach(((t,n)=>{const r=this._$Ep(n,t);void 0!==r&&(this._$Ev.set(r,n),e.push(r))})),e}static createProperty(e,t=rn){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){const n="symbol"==typeof e?Symbol():"__"+e,r=this.getPropertyDescriptor(e,n,t);void 0!==r&&Object.defineProperty(this.prototype,e,r)}}static getPropertyDescriptor(e,t,n){return{get(){return this[t]},set(r){const o=this[e];this[t]=r,this.requestUpdate(e,o,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||rn}static finalize(){if(this.hasOwnProperty(on))return!1;this[on]=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),void 0!==e.h&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const e=this.properties,t=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(const n of t)this.createProperty(n,e[n])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const e of n)t.unshift(Xt(e))}else void 0!==e&&t.push(Xt(e));return t}static _$Ep(e,t){const n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}u(){var e;this._$E_=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(e=this.constructor.h)||void 0===e||e.forEach((e=>e(this)))}addController(e){var t,n;(null!==(t=this._$ES)&&void 0!==t?t:this._$ES=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(n=e.hostConnected)||void 0===n||n.call(e))}removeController(e){var t;null===(t=this._$ES)||void 0===t||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])}))}createRenderRoot(){var e;const t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return((e,t)=>{Jt?e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):t.forEach((t=>{const n=document.createElement("style"),r=zt.litNonce;void 0!==r&&n.setAttribute("nonce",r),n.textContent=t.cssText,e.appendChild(n)}))})(t,this.constructor.elementStyles),t}connectedCallback(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)}))}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)}))}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$EO(e,t,n=rn){var r;const o=this.constructor._$Ep(e,n);if(void 0!==o&&!0===n.reflect){const i=(void 0!==(null===(r=n.converter)||void 0===r?void 0:r.toAttribute)?n.converter:tn).toAttribute(t,n.type);this._$El=e,null==i?this.removeAttribute(o):this.setAttribute(o,i),this._$El=null}}_$AK(e,t){var n;const r=this.constructor,o=r._$Ev.get(e);if(void 0!==o&&this._$El!==o){const e=r.getPropertyOptions(o),i="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==(null===(n=e.converter)||void 0===n?void 0:n.fromAttribute)?e.converter:tn;this._$El=o,this[o]=i.fromAttribute(t,e.type),this._$El=null}}requestUpdate(e,t,n){let r=!0;void 0!==e&&(((n=n||this.constructor.getPropertyOptions(e)).hasChanged||nn)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===n.reflect&&this._$El!==e&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(e,n))):r=!1),!this.isUpdatePending&&r&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((e,t)=>this[t]=e)),this._$Ei=void 0);let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(n)):this._$Ek()}catch(e){throw t=!1,this._$Ek(),e}t&&this._$AE(n)}willUpdate(e){}_$AE(e){var t;null===(t=this._$ES)||void 0===t||t.forEach((e=>{var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){void 0!==this._$EC&&(this._$EC.forEach(((e,t)=>this._$EO(t,this[t],e))),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var an;sn[on]=!0,sn.elementProperties=new Map,sn.elementStyles=[],sn.shadowRootOptions={mode:"open"},null==en||en({ReactiveElement:sn}),(null!==(Yt=Ft.reactiveElementVersions)&&void 0!==Yt?Yt:Ft.reactiveElementVersions=[]).push("1.6.2");const cn=window,un=cn.trustedTypes,ln=un?un.createPolicy("lit-html",{createHTML:e=>e}):void 0,hn="$lit$",dn=`lit$${(Math.random()+"").slice(9)}$`,pn="?"+dn,fn=`<${pn}>`,vn=document,yn=()=>vn.createComment(""),bn=e=>null===e||"object"!=typeof e&&"function"!=typeof e,gn=Array.isArray,mn="[ \t\n\f\r]",_n=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,En=/-->/g,wn=/>/g,On=RegExp(`>|${mn}(?:([^\\s"'>=/]+)(${mn}*=${mn}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),An=/'/g,Nn=/"/g,Sn=/^(?:script|style|textarea|title)$/i,xn=(e=>(t,...n)=>({_$litType$:e,strings:t,values:n}))(1),$n=Symbol.for("lit-noChange"),Cn=Symbol.for("lit-nothing"),Dn=new WeakMap,Vn=vn.createTreeWalker(vn,129,null,!1),jn=(e,t)=>{const n=e.length-1,r=[];let o,i=2===t?"<svg>":"",s=_n;for(let t=0;t<n;t++){const n=e[t];let a,c,u=-1,l=0;for(;l<n.length&&(s.lastIndex=l,c=s.exec(n),null!==c);)l=s.lastIndex,s===_n?"!--"===c[1]?s=En:void 0!==c[1]?s=wn:void 0!==c[2]?(Sn.test(c[2])&&(o=RegExp("</"+c[2],"g")),s=On):void 0!==c[3]&&(s=On):s===On?">"===c[0]?(s=null!=o?o:_n,u=-1):void 0===c[1]?u=-2:(u=s.lastIndex-c[2].length,a=c[1],s=void 0===c[3]?On:'"'===c[3]?Nn:An):s===Nn||s===An?s=On:s===En||s===wn?s=_n:(s=On,o=void 0);const h=s===On&&e[t+1].startsWith("/>")?" ":"";i+=s===_n?n+fn:u>=0?(r.push(a),n.slice(0,u)+hn+n.slice(u)+dn+h):n+dn+(-2===u?(r.push(void 0),t):h)}const a=i+(e[n]||"<?>")+(2===t?"</svg>":"");if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==ln?ln.createHTML(a):a,r]};class Tn{constructor({strings:e,_$litType$:t},n){let r;this.parts=[];let o=0,i=0;const s=e.length-1,a=this.parts,[c,u]=jn(e,t);if(this.el=Tn.createElement(c,n),Vn.currentNode=this.el.content,2===t){const e=this.el.content,t=e.firstChild;t.remove(),e.append(...t.childNodes)}for(;null!==(r=Vn.nextNode())&&a.length<s;){if(1===r.nodeType){if(r.hasAttributes()){const e=[];for(const t of r.getAttributeNames())if(t.endsWith(hn)||t.startsWith(dn)){const n=u[i++];if(e.push(t),void 0!==n){const e=r.getAttribute(n.toLowerCase()+hn).split(dn),t=/([.?@])?(.*)/.exec(n);a.push({type:1,index:o,name:t[2],strings:e,ctor:"."===t[1]?Mn:"?"===t[1]?In:"@"===t[1]?Bn:Un})}else a.push({type:6,index:o})}for(const t of e)r.removeAttribute(t)}if(Sn.test(r.tagName)){const e=r.textContent.split(dn),t=e.length-1;if(t>0){r.textContent=un?un.emptyScript:"";for(let n=0;n<t;n++)r.append(e[n],yn()),Vn.nextNode(),a.push({type:2,index:++o});r.append(e[t],yn())}}}else if(8===r.nodeType)if(r.data===pn)a.push({type:2,index:o});else{let e=-1;for(;-1!==(e=r.data.indexOf(dn,e+1));)a.push({type:7,index:o}),e+=dn.length-1}o++}}static createElement(e,t){const n=vn.createElement("template");return n.innerHTML=e,n}}function kn(e,t,n=e,r){var o,i,s,a;if(t===$n)return t;let c=void 0!==r?null===(o=n._$Co)||void 0===o?void 0:o[r]:n._$Cl;const u=bn(t)?void 0:t._$litDirective$;return(null==c?void 0:c.constructor)!==u&&(null===(i=null==c?void 0:c._$AO)||void 0===i||i.call(c,!1),void 0===u?c=void 0:(c=new u(e),c._$AT(e,n,r)),void 0!==r?(null!==(s=(a=n)._$Co)&&void 0!==s?s:a._$Co=[])[r]=c:n._$Cl=c),void 0!==c&&(t=kn(e,c._$AS(e,t.values),c,r)),t}class Pn{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;const{el:{content:n},parts:r}=this._$AD,o=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:vn).importNode(n,!0);Vn.currentNode=o;let i=Vn.nextNode(),s=0,a=0,c=r[0];for(;void 0!==c;){if(s===c.index){let t;2===c.type?t=new Rn(i,i.nextSibling,this,e):1===c.type?t=new c.ctor(i,c.name,c.strings,this,e):6===c.type&&(t=new Hn(i,this,e)),this._$AV.push(t),c=r[++a]}s!==(null==c?void 0:c.index)&&(i=Vn.nextNode(),s++)}return Vn.currentNode=vn,o}v(e){let t=0;for(const n of this._$AV)void 0!==n&&(void 0!==n.strings?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}}class Rn{constructor(e,t,n,r){var o;this.type=2,this._$AH=Cn,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=r,this._$Cp=null===(o=null==r?void 0:r.isConnected)||void 0===o||o}get _$AU(){var e,t;return null!==(t=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==t?t:this._$Cp}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===(null==e?void 0:e.nodeType)&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=kn(this,e,t),bn(e)?e===Cn||null==e||""===e?(this._$AH!==Cn&&this._$AR(),this._$AH=Cn):e!==this._$AH&&e!==$n&&this._(e):void 0!==e._$litType$?this.g(e):void 0!==e.nodeType?this.$(e):(e=>gn(e)||"function"==typeof(null==e?void 0:e[Symbol.iterator]))(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==Cn&&bn(this._$AH)?this._$AA.nextSibling.data=e:this.$(vn.createTextNode(e)),this._$AH=e}g(e){var t;const{values:n,_$litType$:r}=e,o="number"==typeof r?this._$AC(e):(void 0===r.el&&(r.el=Tn.createElement(r.h,this.options)),r);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===o)this._$AH.v(n);else{const e=new Pn(o,this),t=e.u(this.options);e.v(n),this.$(t),this._$AH=e}}_$AC(e){let t=Dn.get(e.strings);return void 0===t&&Dn.set(e.strings,t=new Tn(e)),t}T(e){gn(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,r=0;for(const o of e)r===t.length?t.push(n=new Rn(this.k(yn()),this.k(yn()),this,this.options)):n=t[r],n._$AI(o),r++;r<t.length&&(this._$AR(n&&n._$AB.nextSibling,r),t.length=r)}_$AR(e=this._$AA.nextSibling,t){var n;for(null===(n=this._$AP)||void 0===n||n.call(this,!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){var t;void 0===this._$AM&&(this._$Cp=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}class Un{constructor(e,t,n,r,o){this.type=1,this._$AH=Cn,this._$AN=void 0,this.element=e,this.name=t,this._$AM=r,this.options=o,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Cn}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,n,r){const o=this.strings;let i=!1;if(void 0===o)e=kn(this,e,t,0),i=!bn(e)||e!==this._$AH&&e!==$n,i&&(this._$AH=e);else{const r=e;let s,a;for(e=o[0],s=0;s<o.length-1;s++)a=kn(this,r[n+s],t,s),a===$n&&(a=this._$AH[s]),i||(i=!bn(a)||a!==this._$AH[s]),a===Cn?e=Cn:e!==Cn&&(e+=(null!=a?a:"")+o[s+1]),this._$AH[s]=a}i&&!r&&this.j(e)}j(e){e===Cn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}class Mn extends Un{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Cn?void 0:e}}const Ln=un?un.emptyScript:"";class In extends Un{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Cn?this.element.setAttribute(this.name,Ln):this.element.removeAttribute(this.name)}}class Bn extends Un{constructor(e,t,n,r,o){super(e,t,n,r,o),this.type=5}_$AI(e,t=this){var n;if((e=null!==(n=kn(this,e,t,0))&&void 0!==n?n:Cn)===$n)return;const r=this._$AH,o=e===Cn&&r!==Cn||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,i=e!==Cn&&(r===Cn||o);o&&this.element.removeEventListener(this.name,this,r),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,n;"function"==typeof this._$AH?this._$AH.call(null!==(n=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==n?n:this.element,e):this._$AH.handleEvent(e)}}class Hn{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){kn(this,e)}}const zn=cn.litHtmlPolyfillSupport;null==zn||zn(Tn,Rn),(null!==(an=cn.litHtmlVersions)&&void 0!==an?an:cn.litHtmlVersions=[]).push("2.7.4");const Jn=(e,t,n)=>{var r,o;const i=null!==(r=null==n?void 0:n.renderBefore)&&void 0!==r?r:t;let s=i._$litPart$;if(void 0===s){const e=null!==(o=null==n?void 0:n.renderBefore)&&void 0!==o?o:null;i._$litPart$=s=new Rn(t.insertBefore(yn(),e),e,void 0,null!=n?n:{})}return s._$AI(e),s
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */};var Gn,Kn;class Wn extends sn{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;const n=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=n.firstChild),n}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Jn(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!1)}render(){return $n}}Wn.finalized=!0,Wn._$litElement$=!0,null===(Gn=globalThis.litElementHydrateSupport)||void 0===Gn||Gn.call(globalThis,{LitElement:Wn});const qn=globalThis.litElementPolyfillSupport;null==qn||qn({LitElement:Wn}),(null!==(Kn=globalThis.litElementVersions)&&void 0!==Kn?Kn:globalThis.litElementVersions=[]).push("3.3.2");const Xn=Symbol("LitMobxRenderReaction"),Yn=Symbol("LitMobxRequestUpdate");function Fn(e){return function(e,t){var n,r;return r=class extends e{constructor(){super(...arguments),this[n]=()=>{this.requestUpdate()}}connectedCallback(){super.connectedCallback();const e=this.constructor.name||this.nodeName;this[Xn]=new t(`${e}.update()`,this[Yn]),this.hasUpdated&&this.requestUpdate()}disconnectedCallback(){super.disconnectedCallback(),this[Xn]&&(this[Xn].dispose(),this[Xn]=void 0)}update(e){this[Xn]?this[Xn].track(super.update.bind(this,e)):super.update(e)}},n=Yn,r}(e,Pe)}class Zn extends(Fn(Wn)){}class Qn extends Zn{static styles=qt`.container{font-size:10px;font-family:monospace;position:fixed;color:#000}button{font-size:10px;background-color:rgba(255,192,203,.5);border:none}button:active{background-color:rgba(255,192,203,.7)}button:disabled{background-color:gray}.main{display:flex;flex-direction:column;row-gap:10px;background-color:pink;background-color:rgba(255,192,203,.5);padding:10px;border-radius:4px}input{background-color:transparent;border:0;border-bottom:1px solid #000;color:#000;font-size:10px}input:focus{outline:0}.channels{display:flex;width:100%}.channels ul{padding:0;flex-grow:1}.channels li{margin-left:20px}.scrollable{overflow:scroll;max-height:200px}`;static get properties(){return{wsClient:{type:Object,reflect:!0},_visible:{type:Boolean,reflect:!0}}}constructor(){super(),this.message="",this.targetChannel="",this.targetId="",this.messageIsValidJSON=!1,this._visible=!0,this.wsClient=null}connectedCallback(){super.connectedCallback(),document.body.addEventListener("keydown",this.handleKeyPress.bind(this))}disconnectedCallback(){super.disconnectedCallback(),document.body.removeEventListener("keydown",this.handleKeyPress.bind(this))}handleKeyPress(e){e.shiftKey&&"Space"===e.code&&this._viewToggleHandler()}_viewToggleHandler(){this._visible=!this._visible}handleMessageInput(e){this.message=e.target.value,this.messageIsValidJSON=this.isValidJSON(this.message)}handleTargetChannelInput(e){this.targetChannel=e.target.value}handleTargetIdInput(e){this.targetId=e.target.value}handleSubmitWsUrl(e){e.preventDefault(),this.wsClient.setWsUrl(e.target.wsUrl.value)}isValidJSON(e){try{return JSON.parse(e),!0}catch(e){return!1}}render(){if(!this.wsClient)return;const{ws:e,wsUrl:t,history:n,joinedChannels:r,availableChannels:o,id:i,wsState:s,joinChannel:a}=this.wsClient,c=xn`<div class="main">${e&&t?xn`<div>${s}: ${t}</div>`:""} ${i?xn`<div>client id: ${i}</div>`:""}<form @submit="${a}"><input type="text" name="channel"> <button type="submit">join channel</button></form><div class="channels"><ul>joined channels: ${r.map((({channel:e,members:t})=>xn`<li class="ml-2">${e} (${t.length})<ul>${t.map((e=>xn`<li>${e===i?"me":e}</li>`))}</ul></li>`))}</ul><ul>all channels: ${o.map((({channel:e,members:t})=>xn`<li class="ml-2">${e} (${t.length})<ul>${t.map((e=>xn`<li>${e===i?"me":e}</li>`))}</ul></li>`))}</ul></div><div>message history:</div><div class="scrollable">${n.map((e=>xn`<div>${JSON.stringify(e)}</div>`))}</div></div>`;return xn`<div class="container"><div>${this._visible?c:""}</div></div>`}}customElements.define("ws-monitor",Qn),function(e,t){"production"!==process.env.NODE_ENV&&s(l(t),"Decorators should be a key value map");var n="function"==typeof e?e.prototype:e,r=function(e){var r=t[e];Array.isArray(r)||(r=[r]),"production"!==process.env.NODE_ENV&&s(r.every((function(e){return"function"==typeof e})),"Decorate: expected a decorator function or array of decorator functions for '"+e+"'");var o=Object.getOwnPropertyDescriptor(n,e),i=r.reduce((function(t,r){return r(n,e,t)}),o);i&&Object.defineProperty(n,e,i)};for(var o in t)r(o)}(e,{ws:X,wsUrl:X,history:X,heartbeat:X,joinedChannels:X,availableChannels:X,id:X,incomingMessage:X,handleMessage:X}),window.wsClient=new e;const er=xn`<ws-monitor .wsClient="${window.wsClient}"></ws-monitor>`;Jn(er,document.body,{renderBefore:document.body.firstChild});
