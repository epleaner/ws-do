(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"8Jek":function(t,e,n){function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}var r;!function(){"use strict";function i(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var r=o(n);if("string"===r||"number"===r)t.push(n);else if(Array.isArray(n)){if(n.length){var u=i.apply(null,n);u&&t.push(u)}}else if("object"===r){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){t.push(n.toString());continue}for(var c in n)a.call(n,c)&&n[c]&&t.push(c)}}}return t.join(" ")}var a={}.hasOwnProperty;t.exports?(i.default=i,t.exports=i):"object"===o(n("K2jg"))&&n("K2jg")?void 0===(r=function(){return i}.apply(e,[]))||(t.exports=r):window.classNames=i}()},BPfx:function(t){t.exports=function(t,e,n){if(null!=t&&"number"!=typeof t)throw new Error("start must be a number or null");if(null!=e&&"number"!=typeof e)throw new Error("stop must be a number or null");if(null!=n&&"number"!=typeof n)throw new Error("step must be a number or null");null==e&&(e=t||0,t=0),null==n&&(n=e>t?1:-1);for(var o=[],r=t<e;r?t<e:t>e;t+=n)o.push(t);return o}},E02R:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},K2jg:function(t){(function(e){t.exports=e}).call(this,{})},NS33:function(t,e,n){"use strict";function o(){}function r(){}var i=n("E02R");r.resetWarningCache=o,t.exports=function(){function t(t,e,n,o,r,a){if(a!==i){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:r,resetWarningCache:o};return n.PropTypes=n,n}},QRet:function(t,e,n){"use strict";function o(t,e){j.options.__h&&j.options.__h(S,t,k||e),k=0;var n=S.__H||(S.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:E}),n.__[t]}function r(t){return k=1,i(g,t)}function i(t,e,n){var r=o(N++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):g(void 0,e),function(t){var e=r.__N?r.__N[0]:r.__[0],n=r.t(e,t);e!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=S,!S.u)){var i=function(t,e,n){if(!r.__c.__H)return!0;var o=r.__c.__H.__.filter((function(t){return t.__c}));if(o.every((function(t){return!t.__N})))return!a||a.call(this,t,e,n);var i=!1;return o.forEach((function(t){if(t.__N){var e=t.__[0];t.__=t.__N,t.__N=void 0,e!==t.__[0]&&(i=!0)}})),!(!i&&r.__c.props===t)&&(!a||a.call(this,t,e,n))};S.u=!0;var a=S.shouldComponentUpdate,u=S.componentWillUpdate;S.componentWillUpdate=function(t,e,n){if(this.__e){var o=a;a=void 0,i(t,e,n),a=o}u&&u.call(this,t,e,n)},S.shouldComponentUpdate=i}return r.__N||r.__}function a(t,e){var n=o(N++,3);!j.options.__s&&m(n.__H,e)&&(n.__=t,n.i=e,S.__H.__h.push(n))}function u(t,e){var n=o(N++,4);!j.options.__s&&m(n.__H,e)&&(n.__=t,n.i=e,S.__h.push(n))}function c(t){return k=5,s((function(){return{current:t}}),[])}function l(t,e,n){k=6,u((function(){return"function"==typeof t?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0}),null==n?n:n.concat(t))}function s(t,e){var n=o(N++,7);return m(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function f(t,e){return k=8,s((function(){return t}),e)}function p(t){var e=S.context[t.__c],n=o(N++,9);return n.c=t,e?(null==n.__&&(n.__=!0,e.sub(S)),e.props.value):t.__}function d(t,e){j.options.useDebugValue&&j.options.useDebugValue(e?e(t):t)}function h(){var t=o(N++,11);if(!t.__){for(var e=S.__v;null!==e&&!e.__m&&null!==e.__;)e=e.__;var n=e.__m||(e.__m=[0,0]);t.__="P"+n[0]+"-"+n[1]++}return t.__}function _(){for(var t;t=C.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(b),t.__H.__h.forEach(v),t.__H.__h=[]}catch(e){t.__H.__h=[],j.options.__e(e,t.__v)}}function y(t){var e,n=function(){clearTimeout(o),x&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);x&&(e=requestAnimationFrame(n))}function b(t){var e=S,n=t.__c;"function"==typeof n&&(t.__c=void 0,n()),S=e}function v(t){var e=S;t.__c=t.__(),S=e}function m(t,e){return!t||t.length!==e.length||e.some((function(e,n){return e!==t[n]}))}function g(t,e){return"function"==typeof e?e(t):e}n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return a})),n.d(e,"e",(function(){return h})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return s})),n.d(e,"i",(function(){return i})),n.d(e,"j",(function(){return c})),n.d(e,"k",(function(){return r}));var N,S,w,O,j=n("hosL"),k=0,C=[],E=[],I=j.options.__b,A=j.options.__r,P=j.options.diffed,R=j.options.__c,T=j.options.unmount;j.options.__b=function(t){S=null,I&&I(t)},j.options.__r=function(t){A&&A(t),N=0;var e=(S=t.__c).__H;e&&(w===S?(e.__h=[],S.__h=[],e.__.forEach((function(t){t.__N&&(t.__=t.__N),t.__V=E,t.__N=t.i=void 0}))):(e.__h.forEach(b),e.__h.forEach(v),e.__h=[],N=0)),w=S},j.options.diffed=function(t){P&&P(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(1!==C.push(e)&&O===j.options.requestAnimationFrame||((O=j.options.requestAnimationFrame)||y)(_)),e.__H.__.forEach((function(t){t.i&&(t.__H=t.i),t.__V!==E&&(t.__=t.__V),t.i=void 0,t.__V=E}))),w=S=null},j.options.__c=function(t,e){e.some((function(t){try{t.__h.forEach(b),t.__h=t.__h.filter((function(t){return!t.__||v(t)}))}catch(n){e.some((function(t){t.__h&&(t.__h=[])})),e=[],j.options.__e(n,t.__v)}})),R&&R(t,e)},j.options.unmount=function(t){T&&T(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach((function(t){try{b(t)}catch(t){e=t}})),n.__H=void 0,e&&j.options.__e(e,n.__v))};var x="function"==typeof requestAnimationFrame},Qvep:function(t,e,n){"use strict";function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function r(t,e){for(var n in e)t[n]=e[n];return t}function i(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var o in e)if("__source"!==o&&t[o]!==e[o])return!0;return!1}function a(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e}function u(t){this.props=t}function c(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(t){"function"==typeof t.__c&&t.__c()})),t.__c.__H=null),null!=(t=r({},t)).__c&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return c(t,e,n)}))),t}function l(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return l(t,e,n)})),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function s(){this.__u=0,this.t=null,this.__b=null}function f(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function p(){this.u=null,this.o=null}function d(t){return this.getChildContext=function(){return t.context},t.children}function h(t){var e=this,n=t.i;e.componentWillUnmount=function(){Object(L.render)(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(t){this.childNodes.push(t),e.i.appendChild(t)},insertBefore:function(t){this.childNodes.push(t),e.i.appendChild(t)},removeChild:function(t){this.childNodes.splice(this.childNodes.indexOf(t)>>>1,1),e.i.removeChild(t)}}),Object(L.render)(Object(L.createElement)(d,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function _(){}function y(){return this.cancelBubble}function b(){return this.defaultPrevented}function v(t){return!!t&&t.$$typeof===V}function m(t){t()}function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function N(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function S(t,e,n){return e&&N(t.prototype,e),n&&N(t,n),t}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O(){return O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},O.apply(this,arguments)}function j(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}function k(t){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},k(t)}function C(t,e){return C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},C(t,e)}function E(t,e){if(null==t)return{};var n,o,r=function(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)e.indexOf(n=i[o])>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)e.indexOf(n=i[o])>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function I(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?I(t):e}function P(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(o=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{o||null==u.return||u.return()}finally{if(r)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function R(t){var e=vt[t];if(!e)throw Error("Invalid MIDI number");return e}function T(t){return"".concat(100*t,"%")}function x(t){return"number"==typeof t&&gt.NATURAL_MIDI_NUMBERS.includes(t)}n.d(e,"b",(function(){return Ot})),n.d(e,"a",(function(){return gt}));var D=n("BPfx"),M=n.n(D),L=n("hosL"),U=n("QRet");(u.prototype=new L.Component).isPureReactComponent=!0,u.prototype.shouldComponentUpdate=function(t,e){return i(this.props,t)||i(this.state,e)};var W=L.options.__b;L.options.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),W&&W(t)};var q="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911,K=function(t,e){return null==t?null:Object(L.toChildArray)(Object(L.toChildArray)(t).map(e))},F={map:K,forEach:K,count:function(t){return t?Object(L.toChildArray)(t).length:0},only:function(t){var e=Object(L.toChildArray)(t);if(1!==e.length)throw"Children.only";return e[0]},toArray:L.toChildArray},H=L.options.__e;L.options.__e=function(t,e,n,o){if(t.then)for(var r,i=e;i=i.__;)if((r=i.__c)&&r.__c)return null==e.__e&&(e.__e=n.__e,e.__k=n.__k),r.__c(t,e);H(t,e,n,o)};var J=L.options.unmount;L.options.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&!0===t.__h&&(t.type=null),J&&J(t)},(s.prototype=new L.Component).__c=function(t,e){var n=e.__c,o=this;null==o.t&&(o.t=[]),o.t.push(n);var r=f(o.__v),i=!1,a=function(){i||(i=!0,n.__R=null,r?r(u):u())};n.__R=a;var u=function(){if(!--o.__u){if(o.state.__a){var t=o.state.__a;o.__v.__k[0]=l(t,t.__c.__P,t.__c.__O)}var e;for(o.setState({__a:o.__b=null});e=o.t.pop();)e.forceUpdate()}},c=!0===e.__h;o.__u++||c||o.setState({__a:o.__b=o.__v.__k[0]}),t.then(a,a)},s.prototype.componentWillUnmount=function(){this.t=[]},s.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=c(this.__b,n,o.__O=o.__P)}this.__b=null}var r=e.__a&&Object(L.createElement)(L.Fragment,null,t.fallback);return r&&(r.__h=null),[Object(L.createElement)(L.Fragment,null,e.__a?null:t.children),r]};var B=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};(p.prototype=new L.Component).__a=function(t){var e=this,n=f(e.__v),o=e.o.get(t);return o[0]++,function(r){var i=function(){e.props.revealOrder?(o.push(r),B(e,t,o)):r()};n?n(i):i()}},p.prototype.render=function(t){this.u=null,this.o=new Map;var e=Object(L.toChildArray)(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},p.prototype.componentDidUpdate=p.prototype.componentDidMount=function(){var t=this;this.o.forEach((function(e,n){B(t,n,e)}))};var V="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,$=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,G=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Q=/[A-Z0-9]/g,z="undefined"!=typeof document,Z=function(t){return("undefined"!=typeof Symbol&&"symbol"==o(Symbol())?/fil|che|rad/:/fil|che|ra/).test(t)};L.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(t){Object.defineProperty(L.Component.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})}));var X=L.options.event;L.options.event=function(t){return X&&(t=X(t)),t.persist=_,t.isPropagationStopped=y,t.isDefaultPrevented=b,t.nativeEvent=t};var Y,tt={enumerable:!1,configurable:!0,get:function(){return this.class}},et=L.options.vnode;L.options.vnode=function(t){"string"==typeof t.type&&function(t){var e=t.props,n=t.type,o={};for(var r in e){var i=e[r];if(!("value"===r&&"defaultValue"in e&&null==i||z&&"children"===r&&"noscript"===n||"class"===r||"className"===r)){var a=r.toLowerCase();"defaultValue"===r&&"value"in e&&null==e.value?r="value":"download"===r&&!0===i?i="":"ondoubleclick"===a?r="ondblclick":"onchange"!==a||"input"!==n&&"textarea"!==n||Z(e.type)?"onfocus"===a?r="onfocusin":"onblur"===a?r="onfocusout":G.test(r)?r=a:-1===n.indexOf("-")&&$.test(r)?r=r.replace(Q,"-$&").toLowerCase():null===i&&(i=void 0):a=r="oninput","oninput"===a&&o[r=a]&&(r="oninputCapture"),o[r]=i}}"select"==n&&o.multiple&&Array.isArray(o.value)&&(o.value=Object(L.toChildArray)(e.children).forEach((function(t){t.props.selected=-1!=o.value.indexOf(t.props.value)}))),"select"==n&&null!=o.defaultValue&&(o.value=Object(L.toChildArray)(e.children).forEach((function(t){t.props.selected=o.multiple?-1!=o.defaultValue.indexOf(t.props.value):o.defaultValue==t.props.value}))),e.class&&!e.className?(o.class=e.class,Object.defineProperty(o,"className",tt)):(e.className&&!e.class||e.class&&e.className)&&(o.class=o.className=e.className),t.props=o}(t),t.$$typeof=V,et&&et(t)};var nt=L.options.__r;L.options.__r=function(t){nt&&nt(t),Y=t.__c};var ot=L.options.diffed;L.options.diffed=function(t){ot&&ot(t);var e=t.props,n=t.__e;null!=n&&"textarea"===t.type&&"value"in e&&e.value!==n.value&&(n.value=null==e.value?"":e.value),Y=null};var rt={useState:U.k,useId:U.e,useReducer:U.i,useEffect:U.d,useLayoutEffect:U.g,useInsertionEffect:U.g,useTransition:function(){return[!1,m]},useDeferredValue:function(t){return t},useSyncExternalStore:function(t,e){var n=e(),o=Object(U.k)({h:{__:n,v:e}}),r=o[0].h,i=o[1];return Object(U.g)((function(){r.__=n,r.v=e,a(r.__,e())||i({h:r})}),[t,n,e]),Object(U.d)((function(){return a(r.__,r.v())||i({h:r}),t((function(){a(r.__,r.v())||i({h:r})}))}),[t]),n},startTransition:m,useRef:U.j,useImperativeHandle:U.f,useMemo:U.h,useCallback:U.a,useContext:U.b,useDebugValue:U.c,version:"17.0.2",Children:F,render:function(t,e,n){return null==e.__k&&(e.textContent=""),Object(L.render)(t,e),"function"==typeof n&&n(),t?t.__c:null},hydrate:function(t,e,n){return Object(L.hydrate)(t,e),"function"==typeof n&&n(),t?t.__c:null},unmountComponentAtNode:function(t){return!!t.__k&&(Object(L.render)(null,t),!0)},createPortal:function(t,e){var n=Object(L.createElement)(h,{__v:t,i:e});return n.containerInfo=e,n},createElement:L.createElement,createContext:L.createContext,createFactory:function(t){return L.createElement.bind(null,t)},cloneElement:function(t){return v(t)?L.cloneElement.apply(null,arguments):t},createRef:L.createRef,Fragment:L.Fragment,isValidElement:v,findDOMNode:function(t){return t&&(t.base||1===t.nodeType&&t)||null},Component:L.Component,PureComponent:u,memo:function(t,e){function n(t){var n=this.props.ref,o=n==t.ref;return!o&&n&&(n.call?n(null):n.current=null),e?!e(this.props,t)||!o:i(this.props,t)}function o(e){return this.shouldComponentUpdate=n,Object(L.createElement)(t,e)}return o.displayName="Memo("+(t.displayName||t.name)+")",o.prototype.isReactComponent=!0,o.__f=!0,o},forwardRef:function(t){function e(e){var n=r({},e);return delete n.ref,t(n,e.ref||null)}return e.$$typeof=q,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e},flushSync:function(t,e){return t(e)},unstable_batchedUpdates:function(t,e){return t(e)},StrictMode:L.Fragment,Suspense:s,SuspenseList:p,lazy:function(t){function e(e){if(n||(n=t()).then((function(t){o=t.default||t}),(function(t){r=t})),r)throw r;if(!o)throw n;return Object(L.createElement)(o,e)}var n,o,r;return e.displayName="Lazy",e.__f=!0,e},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:{current:{readContext:function(t){return Y.__n[t.__c].props.value}}}}},it=n("W0B4"),at=n.n(it),ut=n("8Jek"),ct=n.n(ut),lt=n("fWLt"),st=n.n(lt),ft=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],pt=["Db","Eb","Gb","Ab","Bb"],dt={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},ht=12,_t=ht,yt=/([a-g])([#b]?)(\d+)/,bt=12,vt=M()(_t,128).reduce((function(t,e){return t[e]=function(t){var e=(t-ht)%bt,n=Math.floor((t-ht)/bt),o=ft[e];return{note:"".concat(o).concat(n),pitchName:o,octave:n,midiNumber:t,isAccidental:pt.includes(o)}}(e),t}),{}),mt=M()(_t,128).filter((function(t){return!R(t).isAccidental})),gt={fromNote:function(t){if(!t)throw Error("Invalid note argument");var e=yt.exec(t.toLowerCase());if(!e)throw Error("Invalid note argument");var n=P(e,4),o=n[2],r=n[3],i="".concat(n[1].toUpperCase()).concat(o),a=dt[i];if(null==a)throw Error("Invalid note argument");return ht+a+bt*parseInt(r,10)},getAttributes:R,MIN_MIDI_NUMBER:_t,MAX_MIDI_NUMBER:127,NATURAL_MIDI_NUMBERS:mt},Nt=function(t){function e(){for(var t,n,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return w(I(n=A(this,(t=k(e)).call.apply(t,[this].concat(r)))),"onPlayNoteInput",(function(){n.props.onPlayNoteInput(n.props.midiNumber)})),w(I(n),"onStopNoteInput",(function(){n.props.onStopNoteInput(n.props.midiNumber)})),n}return j(e,t),S(e,[{key:"getAbsoluteKeyPosition",value:function(t){var e=gt.getAttributes(t);return this.props.pitchPositions[e.pitchName]+7*e.octave}},{key:"getRelativeKeyPosition",value:function(t){return this.getAbsoluteKeyPosition(t)-this.getAbsoluteKeyPosition(this.props.noteRange.first)}},{key:"render",value:function(){var t=this.props,e=t.naturalKeyWidth,n=t.accidentalWidthRatio,o=t.midiNumber,r=t.gliss,i=t.useTouchEvents,a=t.accidental,u=t.active,c=t.disabled,l=t.children;return rt.createElement("div",{className:ct()("ReactPiano__Key",{"ReactPiano__Key--accidental":a,"ReactPiano__Key--natural":!a,"ReactPiano__Key--disabled":c,"ReactPiano__Key--active":u}),style:{left:T(this.getRelativeKeyPosition(o)*e),width:T(a?n*e:e)},onMouseDown:i?null:this.onPlayNoteInput,onMouseUp:i?null:this.onStopNoteInput,onMouseEnter:r?this.onPlayNoteInput:null,onMouseLeave:this.onStopNoteInput,onTouchStart:i?this.onPlayNoteInput:null,onTouchCancel:i?this.onStopNoteInput:null,onTouchEnd:i?this.onStopNoteInput:null},rt.createElement("div",{className:"ReactPiano__NoteLabelContainer"},l))}}]),e}(rt.Component);w(Nt,"propTypes",{midiNumber:at.a.number.isRequired,naturalKeyWidth:at.a.number.isRequired,gliss:at.a.bool.isRequired,useTouchEvents:at.a.bool.isRequired,accidental:at.a.bool.isRequired,active:at.a.bool.isRequired,disabled:at.a.bool.isRequired,onPlayNoteInput:at.a.func.isRequired,onStopNoteInput:at.a.func.isRequired,accidentalWidthRatio:at.a.number.isRequired,pitchPositions:at.a.object.isRequired,children:at.a.node}),w(Nt,"defaultProps",{accidentalWidthRatio:.65,pitchPositions:{C:0,Db:.55,D:1,Eb:1.8,E:2,F:3,Gb:3.5,G:4,Ab:4.7,A:5,Bb:5.85,B:6}});var St=function(t){function e(){return A(this,k(e).apply(this,arguments))}return j(e,t),S(e,[{key:"getMidiNumbers",value:function(){return M()(this.props.noteRange.first,this.props.noteRange.last+1)}},{key:"getNaturalKeyCount",value:function(){return this.getMidiNumbers().filter((function(t){return!gt.getAttributes(t).isAccidental})).length}},{key:"getNaturalKeyWidth",value:function(){return 1/this.getNaturalKeyCount()}},{key:"getWidth",value:function(){return this.props.width?this.props.width:"100%"}},{key:"getHeight",value:function(){if(!this.props.width)return"100%";var t=this.props.width*this.getNaturalKeyWidth();return"".concat(t/this.props.keyWidthToHeight,"px")}},{key:"render",value:function(){var t=this,e=this.getNaturalKeyWidth();return rt.createElement("div",{className:ct()("ReactPiano__Keyboard",this.props.className),style:{width:this.getWidth(),height:this.getHeight()}},this.getMidiNumbers().map((function(n){var o=gt.getAttributes(n),r=o.isAccidental,i=!t.props.disabled&&t.props.activeNotes.includes(n);return rt.createElement(Nt,{naturalKeyWidth:e,midiNumber:n,noteRange:t.props.noteRange,active:i,accidental:r,disabled:t.props.disabled,onPlayNoteInput:t.props.onPlayNoteInput,onStopNoteInput:t.props.onStopNoteInput,gliss:t.props.gliss,useTouchEvents:t.props.useTouchEvents,key:n},t.props.disabled?null:t.props.renderNoteLabel({isActive:i,isAccidental:r,midiNumber:n}))})))}}]),e}(rt.Component);w(St,"propTypes",{noteRange:function(t,e,n){var o=t[e],r=o.first,i=o.last;return r&&i?x(r)&&x(i)?r>=i?new Error("Invalid prop ".concat(e," supplied to ").concat(n,". ").concat(e,".first must be smaller than ").concat(e,".last.")):void 0:new Error("Invalid prop ".concat(e," supplied to ").concat(n,". ").concat(e," values must be valid MIDI numbers, and should not be accidentals (sharp or flat notes).")):new Error("Invalid prop ".concat(e," supplied to ").concat(n,". ").concat(e," must be an object with .first and .last values."))},activeNotes:at.a.arrayOf(at.a.number),onPlayNoteInput:at.a.func.isRequired,onStopNoteInput:at.a.func.isRequired,renderNoteLabel:at.a.func.isRequired,keyWidthToHeight:at.a.number.isRequired,className:at.a.string,disabled:at.a.bool,gliss:at.a.bool,useTouchEvents:at.a.bool,width:at.a.number}),w(St,"defaultProps",{disabled:!1,gliss:!1,useTouchEvents:!1,keyWidthToHeight:.33,renderNoteLabel:function(){}});var wt=function(t){function e(){for(var t,n,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return w(I(n=A(this,(t=k(e)).call.apply(t,[this].concat(r)))),"state",{isMouseDown:!1,useTouchEvents:!1}),w(I(n),"handleNoteChanges",(function(t){var e=t.prevActiveNotes,o=t.nextActiveNotes;if(!n.props.disabled){var r=st()(e,o);st()(o,e).forEach((function(t){n.props.playNote(t)})),r.forEach((function(t){n.props.stopNote(t)}))}})),w(I(n),"getMidiNumberForKey",(function(t){if(!n.props.keyboardShortcuts)return null;var e=n.props.keyboardShortcuts.find((function(e){return e.key===t}));return e&&e.midiNumber})),w(I(n),"getKeyForMidiNumber",(function(t){if(!n.props.keyboardShortcuts)return null;var e=n.props.keyboardShortcuts.find((function(e){return e.midiNumber===t}));return e&&e.key})),w(I(n),"onKeyDown",(function(t){if(!(t.ctrlKey||t.metaKey||t.shiftKey)){var e=n.getMidiNumberForKey(t.key);e&&n.onPlayNoteInput(e)}})),w(I(n),"onKeyUp",(function(t){var e=n.getMidiNumberForKey(t.key);e&&n.onStopNoteInput(e)})),w(I(n),"onPlayNoteInput",(function(t){n.props.disabled||n.props.onPlayNoteInput(t,n.props.activeNotes)})),w(I(n),"onStopNoteInput",(function(t){n.props.disabled||n.props.onStopNoteInput(t,n.props.activeNotes)})),w(I(n),"onMouseDown",(function(){n.setState({isMouseDown:!0})})),w(I(n),"onMouseUp",(function(){n.setState({isMouseDown:!1})})),w(I(n),"onTouchStart",(function(){n.setState({useTouchEvents:!0})})),w(I(n),"renderNoteLabel",(function(t){var e=t.midiNumber,o=t.isActive,r=t.isAccidental,i=n.getKeyForMidiNumber(e);return n.props.renderNoteLabel({keyboardShortcut:i,midiNumber:e,isActive:o,isAccidental:r})})),n}return j(e,t),S(e,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)}},{key:"componentDidUpdate",value:function(t){this.props.activeNotes!==t.activeNotes&&this.handleNoteChanges({prevActiveNotes:t.activeNotes||[],nextActiveNotes:this.props.activeNotes||[]})}},{key:"render",value:function(){return rt.createElement("div",{style:{width:"100%",height:"100%"},onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchStart:this.onTouchStart,"data-testid":"container"},rt.createElement(St,{noteRange:this.props.noteRange,onPlayNoteInput:this.onPlayNoteInput,onStopNoteInput:this.onStopNoteInput,activeNotes:this.props.activeNotes,className:this.props.className,disabled:this.props.disabled,width:this.props.width,keyWidthToHeight:this.props.keyWidthToHeight,gliss:this.state.isMouseDown,useTouchEvents:this.state.useTouchEvents,renderNoteLabel:this.renderNoteLabel}))}}]),e}(rt.Component);w(wt,"propTypes",{noteRange:at.a.object.isRequired,activeNotes:at.a.arrayOf(at.a.number.isRequired).isRequired,playNote:at.a.func.isRequired,stopNote:at.a.func.isRequired,onPlayNoteInput:at.a.func.isRequired,onStopNoteInput:at.a.func.isRequired,renderNoteLabel:at.a.func.isRequired,className:at.a.string,disabled:at.a.bool,width:at.a.number,keyWidthToHeight:at.a.number,keyboardShortcuts:at.a.arrayOf(at.a.shape({key:at.a.string.isRequired,midiNumber:at.a.number.isRequired}))}),w(wt,"defaultProps",{renderNoteLabel:function(t){var e=t.keyboardShortcut,n=t.isActive,o=t.isAccidental;return e?rt.createElement("div",{className:ct()("ReactPiano__NoteLabel",{"ReactPiano__NoteLabel--active":n,"ReactPiano__NoteLabel--accidental":o,"ReactPiano__NoteLabel--natural":!o})},e):null}});var Ot=function(t){function e(){for(var t,n,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return w(I(n=A(this,(t=k(e)).call.apply(t,[this].concat(r)))),"state",{activeNotes:n.props.activeNotes||[]}),w(I(n),"handlePlayNoteInput",(function(t){n.setState((function(e){return n.props.onPlayNoteInput&&n.props.onPlayNoteInput(t,{prevActiveNotes:e.activeNotes}),e.activeNotes.includes(t)?null:{activeNotes:e.activeNotes.concat(t)}}))})),w(I(n),"handleStopNoteInput",(function(t){n.setState((function(e){return n.props.onStopNoteInput&&n.props.onStopNoteInput(t,{prevActiveNotes:n.state.activeNotes}),{activeNotes:e.activeNotes.filter((function(e){return t!==e}))}}))})),n}return j(e,t),S(e,[{key:"componentDidUpdate",value:function(t){t.activeNotes!==this.props.activeNotes&&this.state.activeNotes!==this.props.activeNotes&&this.setState({activeNotes:this.props.activeNotes||[]})}},{key:"render",value:function(){var t=this.props,e=E(t,["activeNotes","onPlayNoteInput","onStopNoteInput"]);return rt.createElement(wt,O({activeNotes:this.state.activeNotes,onPlayNoteInput:this.handlePlayNoteInput,onStopNoteInput:this.handleStopNoteInput},e))}}]),e}(rt.Component);w(Ot,"propTypes",{noteRange:at.a.object.isRequired,activeNotes:at.a.arrayOf(at.a.number.isRequired),playNote:at.a.func.isRequired,stopNote:at.a.func.isRequired,onPlayNoteInput:at.a.func,onStopNoteInput:at.a.func,renderNoteLabel:at.a.func,className:at.a.string,disabled:at.a.bool,width:at.a.number,keyWidthToHeight:at.a.number,keyboardShortcuts:at.a.arrayOf(at.a.shape({key:at.a.string.isRequired,midiNumber:at.a.number.isRequired}))})},RaXK:function(t,e,n){"use strict";(function(t,o){function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,r,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=i.call(n)).done)&&(u.push(o.value),u.length!==e);c=!0);}catch(t){l=!0,r=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw r}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var a=n("QRet");e.a=function(e){var n=e.websocket,i=n.ws,u=n.wsUrl,c=n.setWsUrl,l=n.history,s=n.myChannels,f=n.availableChannels,p=n.id,d=n.wsState,h=n.joinChannel,_=n.getChannels,y=n.heartbeat,b=n.broadcastMessage,v=n.sendMessageToTargetClient,m=n.sendMessageToTargetChannel,g=n.sendMessageToJoinedChannels,N=r(Object(a.k)(""),2),S=N[0],w=N[1],O=r(Object(a.k)(""),2),j=O[0],k=O[1],C=r(Object(a.k)(""),2),E=C[0],I=C[1],A=Object(a.h)((function(){try{JSON.parse(S)}catch(t){return!1}return!0}),[S]),P=Object(a.a)((function(t){t.preventDefault(),c(t.target.wsUrl.value)}),[c]);return t("div",{className:"flex flex-col gap-4"},t("div",{className:"flex gap-8"},t("div",null,d),i&&u&&t("div",null,"connected to: ",u),t("form",{onSubmit:P},t("input",{type:"text",name:"wsUrl",placeholder:u}),t("button",{type:"submit"},"go"))),i&&t(o,null,t("div",null,p&&t("div",null,"id: ",p),y&&t("div",null,"heartbeat: ",JSON.stringify(y))),t("div",null,t("div",{className:"flex flex-row gap-8"},t("button",{onClick:_},"get channels"),t("form",{onSubmit:h},t("input",{type:"text",name:"channel"}),t("button",{type:"submit",className:"ml-2"},"join channel"))),t("ul",null,"my channels:",s.map((function(e){var n=e.channel,o=e.members;return t("li",{key:n,className:"ml-2"},n," | ",o.length," members: ",o.join(", "))}))),t("ul",null,"all channels:",f.map((function(e){var n=e.channel,o=e.members;return t("li",{key:n,className:"ml-2"},n," ",o.length?"| ".concat(o.length," members: ").concat(o.join(", ")):"(no members)")})))),t("div",null,t("div",{className:"flex flex-col gap-1"},t("div",null,t("label",{htmlFor:"message"},"message"),t("textarea",{cols:100,rows:1,name:"message",placeholder:'{"hello": 1}',value:S,onInput:function(t){return w(t.target.value)}})),t("div",null,t("label",{htmlFor:"targetChannel"},"target channel"),t("input",{name:"targetChannel",type:"text",value:j,onInput:function(t){return k(t.target.value)}})),t("div",null,t("label",{htmlFor:"targetChannel"},"target client"),t("input",{name:"targetId",type:"text",value:E,onInput:function(t){return I(t.target.value)}})),t("div",null,t("button",{disabled:!A,onClick:function(){return v(S,E)}},"send to another client"),t("button",{disabled:!A,onClick:function(){return m(S,j)}},"send to channel"),t("button",{disabled:!A,onClick:function(){return g(S)}},"send to joined channel"),t("button",{disabled:!A,onClick:function(){return b(S)}},"broadcast"))),!A&&S.length?t("div",null,"Invalid JSON"):t(o,null)),t("div",null,"incoming messages:"),t("div",{style:{overflow:"scroll",height:"200px"}},l.map((function(e){return t("div",{key:e},JSON.stringify(e))})))))}}).call(this,n("hosL").h,n("hosL").Fragment)},W0B4:function(t,e,n){t.exports=n("NS33")()},Zp5c:function(t,e,n){"use strict";function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e,n,o,r,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(o,r)}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,r,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=i.call(n)).done)&&(u.push(o.value),u.length!==e);c=!0);}catch(t){l=!0,r=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw r}}return u}}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){if(t){if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var p=n("QRet");e.a=function(){var t=l(Object(p.k)(null),2),e=t[0],n=t[1],o=l(Object(p.k)(""),2),r=o[0],a=o[1],s=l(Object(p.k)([]),2),f=s[0],d=s[1],h=l(Object(p.k)(null),2),_=h[0],y=h[1],b=l(Object(p.k)([]),2),v=b[0],m=b[1],g=l(Object(p.k)([]),2),N=g[0],S=g[1],w=l(Object(p.k)(null),2),O=w[0],j=w[1],k=l(Object(p.k)(""),2),C=k[0],E=k[1],I=Object(p.a)(function(){var t,e=(t=function*(t){var e=yield JSON.parse(t.data);switch(e.type){case"id":j(e.id);break;case"heartbeat":y(e.heartbeat);break;case"myChannels":m(e.channels);break;case"availableChannels":S(e.channels);break;default:d((function(t){return[e].concat(u(t))}))}E(e)},function(){var e=this,n=arguments;return new Promise((function(o,r){function i(t){c(u,o,r,i,a,"next",t)}function a(t){c(u,o,r,i,a,"throw",t)}var u=t.apply(e,n);i(void 0)}))});return function(t){return e.apply(this,arguments)}}(),[]);Object(p.d)((function(){if(window){var t=window.location.protocol.includes("https")?"wss":"ws",e=window.location.protocol.includes("https")?"":":8081",n="".concat(t,"://").concat(location.hostname).concat(e,"?channels=welcome");a(n)}}),[]),Object(p.d)((function(){if(r.length&&"undefined"!=typeof window){console.log("attempting to connect to",r);var t=new WebSocket(r);t.onmessage=I,n(t)}}),[I,r]);var A=Object(p.a)((function(){null==e||e.send(JSON.stringify({type:"myChannels"})),null==e||e.send(JSON.stringify({type:"availableChannels"}))}),[e]),P=Object(p.h)((function(){if("undefined"!=typeof window)switch(null==e?void 0:e.readyState){case WebSocket.CONNECTING:return"connecting";case WebSocket.OPEN:return"open";case WebSocket.CLOSING:return"closing";case WebSocket.CLOSED:return"closed";default:return"uninitialized"}}),[null==e?void 0:e.readyState]);Object(p.d)((function(){"open"===P&&A()}),[A,e,P]);var R=Object(p.a)((function(t){t.preventDefault(),null==e||e.send(JSON.stringify({type:"joinChannel",channel:t.target.channel.value}))}),[e]),T=Object(p.a)((function(t){return"open"===P&&(null==e?void 0:e.send(JSON.stringify({type:"broadcast",message:i(i({},JSON.parse(t)),{},{timestamp:Date.now()})})))}),[e,P]),x=Object(p.a)((function(t,n){"open"===P&&(null==e||e.send(JSON.stringify(i(i({},JSON.parse(t)),{},{timestamp:Date.now(),channel:n}))))}),[e,P]),D=Object(p.a)((function(t,n){console.log("sending to target id",t,n),"open"===P&&(null==e||e.send(JSON.stringify(i(i({},JSON.parse(t)),{},{timestamp:Date.now(),targetId:n}))))}),[e,P]),M=Object(p.a)((function(t){"open"===P&&(null==e||e.send(JSON.stringify(i(i({},JSON.parse(t)),{},{timestamp:Date.now()}))))}),[e,P]);return{ws:e,wsUrl:r,setWsUrl:a,history:f,myChannels:v,availableChannels:N,id:O,incomingMessage:C,wsState:P,joinChannel:R,getChannels:A,heartbeat:_,broadcastMessage:T,sendMessageToTargetClient:D,sendMessageToTargetChannel:x,sendMessageToJoinedChannels:M}}},fWLt:function(t,e,n){(function(e){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){return!!(t?t.length:0)&&function(t,e,n){if(e!=e)return function(t,e,n,o){var r=t.length,i=n+(o?1:-1);for(;o?i--:++i<r;)if(e(t[i],i,t))return i;return-1}(t,a,n);var o=n-1,r=t.length;for(;++o<r;)if(t[o]===e)return o;return-1}(t,e,0)>-1}function r(t,e,n){for(var o=-1,r=t?t.length:0;++o<r;)if(n(e,t[o]))return!0;return!1}function i(t,e){for(var n=-1,o=e.length,r=t.length;++n<o;)t[r+n]=e[n];return t}function a(t){return t!=t}function u(t,e){return t.has(e)}function c(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function l(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function s(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function f(t){var e=-1,n=t?t.length:0;for(this.__data__=new s;++e<n;)this.add(t[e])}function p(t,e){for(var n,o,r=t.length;r--;)if((n=t[r][0])===(o=e)||n!=n&&o!=o)return r;return-1}function d(t,e,n,i){var a,c=-1,l=o,s=!0,p=t.length,d=[],h=e.length;if(!p)return d;n&&(e=function(t,e){for(var n=-1,o=t?t.length:0,r=Array(o);++n<o;)r[n]=e(t[n],n,t);return r}(e,(a=n,function(t){return a(t)}))),i?(l=r,s=!1):e.length>=200&&(l=u,s=!1,e=new f(e));t:for(;++c<p;){var _=t[c],y=n?n(_):_;if(_=i||0!==_?_:0,s&&y==y){for(var b=h;b--;)if(e[b]===y)continue t;d.push(_)}else l(e,y,i)||d.push(_)}return d}function h(t,e,n,o,r){var a=-1,u=t.length;for(n||(n=v),r||(r=[]);++a<u;){var c=t[a];e>0&&n(c)?e>1?h(c,e-1,n,o,r):i(r,c):o||(r[r.length]=c)}return r}function _(t){if(!S(t)||(e=t,L&&L in e))return!1;var e,n=N(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?K:I;return n.test(function(t){if(null!=t){try{return U.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function y(t,e){var o,r,i=t.__data__;return("string"==(r=n(o=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==o:null===o)?i["string"==typeof e?"string":"hash"]:i.map}function b(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return _(n)?n:void 0}function v(t){return X(t)||function(t){return g(t)&&W.call(t,"callee")&&(!H.call(t,"callee")||q.call(t)==k)}(t)||!!(B&&t&&t[B])}function m(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=j}(t.length)&&!N(t)}function g(t){return function(t){return!!t&&"object"==n(t)}(t)&&m(t)}function N(t){var e=S(t)?q.call(t):"";return e==C||e==E}function S(t){var e=n(t);return!!t&&("object"==e||"function"==e)}var w,O="__lodash_hash_undefined__",j=9007199254740991,k="[object Arguments]",C="[object Function]",E="[object GeneratorFunction]",I=/^\[object .+?Constructor\]$/,A="object"==(void 0===e?"undefined":n(e))&&e&&e.Object===Object&&e,P="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,R=A||P||Function("return this")(),T=Array.prototype,x=Function.prototype,D=Object.prototype,M=R["__core-js_shared__"],L=(w=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"",U=x.toString,W=D.hasOwnProperty,q=D.toString,K=RegExp("^"+U.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F=R.Symbol,H=D.propertyIsEnumerable,J=T.splice,B=F?F.isConcatSpreadable:void 0,V=Math.max,$=b(R,"Map"),G=b(Object,"create");c.prototype.clear=function(){this.__data__=G?G(null):{}},c.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},c.prototype.get=function(t){var e=this.__data__;if(G){var n=e[t];return n===O?void 0:n}return W.call(e,t)?e[t]:void 0},c.prototype.has=function(t){var e=this.__data__;return G?void 0!==e[t]:W.call(e,t)},c.prototype.set=function(t,e){return this.__data__[t]=G&&void 0===e?O:e,this},l.prototype.clear=function(){this.__data__=[]},l.prototype.delete=function(t){var e=this.__data__,n=p(e,t);return!(n<0)&&(n==e.length-1?e.pop():J.call(e,n,1),!0)},l.prototype.get=function(t){var e=this.__data__,n=p(e,t);return n<0?void 0:e[n][1]},l.prototype.has=function(t){return p(this.__data__,t)>-1},l.prototype.set=function(t,e){var n=this.__data__,o=p(n,t);return o<0?n.push([t,e]):n[o][1]=e,this},s.prototype.clear=function(){this.__data__={hash:new c,map:new($||l),string:new c}},s.prototype.delete=function(t){return y(this,t).delete(t)},s.prototype.get=function(t){return y(this,t).get(t)},s.prototype.has=function(t){return y(this,t).has(t)},s.prototype.set=function(t,e){return y(this,t).set(t,e),this},f.prototype.add=f.prototype.push=function(t){return this.__data__.set(t,O),this},f.prototype.has=function(t){return this.__data__.has(t)};var Q,z,Z=(Q=function(t,e){return g(t)?d(t,h(e,1,g,!0)):[]},z=V(void 0===z?Q.length-1:z,0),function(){for(var t=arguments,e=-1,n=V(t.length-z,0),o=Array(n);++e<n;)o[e]=t[z+e];e=-1;for(var r=Array(z+1);++e<z;)r[e]=t[e];return r[z]=o,function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(Q,this,r)}),X=Array.isArray;t.exports=Z}).call(this,n("pCvA"))},fbSc:function(t,e,n){"use strict";function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=void 0,i=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r.key,"string"),"symbol"===o(i)?i:String(i)),r)}var i}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}n.d(e,"a",(function(){return a}));var a=function(){function t(){this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.voices=[]}return i(t,[{key:"playNote",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:127;try{var n=new u(this.audioContext,t,e);this.voices.push(n),n.start()}catch(t){console.log(t)}}},{key:"stopNote",value:function(t){try{var e=this.voices.find((function(e){return e.note===t}));e&&(e.stop(),this.voices=this.voices.filter((function(t){return t!==e})))}catch(t){console.log(t)}}}]),t}(),u=function(){function t(t,e,n){this.audioContext=t,this.note=e,this.velocity=n,this.oscillator=this.audioContext.createOscillator(),this.oscillator.frequency.value=function(t){return 440*Math.pow(2,(t-69)/12)}(e),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=n/127,this.oscillator.connect(this.gainNode),this.gainNode.connect(this.audioContext.destination)}return i(t,[{key:"start",value:function(){this.oscillator.start()}},{key:"stop",value:function(){this.gainNode.gain.linearRampToValueAtTime(0,this.audioContext.currentTime+.5),this.oscillator.stop(this.audioContext.currentTime+.5)}}]),t}()},l2px:function(){},pCvA:function(t){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":e(window))&&(n=window)}t.exports=n},rLQs:function(t,e,n){"use strict";(function(t){function o(e){var n=e.onPlayNote,o=e.onStopNote,i=r.a.fromNote("c3"),a=r.a.fromNote("f5");return t(r.b,{noteRange:{first:i,last:a},playNote:n,stopNote:o,width:1e3})}n.d(e,"a",(function(){return o}));var r=n("Qvep");n("l2px")}).call(this,n("hosL").h)},"s/nh":function(t,e,n){"use strict";(function(t,o){function r(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,r,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=i.call(n)).done)&&(u.push(o.value),u.length!==e);c=!0);}catch(t){l=!0,r=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw r}}return u}}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var c=n("QRet"),l=n("fbSc"),s=n("rLQs"),f=n("Zp5c"),p=n("RaXK");e.a=function(){var e=Object(f.a)(),n=e.incomingMessage,a=e.broadcastMessage,u=e.myChannels,d=e.sendMessageToTargetClient,h=i(Object(c.k)(null),2),_=h[0],y=h[1],b=i(Object(c.k)(!1),2),v=b[0],m=b[1],g=i(Object(c.k)(!1),2),N=g[0],S=g[1],w=i(Object(c.k)(!0),2),O=w[0],j=w[1];Object(c.d)((function(){if(n)switch(n.type){case"playNote":v||null==_||_.playNote.apply(_,r(n.noteData));break;case"stopNote":null==_||_.stopNote.apply(_,r(n.noteData))}}),[_,n,v]),Object(c.d)((function(){window&&y(new l.a)}),[]);var k=Object(c.a)((function(t){console.log("playing",t),_&&!N&&_.playNote(t),O&&a(JSON.stringify({type:"playNote",noteData:[t]}))}),[a,O,N,_]),C=Object(c.a)((function(t){console.log("stopping",t),_&&_.stopNote(t),O&&a(JSON.stringify({type:"stopNote",noteData:[t]}))}),[a,O,_]),E=i(Object(c.k)(null),2),I=E[0],A=E[1],P=Object(c.a)((function(t){var n;if(t.length)return I&&clearInterval(I),console.log("setting new interval id"),A(setInterval((function(){var o=u.find((function(e){return e.channel===t}));if(o){console.log("targetChannel",o);var r=o.members.filter((function(t){return t!==e.id}));if(r.length){console.log("members",r);var i=n?(r.findIndex((function(t){return t===n}))+1)%r.length:0;n=n?r[i]:r[0],console.log("sequencing",r,n,i),d(JSON.stringify({type:"playNote",noteData:[69+i]}),n),setTimeout((function(){d(JSON.stringify({type:"stopNote",noteData:[69+i]}),n)}),100)}}}),1e3)),function(){return clearInterval(I)}}),[u,d,I,e.id]);return t("div",null,t(p.a,{websocket:e}),t("div",{className:"mb-2"},t("div",null,t("label",{htmlFor:"mute"},"mute incoming notes"),t("input",{name:"mute incoming",type:"checkbox",checked:v,onChange:function(){return m((function(t){return!t}))}})),t("div",null,t("label",{htmlFor:"mute"},"mute outgoing notes"),t("input",{name:"mute outgoing",type:"checkbox",checked:N,onChange:function(){return S((function(t){return!t}))}})),t("div",null,t("label",{htmlFor:"broadcastNotes"},"broadcast notes"),t("input",{name:"broadcastNotes",type:"checkbox",checked:O,onChange:function(){return j(!O)}}))),t("div",{className:"flex flex-row gap-2 mb-2"},t("span",null,"sequence to channel"),t("select",{className:"px-1",name:"channel",onChange:function(t){return P(t.target.value)}},t(o,null,t("option",null),u.map((function(e){return t("option",{key:e.channel},e.channel)}))))),t(s.a,{onPlayNote:k,onStopNote:C}))}}).call(this,n("hosL").h,n("hosL").Fragment)},s9DB:function(t,e){"use strict";e.a={home:"home__Tk3DL",resource:"resource__-GqBH"}},vKyU:function(t,e,n){"use strict";n.r(e),function(t){var o=n("s9DB"),r=n("s/nh");e.default=function(){return t("div",{class:o.a.home},t(r.a,null))}}.call(this,n("hosL").h)}}]);
//# sourceMappingURL=route-synth.chunk.5537e.js.map