{"version":3,"sources":["webpack:////Users/ep/workspace/ws-do/node_modules/preact/compat/src/util.js","webpack:////Users/ep/workspace/ws-do/node_modules/preact/compat/src/PureComponent.js","webpack:////Users/ep/workspace/ws-do/node_modules/preact/compat/src/suspense.js","webpack:////Users/ep/workspace/ws-do/node_modules/preact/compat/src/suspense-list.js","webpack:////Users/ep/workspace/ws-do/node_modules/preact/compat/src/portals.js","webpack:////Users/ep/workspace/ws-do/node_modules/preact/compat/src/render.js","webpack:////Users/ep/workspace/ws-do/node_modules/preact/compat/src/index.js","webpack:////Users/ep/workspace/ws-do/node_modules/react-piano/src/MidiNumbers.js","webpack:////Users/ep/workspace/ws-do/node_modules/react-piano/src/Key.js","webpack:////Users/ep/workspace/ws-do/node_modules/react-piano/src/Keyboard.js","webpack:////Users/ep/workspace/ws-do/node_modules/preact/compat/src/forwardRef.js","webpack:////Users/ep/workspace/ws-do/node_modules/preact/compat/src/Children.js","webpack:////Users/ep/workspace/ws-do/node_modules/preact/compat/src/memo.js","webpack:////Users/ep/workspace/ws-do/node_modules/react-piano/src/ControlledPiano.js","webpack:////Users/ep/workspace/ws-do/node_modules/react-piano/src/Piano.js","webpack:////Users/ep/workspace/ws-do/node_modules/prop-types/factoryWithThrowingShims.js","webpack:///./routes/synth/index.js","webpack:////Users/ep/workspace/ws-do/node_modules/lodash.difference/index.js","webpack:////Users/ep/workspace/ws-do/node_modules/classnames/index.js","webpack:////Users/ep/workspace/ws-do/node_modules/just-range/index.js","webpack:///./components/wsMonitor.js","webpack:///./hooks/useWs.js","webpack:////Users/ep/workspace/ws-do/node_modules/prop-types/index.js","webpack:///./utils/polysynth.js","webpack:///./components/clients/synth/piano.js","webpack:////Users/ep/workspace/ws-do/node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///./components/clients/synth/index.js","webpack:///./routes/synth/style.css","webpack:///(webpack)/buildin/global.js","webpack:////Users/ep/workspace/ws-do/node_modules/preact/hooks/src/index.js"],"names":["g","n","t","e","C","r","E","w","this","props","L","__c","__H","__","forEach","__P","__k","map","U","__v","__e","insertBefore","__d","D","__u","__b","F","__a","V","u","o","P","getChildContext","context","children","j","i","componentWillUnmount","l","nodeType","parentNode","childNodes","appendChild","push","removeChild","splice","indexOf","Q","X","cancelBubble","nn","defaultPrevented","an","$$typeof","B","yn","getAttributes","midiNumber","attrs","midiNumberAttributesCache","Error","ratioToPercentage","ratio","isNaturalMidiNumber","value","MidiNumbers","NATURAL_MIDI_NUMBERS","includes","prototype","isPureReactComponent","shouldComponentUpdate","state","R","type","__f","ref","N","Symbol","for","A","O","count","length","only","toArray","T","then","I","unmount","__R","__h","__O","setState","pop","forceUpdate","c","render","document","createElement","fallback","W","delete","revealOrder","size","get","Map","reverse","set","componentDidUpdate","componentDidMount","H","Z","Y","$","q","test","isReactComponent","Object","defineProperty","configurable","writable","K","event","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","tn","en","enumerable","class","rn","vnode","toLowerCase","replace","multiple","Array","isArray","selected","defaultValue","className","un","__r","on","diffed","Cn","useState","a","useId","s","useReducer","h","useEffect","v","useLayoutEffect","d","useInsertionEffect","useTransition","useDeferredValue","useSyncExternalStore","startTransition","useRef","p","useImperativeHandle","m","useMemo","y","useCallback","_","useContext","b","useDebugValue","S","version","Children","textContent","hydrate","unmountComponentAtNode","createPortal","containerInfo","createContext","createFactory","bind","cloneElement","f","apply","arguments","createRef","Fragment","isValidElement","findDOMNode","base","Component","PureComponent","memo","call","current","displayName","name","forwardRef","flushSync","unstable_batchedUpdates","StrictMode","Suspense","SuspenseList","lazy","default","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentDispatcher","readContext","__n","SORTED_PITCHES","ACCIDENTAL_PITCHES","PITCH_INDEXES","Db","Eb","Gb","G","Ab","Bb","MIDI_NUMBER_C0","MIN_MIDI_NUMBER","NOTE_REGEX","NOTES_IN_OCTAVE","range","MAX_MIDI_NUMBER","reduce","cache","pitchIndex","octave","Math","floor","pitchName","note","concat","isAccidental","buildMidiNumberAttributes","filter","fromNote","match","exec","accidental","_match","toUpperCase","parseInt","Key","onPlayNoteInput","_this","onStopNoteInput","pitchPositions","_MidiNumbers$getAttri","getAbsoluteKeyPosition","noteRange","first","naturalKeyWidth","_this$props","accidentalWidthRatio","gliss","useTouchEvents","active","disabled","React","classNames","style","left","getRelativeKeyPosition","width","onMouseDown","onMouseUp","onMouseEnter","onMouseLeave","onTouchStart","onTouchCancel","onTouchEnd","PropTypes","number","isRequired","bool","func","object","node","Keyboard","last","getMidiNumbers","getNaturalKeyCount","keyWidth","getNaturalKeyWidth","keyWidthToHeight","getWidth","height","getHeight","_MidiNumbers$getAttri2","isActive","activeNotes","key","renderNoteLabel","propName","componentName","_props$propName","arrayOf","string","ControlledPiano","isMouseDown","_ref","prevActiveNotes","nextActiveNotes","notesStopped","difference","playNote","stopNote","keyboardShortcuts","shortcut","find","sh","ctrlKey","metaKey","shiftKey","getMidiNumberForKey","_ref2","keyboardShortcut","getKeyForMidiNumber","window","addEventListener","onKeyDown","onKeyUp","removeEventListener","prevProps","handleNoteChanges","shape","_ref3","Piano","prevState","otherProps","_objectWithoutProperties","_extends","handlePlayNoteInput","handleStopNoteInput","emptyFunction","emptyFunctionWithReset","ReactPropTypesSecret","require","resetWarningCache","module","exports","shim","location","propFullName","secret","err","getShim","ReactPropTypes","array","bigint","symbol","any","element","elementType","instanceOf","objectOf","oneOf","oneOfType","exact","checkPropTypes","Synth","home","SynthClient","arrayIncludes","fromIndex","predicate","fromRight","index","baseFindIndex","baseIsNaN","baseIndexOf","arrayIncludesWith","comparator","arrayPush","values","offset","cacheHas","has","Hash","entries","clear","entry","ListCache","MapCache","SetCache","__data__","add","assocIndexOf","other","baseDifference","iteratee","isCommon","result","valuesLength","arrayMap","outer","computed","valuesIndex","baseFlatten","depth","isStrict","isFlattenable","baseIsNative","isObject","maskSrcKey","pattern","isFunction","toString","isHostObject","reIsNative","reIsHostCtor","funcToString","toSource","getMapData","data","getNative","undefined","getValue","isArrayLikeObject","hasOwnProperty","propertyIsEnumerable","objectToString","argsTag","isArguments","spreadableSymbol","isArrayLike","MAX_SAFE_INTEGER","isLength","isObjectLike","tag","funcTag","genTag","uid","HASH_UNDEFINED","freeSelf","self","root","global","Function","arrayProto","funcProto","objectProto","coreJsData","keys","IE_PROTO","RegExp","isConcatSpreadable","nativeMax","max","nativeCreate","start","args","otherArgs","thisArg","classes","arg","argType","inner","hasOwn","join","stop","step","toReturn","increasing","WsMonitor","websocket","ws","wsUrl","setWsUrl","history","myChannels","availableChannels","id","wsState","joinChannel","getChannels","heartbeat","broadcastMessage","sendMessageToTargetClient","sendMessageToTargetChannel","sendMessageToJoinedChannels","message","setMessage","targetChannel","setTargetChannel","targetId","setTargetId","messageIsValidJSON","JSON","parse","handleWsUrlChange","preventDefault","target","onSubmit","placeholder","stringify","onClick","channel","members","htmlFor","cols","rows","onInput","overflow","useWs","setWs","setHistory","setHeartbeat","setMyChannels","setAvailableChannels","setId","incomingMessage","setIncomingMessage","onMessage","async","channels","protocol","port","url","hostname","console","log","close","wsConnection","WebSocket","onmessage","onopen","send","readyState","CONNECTING","OPEN","CLOSING","CLOSED","_objectSpread","timestamp","Date","now","PolySynth","constructor","audioContext","AudioContext","webkitAudioContext","voices","velocity","voice","Voice","oscillator","createOscillator","frequency","pow","getFrequency","gainNode","createGain","gain","connect","destination","linearRampToValueAtTime","currentTime","MIDIPiano","onPlayNote","onStopNote","firstNote","lastNote","polySynth","setPolySynth","muteIncoming","setMuteIncoming","muteOutgoing","setMuteOutgoing","broadcastNotes","setBroadcastNotes","noteData","handlePlayNote","handleStopNote","sequencerIntervalId","setSequencerIntervalId","handleSequenceChannel","channelName","sequenceTarget","clearInterval","setInterval","targetIndex","findIndex","setTimeout","Monitor","checked","onChange","__V","__N","every","componentWillUpdate","__s","z","sub","x","__m","shift","k","clearTimeout","cancelAnimationFrame","requestAnimationFrame","some"],"mappings":"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","file":"route-synth.chunk.9a0e2.esm.js","sourcesContent":["/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Check if two objects have a different shape\n * @param {object} a\n * @param {object} b\n * @returns {boolean}\n */\nexport function shallowDiffers(a, b) {\n\tfor (let i in a) if (i !== '__source' && !(i in b)) return true;\n\tfor (let i in b) if (i !== '__source' && a[i] !== b[i]) return true;\n\treturn false;\n}\n\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\n/**\n * Check if two values are the same value\n * @param {*} x\n * @param {*} y\n * @returns {boolean}\n */\nexport function is(x, y) {\n\treturn (x === y && (x !== 0 || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\n","import { Component } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Component class with a predefined `shouldComponentUpdate` implementation\n */\nexport function PureComponent(p) {\n\tthis.props = p;\n}\nPureComponent.prototype = new Component();\n// Some third-party libraries check if this property is present\nPureComponent.prototype.isPureReactComponent = true;\nPureComponent.prototype.shouldComponentUpdate = function (props, state) {\n\treturn shallowDiffers(this.props, props) || shallowDiffers(this.state, state);\n};\n","import { Component, createElement, options, Fragment } from 'preact';\nimport { assign } from './util';\n\nconst oldCatchError = options._catchError;\noptions._catchError = function (error, newVNode, oldVNode, errorInfo) {\n\tif (error.then) {\n\t\t/** @type {import('./internal').Component} */\n\t\tlet component;\n\t\tlet vnode = newVNode;\n\n\t\tfor (; (vnode = vnode._parent); ) {\n\t\t\tif ((component = vnode._component) && component._childDidSuspend) {\n\t\t\t\tif (newVNode._dom == null) {\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t}\n\t\t\t\t// Don't call oldCatchError if we found a Suspense\n\t\t\t\treturn component._childDidSuspend(error, newVNode);\n\t\t\t}\n\t\t}\n\t}\n\toldCatchError(error, newVNode, oldVNode, errorInfo);\n};\n\nconst oldUnmount = options.unmount;\noptions.unmount = function (vnode) {\n\t/** @type {import('./internal').Component} */\n\tconst component = vnode._component;\n\tif (component && component._onResolve) {\n\t\tcomponent._onResolve();\n\t}\n\n\t// if the component is still hydrating\n\t// most likely it is because the component is suspended\n\t// we set the vnode.type as `null` so that it is not a typeof function\n\t// so the unmount will remove the vnode._dom\n\tif (component && vnode._hydrating === true) {\n\t\tvnode.type = null;\n\t}\n\n\tif (oldUnmount) oldUnmount(vnode);\n};\n\nfunction detachedClone(vnode, detachedParent, parentDom) {\n\tif (vnode) {\n\t\tif (vnode._component && vnode._component.__hooks) {\n\t\t\tvnode._component.__hooks._list.forEach(effect => {\n\t\t\t\tif (typeof effect._cleanup == 'function') effect._cleanup();\n\t\t\t});\n\n\t\t\tvnode._component.__hooks = null;\n\t\t}\n\n\t\tvnode = assign({}, vnode);\n\t\tif (vnode._component != null) {\n\t\t\tif (vnode._component._parentDom === parentDom) {\n\t\t\t\tvnode._component._parentDom = detachedParent;\n\t\t\t}\n\t\t\tvnode._component = null;\n\t\t}\n\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tdetachedClone(child, detachedParent, parentDom)\n\t\t\t);\n\t}\n\n\treturn vnode;\n}\n\nfunction removeOriginal(vnode, detachedParent, originalParent) {\n\tif (vnode) {\n\t\tvnode._original = null;\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tremoveOriginal(child, detachedParent, originalParent)\n\t\t\t);\n\n\t\tif (vnode._component) {\n\t\t\tif (vnode._component._parentDom === detachedParent) {\n\t\t\t\tif (vnode._dom) {\n\t\t\t\t\toriginalParent.insertBefore(vnode._dom, vnode._nextDom);\n\t\t\t\t}\n\t\t\t\tvnode._component._force = true;\n\t\t\t\tvnode._component._parentDom = originalParent;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn vnode;\n}\n\n// having custom inheritance instead of a class here saves a lot of bytes\nexport function Suspense() {\n\t// we do not call super here to golf some bytes...\n\tthis._pendingSuspensionCount = 0;\n\tthis._suspenders = null;\n\tthis._detachOnNextRender = null;\n}\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspense.prototype = new Component();\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {Promise} promise The thrown promise\n * @param {import('./internal').VNode<any, any>} suspendingVNode The suspending component\n */\nSuspense.prototype._childDidSuspend = function (promise, suspendingVNode) {\n\tconst suspendingComponent = suspendingVNode._component;\n\n\t/** @type {import('./internal').SuspenseComponent} */\n\tconst c = this;\n\n\tif (c._suspenders == null) {\n\t\tc._suspenders = [];\n\t}\n\tc._suspenders.push(suspendingComponent);\n\n\tconst resolve = suspended(c._vnode);\n\n\tlet resolved = false;\n\tconst onResolved = () => {\n\t\tif (resolved) return;\n\n\t\tresolved = true;\n\t\tsuspendingComponent._onResolve = null;\n\n\t\tif (resolve) {\n\t\t\tresolve(onSuspensionComplete);\n\t\t} else {\n\t\t\tonSuspensionComplete();\n\t\t}\n\t};\n\n\tsuspendingComponent._onResolve = onResolved;\n\n\tconst onSuspensionComplete = () => {\n\t\tif (!--c._pendingSuspensionCount) {\n\t\t\t// If the suspension was during hydration we don't need to restore the\n\t\t\t// suspended children into the _children array\n\t\t\tif (c.state._suspended) {\n\t\t\t\tconst suspendedVNode = c.state._suspended;\n\t\t\t\tc._vnode._children[0] = removeOriginal(\n\t\t\t\t\tsuspendedVNode,\n\t\t\t\t\tsuspendedVNode._component._parentDom,\n\t\t\t\t\tsuspendedVNode._component._originalParentDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tc.setState({ _suspended: (c._detachOnNextRender = null) });\n\n\t\t\tlet suspended;\n\t\t\twhile ((suspended = c._suspenders.pop())) {\n\t\t\t\tsuspended.forceUpdate();\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * We do not set `suspended: true` during hydration because we want the actual markup\n\t * to remain on screen and hydrate it when the suspense actually gets resolved.\n\t * While in non-hydration cases the usual fallback -> component flow would occour.\n\t */\n\tconst wasHydrating = suspendingVNode._hydrating === true;\n\tif (!c._pendingSuspensionCount++ && !wasHydrating) {\n\t\tc.setState({ _suspended: (c._detachOnNextRender = c._vnode._children[0]) });\n\t}\n\tpromise.then(onResolved, onResolved);\n};\n\nSuspense.prototype.componentWillUnmount = function () {\n\tthis._suspenders = [];\n};\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {import('./internal').SuspenseComponent[\"props\"]} props\n * @param {import('./internal').SuspenseState} state\n */\nSuspense.prototype.render = function (props, state) {\n\tif (this._detachOnNextRender) {\n\t\t// When the Suspense's _vnode was created by a call to createVNode\n\t\t// (i.e. due to a setState further up in the tree)\n\t\t// it's _children prop is null, in this case we \"forget\" about the parked vnodes to detach\n\t\tif (this._vnode._children) {\n\t\t\tconst detachedParent = document.createElement('div');\n\t\t\tconst detachedComponent = this._vnode._children[0]._component;\n\t\t\tthis._vnode._children[0] = detachedClone(\n\t\t\t\tthis._detachOnNextRender,\n\t\t\t\tdetachedParent,\n\t\t\t\t(detachedComponent._originalParentDom = detachedComponent._parentDom)\n\t\t\t);\n\t\t}\n\n\t\tthis._detachOnNextRender = null;\n\t}\n\n\t// Wrap fallback tree in a VNode that prevents itself from being marked as aborting mid-hydration:\n\t/** @type {import('./internal').VNode} */\n\tconst fallback =\n\t\tstate._suspended && createElement(Fragment, null, props.fallback);\n\tif (fallback) fallback._hydrating = null;\n\n\treturn [\n\t\tcreateElement(Fragment, null, state._suspended ? null : props.children),\n\t\tfallback\n\t];\n};\n\n/**\n * Checks and calls the parent component's _suspended method, passing in the\n * suspended vnode. This is a way for a parent (e.g. SuspenseList) to get notified\n * that one of its children/descendants suspended.\n *\n * The parent MAY return a callback. The callback will get called when the\n * suspension resolves, notifying the parent of the fact.\n * Moreover, the callback gets function `unsuspend` as a parameter. The resolved\n * child descendant will not actually get unsuspended until `unsuspend` gets called.\n * This is a way for the parent to delay unsuspending.\n *\n * If the parent does not return a callback then the resolved vnode\n * gets unsuspended immediately when it resolves.\n *\n * @param {import('./internal').VNode} vnode\n * @returns {((unsuspend: () => void) => void)?}\n */\nexport function suspended(vnode) {\n\t/** @type {import('./internal').Component} */\n\tlet component = vnode._parent._component;\n\treturn component && component._suspended && component._suspended(vnode);\n}\n\nexport function lazy(loader) {\n\tlet prom;\n\tlet component;\n\tlet error;\n\n\tfunction Lazy(props) {\n\t\tif (!prom) {\n\t\t\tprom = loader();\n\t\t\tprom.then(\n\t\t\t\texports => {\n\t\t\t\t\tcomponent = exports.default || exports;\n\t\t\t\t},\n\t\t\t\te => {\n\t\t\t\t\terror = e;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tif (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (!component) {\n\t\t\tthrow prom;\n\t\t}\n\n\t\treturn createElement(component, props);\n\t}\n\n\tLazy.displayName = 'Lazy';\n\tLazy._forwarded = true;\n\treturn Lazy;\n}\n","import { Component, toChildArray } from 'preact';\nimport { suspended } from './suspense.js';\n\n// Indexes to linked list nodes (nodes are stored as arrays to save bytes).\nconst SUSPENDED_COUNT = 0;\nconst RESOLVED_COUNT = 1;\nconst NEXT_NODE = 2;\n\n// Having custom inheritance instead of a class here saves a lot of bytes.\nexport function SuspenseList() {\n\tthis._next = null;\n\tthis._map = null;\n}\n\n// Mark one of child's earlier suspensions as resolved.\n// Some pending callbacks may become callable due to this\n// (e.g. the last suspended descendant gets resolved when\n// revealOrder === 'together'). Process those callbacks as well.\nconst resolve = (list, child, node) => {\n\tif (++node[RESOLVED_COUNT] === node[SUSPENDED_COUNT]) {\n\t\t// The number a child (or any of its descendants) has been suspended\n\t\t// matches the number of times it's been resolved. Therefore we\n\t\t// mark the child as completely resolved by deleting it from ._map.\n\t\t// This is used to figure out when *all* children have been completely\n\t\t// resolved when revealOrder is 'together'.\n\t\tlist._map.delete(child);\n\t}\n\n\t// If revealOrder is falsy then we can do an early exit, as the\n\t// callbacks won't get queued in the node anyway.\n\t// If revealOrder is 'together' then also do an early exit\n\t// if all suspended descendants have not yet been resolved.\n\tif (\n\t\t!list.props.revealOrder ||\n\t\t(list.props.revealOrder[0] === 't' && list._map.size)\n\t) {\n\t\treturn;\n\t}\n\n\t// Walk the currently suspended children in order, calling their\n\t// stored callbacks on the way. Stop if we encounter a child that\n\t// has not been completely resolved yet.\n\tnode = list._next;\n\twhile (node) {\n\t\twhile (node.length > 3) {\n\t\t\tnode.pop()();\n\t\t}\n\t\tif (node[RESOLVED_COUNT] < node[SUSPENDED_COUNT]) {\n\t\t\tbreak;\n\t\t}\n\t\tlist._next = node = node[NEXT_NODE];\n\t}\n};\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspenseList.prototype = new Component();\n\nSuspenseList.prototype._suspended = function (child) {\n\tconst list = this;\n\tconst delegated = suspended(list._vnode);\n\n\tlet node = list._map.get(child);\n\tnode[SUSPENDED_COUNT]++;\n\n\treturn unsuspend => {\n\t\tconst wrappedUnsuspend = () => {\n\t\t\tif (!list.props.revealOrder) {\n\t\t\t\t// Special case the undefined (falsy) revealOrder, as there\n\t\t\t\t// is no need to coordinate a specific order or unsuspends.\n\t\t\t\tunsuspend();\n\t\t\t} else {\n\t\t\t\tnode.push(unsuspend);\n\t\t\t\tresolve(list, child, node);\n\t\t\t}\n\t\t};\n\t\tif (delegated) {\n\t\t\tdelegated(wrappedUnsuspend);\n\t\t} else {\n\t\t\twrappedUnsuspend();\n\t\t}\n\t};\n};\n\nSuspenseList.prototype.render = function (props) {\n\tthis._next = null;\n\tthis._map = new Map();\n\n\tconst children = toChildArray(props.children);\n\tif (props.revealOrder && props.revealOrder[0] === 'b') {\n\t\t// If order === 'backwards' (or, well, anything starting with a 'b')\n\t\t// then flip the child list around so that the last child will be\n\t\t// the first in the linked list.\n\t\tchildren.reverse();\n\t}\n\t// Build the linked list. Iterate through the children in reverse order\n\t// so that `_next` points to the first linked list node to be resolved.\n\tfor (let i = children.length; i--; ) {\n\t\t// Create a new linked list node as an array of form:\n\t\t// \t[suspended_count, resolved_count, next_node]\n\t\t// where suspended_count and resolved_count are numeric counters for\n\t\t// keeping track how many times a node has been suspended and resolved.\n\t\t//\n\t\t// Note that suspended_count starts from 1 instead of 0, so we can block\n\t\t// processing callbacks until componentDidMount has been called. In a sense\n\t\t// node is suspended at least until componentDidMount gets called!\n\t\t//\n\t\t// Pending callbacks are added to the end of the node:\n\t\t// \t[suspended_count, resolved_count, next_node, callback_0, callback_1, ...]\n\t\tthis._map.set(children[i], (this._next = [1, 0, this._next]));\n\t}\n\treturn props.children;\n};\n\nSuspenseList.prototype.componentDidUpdate =\n\tSuspenseList.prototype.componentDidMount = function () {\n\t\t// Iterate through all children after mounting for two reasons:\n\t\t// 1. As each node[SUSPENDED_COUNT] starts from 1, this iteration increases\n\t\t//    each node[RELEASED_COUNT] by 1, therefore balancing the counters.\n\t\t//    The nodes can now be completely consumed from the linked list.\n\t\t// 2. Handle nodes that might have gotten resolved between render and\n\t\t//    componentDidMount.\n\t\tthis._map.forEach((node, child) => {\n\t\t\tresolve(this, child, node);\n\t\t});\n\t};\n","import { createElement, render } from 'preact';\n\n/**\n * @param {import('../../src/index').RenderableProps<{ context: any }>} props\n */\nfunction ContextProvider(props) {\n\tthis.getChildContext = () => props.context;\n\treturn props.children;\n}\n\n/**\n * Portal component\n * @this {import('./internal').Component}\n * @param {object | null | undefined} props\n *\n * TODO: use createRoot() instead of fake root\n */\nfunction Portal(props) {\n\tconst _this = this;\n\tlet container = props._container;\n\n\t_this.componentWillUnmount = function () {\n\t\trender(null, _this._temp);\n\t\t_this._temp = null;\n\t\t_this._container = null;\n\t};\n\n\t// When we change container we should clear our old container and\n\t// indicate a new mount.\n\tif (_this._container && _this._container !== container) {\n\t\t_this.componentWillUnmount();\n\t}\n\n\t// When props.vnode is undefined/false/null we are dealing with some kind of\n\t// conditional vnode. This should not trigger a render.\n\tif (props._vnode) {\n\t\tif (!_this._temp) {\n\t\t\t_this._container = container;\n\n\t\t\t// Create a fake DOM parent node that manages a subset of `container`'s children:\n\t\t\t_this._temp = {\n\t\t\t\tnodeType: 1,\n\t\t\t\tparentNode: container,\n\t\t\t\tchildNodes: [],\n\t\t\t\tappendChild(child) {\n\t\t\t\t\tthis.childNodes.push(child);\n\t\t\t\t\t_this._container.appendChild(child);\n\t\t\t\t},\n\t\t\t\tinsertBefore(child, before) {\n\t\t\t\t\tthis.childNodes.push(child);\n\t\t\t\t\t_this._container.appendChild(child);\n\t\t\t\t},\n\t\t\t\tremoveChild(child) {\n\t\t\t\t\tthis.childNodes.splice(this.childNodes.indexOf(child) >>> 1, 1);\n\t\t\t\t\t_this._container.removeChild(child);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t// Render our wrapping element into temp.\n\t\trender(\n\t\t\tcreateElement(ContextProvider, { context: _this.context }, props._vnode),\n\t\t\t_this._temp\n\t\t);\n\t}\n\t// When we come from a conditional render, on a mounted\n\t// portal we should clear the DOM.\n\telse if (_this._temp) {\n\t\t_this.componentWillUnmount();\n\t}\n}\n\n/**\n * Create a `Portal` to continue rendering the vnode tree at a different DOM node\n * @param {import('./internal').VNode} vnode The vnode to render\n * @param {import('./internal').PreactElement} container The DOM node to continue rendering in to.\n */\nexport function createPortal(vnode, container) {\n\tconst el = createElement(Portal, { _vnode: vnode, _container: container });\n\tel.containerInfo = container;\n\treturn el;\n}\n","import {\n\trender as preactRender,\n\thydrate as preactHydrate,\n\toptions,\n\ttoChildArray,\n\tComponent\n} from 'preact';\n\nexport const REACT_ELEMENT_TYPE =\n\t(typeof Symbol != 'undefined' && Symbol.for && Symbol.for('react.element')) ||\n\t0xeac7;\n\nconst CAMEL_PROPS =\n\t/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;\nconst ON_ANI = /^on(Ani|Tra|Tou|BeforeInp|Compo)/;\nconst CAMEL_REPLACE = /[A-Z0-9]/g;\n\nconst IS_DOM = typeof document !== 'undefined';\n\n// Input types for which onchange should not be converted to oninput.\n// type=\"file|checkbox|radio\", plus \"range\" in IE11.\n// (IE11 doesn't support Symbol, which we use here to turn `rad` into `ra` which matches \"range\")\nconst onChangeInputType = type =>\n\t(typeof Symbol != 'undefined' && typeof Symbol() == 'symbol'\n\t\t? /fil|che|rad/\n\t\t: /fil|che|ra/\n\t).test(type);\n\n// Some libraries like `react-virtualized` explicitly check for this.\nComponent.prototype.isReactComponent = {};\n\n// `UNSAFE_*` lifecycle hooks\n// Preact only ever invokes the unprefixed methods.\n// Here we provide a base \"fallback\" implementation that calls any defined UNSAFE_ prefixed method.\n// - If a component defines its own `componentDidMount()` (including via defineProperty), use that.\n// - If a component defines `UNSAFE_componentDidMount()`, `componentDidMount` is the alias getter/setter.\n// - If anything assigns to an `UNSAFE_*` property, the assignment is forwarded to the unprefixed property.\n// See https://github.com/preactjs/preact/issues/1941\n[\n\t'componentWillMount',\n\t'componentWillReceiveProps',\n\t'componentWillUpdate'\n].forEach(key => {\n\tObject.defineProperty(Component.prototype, key, {\n\t\tconfigurable: true,\n\t\tget() {\n\t\t\treturn this['UNSAFE_' + key];\n\t\t},\n\t\tset(v) {\n\t\t\tObject.defineProperty(this, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true,\n\t\t\t\tvalue: v\n\t\t\t});\n\t\t}\n\t});\n});\n\n/**\n * Proxy render() since React returns a Component reference.\n * @param {import('./internal').VNode} vnode VNode tree to render\n * @param {import('./internal').PreactElement} parent DOM node to render vnode tree into\n * @param {() => void} [callback] Optional callback that will be called after rendering\n * @returns {import('./internal').Component | null} The root component reference or null\n */\nexport function render(vnode, parent, callback) {\n\t// React destroys any existing DOM nodes, see #1727\n\t// ...but only on the first render, see #1828\n\tif (parent._children == null) {\n\t\tparent.textContent = '';\n\t}\n\n\tpreactRender(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nexport function hydrate(vnode, parent, callback) {\n\tpreactHydrate(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nlet oldEventHook = options.event;\noptions.event = e => {\n\tif (oldEventHook) e = oldEventHook(e);\n\n\te.persist = empty;\n\te.isPropagationStopped = isPropagationStopped;\n\te.isDefaultPrevented = isDefaultPrevented;\n\treturn (e.nativeEvent = e);\n};\n\nfunction empty() {}\n\nfunction isPropagationStopped() {\n\treturn this.cancelBubble;\n}\n\nfunction isDefaultPrevented() {\n\treturn this.defaultPrevented;\n}\n\nconst classNameDescriptorNonEnumberable = {\n\tenumerable: false,\n\tconfigurable: true,\n\tget() {\n\t\treturn this.class;\n\t}\n};\n\nfunction handleDomVNode(vnode) {\n\tlet props = vnode.props,\n\t\ttype = vnode.type,\n\t\tnormalizedProps = {};\n\n\tfor (let i in props) {\n\t\tlet value = props[i];\n\n\t\tif (\n\t\t\t(i === 'value' && 'defaultValue' in props && value == null) ||\n\t\t\t// Emulate React's behavior of not rendering the contents of noscript tags on the client.\n\t\t\t(IS_DOM && i === 'children' && type === 'noscript') ||\n\t\t\ti === 'class' ||\n\t\t\ti === 'className'\n\t\t) {\n\t\t\t// Skip applying value if it is null/undefined and we already set\n\t\t\t// a default value\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet lowerCased = i.toLowerCase();\n\t\tif (i === 'defaultValue' && 'value' in props && props.value == null) {\n\t\t\t// `defaultValue` is treated as a fallback `value` when a value prop is present but null/undefined.\n\t\t\t// `defaultValue` for Elements with no value prop is the same as the DOM defaultValue property.\n\t\t\ti = 'value';\n\t\t} else if (i === 'download' && value === true) {\n\t\t\t// Calling `setAttribute` with a truthy value will lead to it being\n\t\t\t// passed as a stringified value, e.g. `download=\"true\"`. React\n\t\t\t// converts it to an empty string instead, otherwise the attribute\n\t\t\t// value will be used as the file name and the file will be called\n\t\t\t// \"true\" upon downloading it.\n\t\t\tvalue = '';\n\t\t} else if (lowerCased === 'ondoubleclick') {\n\t\t\ti = 'ondblclick';\n\t\t} else if (\n\t\t\tlowerCased === 'onchange' &&\n\t\t\t(type === 'input' || type === 'textarea') &&\n\t\t\t!onChangeInputType(props.type)\n\t\t) {\n\t\t\tlowerCased = i = 'oninput';\n\t\t} else if (lowerCased === 'onfocus') {\n\t\t\ti = 'onfocusin';\n\t\t} else if (lowerCased === 'onblur') {\n\t\t\ti = 'onfocusout';\n\t\t} else if (ON_ANI.test(i)) {\n\t\t\ti = lowerCased;\n\t\t} else if (type.indexOf('-') === -1 && CAMEL_PROPS.test(i)) {\n\t\t\ti = i.replace(CAMEL_REPLACE, '-$&').toLowerCase();\n\t\t} else if (value === null) {\n\t\t\tvalue = undefined;\n\t\t}\n\n\t\t// Add support for onInput and onChange, see #3561\n\t\t// if we have an oninput prop already change it to oninputCapture\n\t\tif (lowerCased === 'oninput') {\n\t\t\ti = lowerCased;\n\t\t\tif (normalizedProps[i]) {\n\t\t\t\ti = 'oninputCapture';\n\t\t\t}\n\t\t}\n\n\t\tnormalizedProps[i] = value;\n\t}\n\n\t// Add support for array select values: <select multiple value={[]} />\n\tif (\n\t\ttype == 'select' &&\n\t\tnormalizedProps.multiple &&\n\t\tArray.isArray(normalizedProps.value)\n\t) {\n\t\t// forEach() always returns undefined, which we abuse here to unset the value prop.\n\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\tchild.props.selected =\n\t\t\t\tnormalizedProps.value.indexOf(child.props.value) != -1;\n\t\t});\n\t}\n\n\t// Adding support for defaultValue in select tag\n\tif (type == 'select' && normalizedProps.defaultValue != null) {\n\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\tif (normalizedProps.multiple) {\n\t\t\t\tchild.props.selected =\n\t\t\t\t\tnormalizedProps.defaultValue.indexOf(child.props.value) != -1;\n\t\t\t} else {\n\t\t\t\tchild.props.selected =\n\t\t\t\t\tnormalizedProps.defaultValue == child.props.value;\n\t\t\t}\n\t\t});\n\t}\n\n\tif (props.class && !props.className) {\n\t\tnormalizedProps.class = props.class;\n\t\tObject.defineProperty(\n\t\t\tnormalizedProps,\n\t\t\t'className',\n\t\t\tclassNameDescriptorNonEnumberable\n\t\t);\n\t} else if (props.className && !props.class) {\n\t\tnormalizedProps.class = normalizedProps.className = props.className;\n\t} else if (props.class && props.className) {\n\t\tnormalizedProps.class = normalizedProps.className = props.className;\n\t}\n\n\tvnode.props = normalizedProps;\n}\n\nlet oldVNodeHook = options.vnode;\noptions.vnode = vnode => {\n\t// only normalize props on Element nodes\n\tif (typeof vnode.type === 'string') {\n\t\thandleDomVNode(vnode);\n\t}\n\n\tvnode.$$typeof = REACT_ELEMENT_TYPE;\n\n\tif (oldVNodeHook) oldVNodeHook(vnode);\n};\n\n// Only needed for react-relay\nlet currentComponent;\nconst oldBeforeRender = options._render;\noptions._render = function (vnode) {\n\tif (oldBeforeRender) {\n\t\toldBeforeRender(vnode);\n\t}\n\tcurrentComponent = vnode._component;\n};\n\nconst oldDiffed = options.diffed;\n/** @type {(vnode: import('./internal').VNode) => void} */\noptions.diffed = function (vnode) {\n\tif (oldDiffed) {\n\t\toldDiffed(vnode);\n\t}\n\n\tconst props = vnode.props;\n\tconst dom = vnode._dom;\n\n\tif (\n\t\tdom != null &&\n\t\tvnode.type === 'textarea' &&\n\t\t'value' in props &&\n\t\tprops.value !== dom.value\n\t) {\n\t\tdom.value = props.value == null ? '' : props.value;\n\t}\n\n\tcurrentComponent = null;\n};\n\n// This is a very very private internal function for React it\n// is used to sort-of do runtime dependency injection. So far\n// only `react-relay` makes use of it. It uses it to read the\n// context value.\nexport const __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = {\n\tReactCurrentDispatcher: {\n\t\tcurrent: {\n\t\t\treadContext(context) {\n\t\t\t\treturn currentComponent._globalContext[context._id].props.value;\n\t\t\t}\n\t\t}\n\t}\n};\n","import {\n\tcreateElement,\n\trender as preactRender,\n\tcloneElement as preactCloneElement,\n\tcreateRef,\n\tComponent,\n\tcreateContext,\n\tFragment\n} from 'preact';\nimport {\n\tuseState,\n\tuseId,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue\n} from 'preact/hooks';\nimport { PureComponent } from './PureComponent';\nimport { memo } from './memo';\nimport { forwardRef } from './forwardRef';\nimport { Children } from './Children';\nimport { Suspense, lazy } from './suspense';\nimport { SuspenseList } from './suspense-list';\nimport { createPortal } from './portals';\nimport { is } from './util';\nimport {\n\thydrate,\n\trender,\n\tREACT_ELEMENT_TYPE,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n} from './render';\n\nconst version = '17.0.2'; // trick libraries to think we are react\n\n/**\n * Legacy version of createElement.\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component constructor\n */\nfunction createFactory(type) {\n\treturn createElement.bind(null, type);\n}\n\n/**\n * Check if the passed element is a valid (p)react node.\n * @param {*} element The element to check\n * @returns {boolean}\n */\nfunction isValidElement(element) {\n\treturn !!element && element.$$typeof === REACT_ELEMENT_TYPE;\n}\n\n/**\n * Wrap `cloneElement` to abort if the passed element is not a valid element and apply\n * all vnode normalizations.\n * @param {import('./internal').VNode} element The vnode to clone\n * @param {object} props Props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Optional component children\n */\nfunction cloneElement(element) {\n\tif (!isValidElement(element)) return element;\n\treturn preactCloneElement.apply(null, arguments);\n}\n\n/**\n * Remove a component tree from the DOM, including state and event handlers.\n * @param {import('./internal').PreactElement} container\n * @returns {boolean}\n */\nfunction unmountComponentAtNode(container) {\n\tif (container._children) {\n\t\tpreactRender(null, container);\n\t\treturn true;\n\t}\n\treturn false;\n}\n\n/**\n * Get the matching DOM node for a component\n * @param {import('./internal').Component} component\n * @returns {import('./internal').PreactElement | null}\n */\nfunction findDOMNode(component) {\n\treturn (\n\t\t(component &&\n\t\t\t(component.base || (component.nodeType === 1 && component))) ||\n\t\tnull\n\t);\n}\n\n/**\n * Deprecated way to control batched rendering inside the reconciler, but we\n * already schedule in batches inside our rendering code\n * @template Arg\n * @param {(arg: Arg) => void} callback function that triggers the updated\n * @param {Arg} [arg] Optional argument that can be passed to the callback\n */\n// eslint-disable-next-line camelcase\nconst unstable_batchedUpdates = (callback, arg) => callback(arg);\n\n/**\n * In React, `flushSync` flushes the entire tree and forces a rerender. It's\n * implmented here as a no-op.\n * @template Arg\n * @template Result\n * @param {(arg: Arg) => Result} callback function that runs before the flush\n * @param {Arg} [arg] Optional argument that can be passed to the callback\n * @returns\n */\nconst flushSync = (callback, arg) => callback(arg);\n\n/**\n * Strict Mode is not implemented in Preact, so we provide a stand-in for it\n * that just renders its children without imposing any restrictions.\n */\nconst StrictMode = Fragment;\n\nexport function startTransition(cb) {\n\tcb();\n}\n\nexport function useDeferredValue(val) {\n\treturn val;\n}\n\nexport function useTransition() {\n\treturn [false, startTransition];\n}\n\n// TODO: in theory this should be done after a VNode is diffed as we want to insert\n// styles/... before it attaches\nexport const useInsertionEffect = useLayoutEffect;\n\n/**\n * This is taken from https://github.com/facebook/react/blob/main/packages/use-sync-external-store/src/useSyncExternalStoreShimClient.js#L84\n * on a high level this cuts out the warnings, ... and attempts a smaller implementation\n */\nexport function useSyncExternalStore(subscribe, getSnapshot) {\n\tconst value = getSnapshot();\n\n\tconst [{ _instance }, forceUpdate] = useState({\n\t\t_instance: { _value: value, _getSnapshot: getSnapshot }\n\t});\n\n\tuseLayoutEffect(() => {\n\t\t_instance._value = value;\n\t\t_instance._getSnapshot = getSnapshot;\n\n\t\tif (!is(_instance._value, getSnapshot())) {\n\t\t\tforceUpdate({ _instance });\n\t\t}\n\t}, [subscribe, value, getSnapshot]);\n\n\tuseEffect(() => {\n\t\tif (!is(_instance._value, _instance._getSnapshot())) {\n\t\t\tforceUpdate({ _instance });\n\t\t}\n\n\t\treturn subscribe(() => {\n\t\t\tif (!is(_instance._value, _instance._getSnapshot())) {\n\t\t\t\tforceUpdate({ _instance });\n\t\t\t}\n\t\t});\n\t}, [subscribe]);\n\n\treturn value;\n}\n\nexport * from 'preact/hooks';\nexport {\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\t// eslint-disable-next-line camelcase\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n\n// React copies the named exports to the default one.\nexport default {\n\tuseState,\n\tuseId,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseInsertionEffect,\n\tuseTransition,\n\tuseDeferredValue,\n\tuseSyncExternalStore,\n\tstartTransition,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue,\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n","import range from 'just-range';\n\nconst SORTED_PITCHES = ['C', 'Db', 'D', 'Eb', 'E', 'F', 'Gb', 'G', 'Ab', 'A', 'Bb', 'B'];\nconst ACCIDENTAL_PITCHES = ['Db', 'Eb', 'Gb', 'Ab', 'Bb'];\nconst PITCH_INDEXES = {\n  C: 0,\n  'C#': 1,\n  Db: 1,\n  D: 2,\n  'D#': 3,\n  Eb: 3,\n  E: 4,\n  F: 5,\n  'F#': 6,\n  Gb: 6,\n  G: 7,\n  'G#': 8,\n  Ab: 8,\n  A: 9,\n  'A#': 10,\n  Bb: 10,\n  B: 11,\n};\nconst MIDI_NUMBER_C0 = 12;\nconst MIN_MIDI_NUMBER = MIDI_NUMBER_C0;\nconst MAX_MIDI_NUMBER = 127;\nconst NOTE_REGEX = /([a-g])([#b]?)(\\d+)/;\nconst NOTES_IN_OCTAVE = 12;\n\n// Converts string notes in scientific pitch notation to a MIDI number, or null.\n//\n// Example: \"c#0\" => 13, \"eb5\" => 75, \"abc\" => null\n//\n// References:\n// - http://www.flutopedia.com/octave_notation.htm\n// - https://github.com/danigb/tonal/blob/master/packages/note/index.js\nfunction fromNote(note) {\n  if (!note) {\n    throw Error('Invalid note argument');\n  }\n  const match = NOTE_REGEX.exec(note.toLowerCase());\n  if (!match) {\n    throw Error('Invalid note argument');\n  }\n  const [, letter, accidental, octave] = match;\n  const pitchName = `${letter.toUpperCase()}${accidental}`;\n  const pitchIndex = PITCH_INDEXES[pitchName];\n  if (pitchIndex == null) {\n    throw Error('Invalid note argument');\n  }\n  return MIDI_NUMBER_C0 + pitchIndex + NOTES_IN_OCTAVE * parseInt(octave, 10);\n}\n\n//\n// Build cache for getAttributes\n//\nfunction buildMidiNumberAttributes(midiNumber) {\n  const pitchIndex = (midiNumber - MIDI_NUMBER_C0) % NOTES_IN_OCTAVE;\n  const octave = Math.floor((midiNumber - MIDI_NUMBER_C0) / NOTES_IN_OCTAVE);\n  const pitchName = SORTED_PITCHES[pitchIndex];\n  return {\n    note: `${pitchName}${octave}`,\n    pitchName,\n    octave,\n    midiNumber,\n    isAccidental: ACCIDENTAL_PITCHES.includes(pitchName),\n  };\n}\n\nfunction buildMidiNumberAttributesCache() {\n  return range(MIN_MIDI_NUMBER, MAX_MIDI_NUMBER + 1).reduce((cache, midiNumber) => {\n    cache[midiNumber] = buildMidiNumberAttributes(midiNumber);\n    return cache;\n  }, {});\n}\n\nconst midiNumberAttributesCache = buildMidiNumberAttributesCache();\n\n// Returns an object containing various attributes for a given MIDI number.\n// Throws error for invalid midiNumbers.\nfunction getAttributes(midiNumber) {\n  const attrs = midiNumberAttributesCache[midiNumber];\n  if (!attrs) {\n    throw Error('Invalid MIDI number');\n  }\n  return attrs;\n}\n\n// Returns all MIDI numbers corresponding to natural notes, e.g. C and not C# or Bb.\nconst NATURAL_MIDI_NUMBERS = range(MIN_MIDI_NUMBER, MAX_MIDI_NUMBER + 1).filter(\n  (midiNumber) => !getAttributes(midiNumber).isAccidental,\n);\n\nexport default {\n  fromNote,\n  getAttributes,\n  MIN_MIDI_NUMBER,\n  MAX_MIDI_NUMBER,\n  NATURAL_MIDI_NUMBERS,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport MidiNumbers from './MidiNumbers';\n\nclass Key extends React.Component {\n  static propTypes = {\n    midiNumber: PropTypes.number.isRequired,\n    naturalKeyWidth: PropTypes.number.isRequired, // Width as a ratio between 0 and 1\n    gliss: PropTypes.bool.isRequired,\n    useTouchEvents: PropTypes.bool.isRequired,\n    accidental: PropTypes.bool.isRequired,\n    active: PropTypes.bool.isRequired,\n    disabled: PropTypes.bool.isRequired,\n    onPlayNoteInput: PropTypes.func.isRequired,\n    onStopNoteInput: PropTypes.func.isRequired,\n    accidentalWidthRatio: PropTypes.number.isRequired,\n    pitchPositions: PropTypes.object.isRequired,\n    children: PropTypes.node,\n  };\n\n  static defaultProps = {\n    accidentalWidthRatio: 0.65,\n    pitchPositions: {\n      C: 0,\n      Db: 0.55,\n      D: 1,\n      Eb: 1.8,\n      E: 2,\n      F: 3,\n      Gb: 3.5,\n      G: 4,\n      Ab: 4.7,\n      A: 5,\n      Bb: 5.85,\n      B: 6,\n    },\n  };\n\n  onPlayNoteInput = () => {\n    this.props.onPlayNoteInput(this.props.midiNumber);\n  };\n\n  onStopNoteInput = () => {\n    this.props.onStopNoteInput(this.props.midiNumber);\n  };\n\n  // Key position is represented by the number of natural key widths from the left\n  getAbsoluteKeyPosition(midiNumber) {\n    const OCTAVE_WIDTH = 7;\n    const { octave, pitchName } = MidiNumbers.getAttributes(midiNumber);\n    const pitchPosition = this.props.pitchPositions[pitchName];\n    const octavePosition = OCTAVE_WIDTH * octave;\n    return pitchPosition + octavePosition;\n  }\n\n  getRelativeKeyPosition(midiNumber) {\n    return (\n      this.getAbsoluteKeyPosition(midiNumber) -\n      this.getAbsoluteKeyPosition(this.props.noteRange.first)\n    );\n  }\n\n  render() {\n    const {\n      naturalKeyWidth,\n      accidentalWidthRatio,\n      midiNumber,\n      gliss,\n      useTouchEvents,\n      accidental,\n      active,\n      disabled,\n      children,\n    } = this.props;\n\n    // Need to conditionally include/exclude handlers based on useTouchEvents,\n    // because otherwise mobile taps double fire events.\n    return (\n      <div\n        className={classNames('ReactPiano__Key', {\n          'ReactPiano__Key--accidental': accidental,\n          'ReactPiano__Key--natural': !accidental,\n          'ReactPiano__Key--disabled': disabled,\n          'ReactPiano__Key--active': active,\n        })}\n        style={{\n          left: ratioToPercentage(this.getRelativeKeyPosition(midiNumber) * naturalKeyWidth),\n          width: ratioToPercentage(\n            accidental ? accidentalWidthRatio * naturalKeyWidth : naturalKeyWidth,\n          ),\n        }}\n        onMouseDown={useTouchEvents ? null : this.onPlayNoteInput}\n        onMouseUp={useTouchEvents ? null : this.onStopNoteInput}\n        onMouseEnter={gliss ? this.onPlayNoteInput : null}\n        onMouseLeave={this.onStopNoteInput}\n        onTouchStart={useTouchEvents ? this.onPlayNoteInput : null}\n        onTouchCancel={useTouchEvents ? this.onStopNoteInput : null}\n        onTouchEnd={useTouchEvents ? this.onStopNoteInput : null}\n      >\n        <div className=\"ReactPiano__NoteLabelContainer\">{children}</div>\n      </div>\n    );\n  }\n}\n\nfunction ratioToPercentage(ratio) {\n  return `${ratio * 100}%`;\n}\n\nexport default Key;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport range from 'just-range';\nimport classNames from 'classnames';\n\nimport Key from './Key';\nimport MidiNumbers from './MidiNumbers';\n\nclass Keyboard extends React.Component {\n  static propTypes = {\n    noteRange: noteRangePropType,\n    activeNotes: PropTypes.arrayOf(PropTypes.number),\n    onPlayNoteInput: PropTypes.func.isRequired,\n    onStopNoteInput: PropTypes.func.isRequired,\n    renderNoteLabel: PropTypes.func.isRequired,\n    keyWidthToHeight: PropTypes.number.isRequired,\n    className: PropTypes.string,\n    disabled: PropTypes.bool,\n    gliss: PropTypes.bool,\n    useTouchEvents: PropTypes.bool,\n    // If width is not provided, must have fixed width and height in parent container\n    width: PropTypes.number,\n  };\n\n  static defaultProps = {\n    disabled: false,\n    gliss: false,\n    useTouchEvents: false,\n    keyWidthToHeight: 0.33,\n    renderNoteLabel: () => {},\n  };\n\n  // Range of midi numbers on keyboard\n  getMidiNumbers() {\n    return range(this.props.noteRange.first, this.props.noteRange.last + 1);\n  }\n\n  getNaturalKeyCount() {\n    return this.getMidiNumbers().filter((number) => {\n      const { isAccidental } = MidiNumbers.getAttributes(number);\n      return !isAccidental;\n    }).length;\n  }\n\n  // Returns a ratio between 0 and 1\n  getNaturalKeyWidth() {\n    return 1 / this.getNaturalKeyCount();\n  }\n\n  getWidth() {\n    return this.props.width ? this.props.width : '100%';\n  }\n\n  getHeight() {\n    if (!this.props.width) {\n      return '100%';\n    }\n    const keyWidth = this.props.width * this.getNaturalKeyWidth();\n    return `${keyWidth / this.props.keyWidthToHeight}px`;\n  }\n\n  render() {\n    const naturalKeyWidth = this.getNaturalKeyWidth();\n    return (\n      <div\n        className={classNames('ReactPiano__Keyboard', this.props.className)}\n        style={{ width: this.getWidth(), height: this.getHeight() }}\n      >\n        {this.getMidiNumbers().map((midiNumber) => {\n          const { note, isAccidental } = MidiNumbers.getAttributes(midiNumber);\n          const isActive = !this.props.disabled && this.props.activeNotes.includes(midiNumber);\n          return (\n            <Key\n              naturalKeyWidth={naturalKeyWidth}\n              midiNumber={midiNumber}\n              noteRange={this.props.noteRange}\n              active={isActive}\n              accidental={isAccidental}\n              disabled={this.props.disabled}\n              onPlayNoteInput={this.props.onPlayNoteInput}\n              onStopNoteInput={this.props.onStopNoteInput}\n              gliss={this.props.gliss}\n              useTouchEvents={this.props.useTouchEvents}\n              key={midiNumber}\n            >\n              {this.props.disabled\n                ? null\n                : this.props.renderNoteLabel({\n                    isActive,\n                    isAccidental,\n                    midiNumber,\n                  })}\n            </Key>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nfunction isNaturalMidiNumber(value) {\n  if (typeof value !== 'number') {\n    return false;\n  }\n  return MidiNumbers.NATURAL_MIDI_NUMBERS.includes(value);\n}\n\nfunction noteRangePropType(props, propName, componentName) {\n  const { first, last } = props[propName];\n  if (!first || !last) {\n    return new Error(\n      `Invalid prop ${propName} supplied to ${componentName}. ${propName} must be an object with .first and .last values.`,\n    );\n  }\n  if (!isNaturalMidiNumber(first) || !isNaturalMidiNumber(last)) {\n    return new Error(\n      `Invalid prop ${propName} supplied to ${componentName}. ${propName} values must be valid MIDI numbers, and should not be accidentals (sharp or flat notes).`,\n    );\n  }\n  if (first >= last) {\n    return new Error(\n      `Invalid prop ${propName} supplied to ${componentName}. ${propName}.first must be smaller than ${propName}.last.`,\n    );\n  }\n}\n\nexport default Keyboard;\n","import { options } from 'preact';\nimport { assign } from './util';\n\nlet oldDiffHook = options._diff;\noptions._diff = vnode => {\n\tif (vnode.type && vnode.type._forwarded && vnode.ref) {\n\t\tvnode.props.ref = vnode.ref;\n\t\tvnode.ref = null;\n\t}\n\tif (oldDiffHook) oldDiffHook(vnode);\n};\n\nexport const REACT_FORWARD_SYMBOL =\n\t(typeof Symbol != 'undefined' &&\n\t\tSymbol.for &&\n\t\tSymbol.for('react.forward_ref')) ||\n\t0xf47;\n\n/**\n * Pass ref down to a child. This is mainly used in libraries with HOCs that\n * wrap components. Using `forwardRef` there is an easy way to get a reference\n * of the wrapped component instead of one of the wrapper itself.\n * @param {import('./index').ForwardFn} fn\n * @returns {import('./internal').FunctionComponent}\n */\nexport function forwardRef(fn) {\n\tfunction Forwarded(props) {\n\t\tlet clone = assign({}, props);\n\t\tdelete clone.ref;\n\t\treturn fn(clone, props.ref || null);\n\t}\n\n\t// mobx-react checks for this being present\n\tForwarded.$$typeof = REACT_FORWARD_SYMBOL;\n\t// mobx-react heavily relies on implementation details.\n\t// It expects an object here with a `render` property,\n\t// and prototype.render will fail. Without this\n\t// mobx-react throws.\n\tForwarded.render = Forwarded;\n\n\tForwarded.prototype.isReactComponent = Forwarded._forwarded = true;\n\tForwarded.displayName = 'ForwardRef(' + (fn.displayName || fn.name) + ')';\n\treturn Forwarded;\n}\n","import { toChildArray } from 'preact';\n\nconst mapFn = (children, fn) => {\n\tif (children == null) return null;\n\treturn toChildArray(toChildArray(children).map(fn));\n};\n\n// This API is completely unnecessary for Preact, so it's basically passthrough.\nexport const Children = {\n\tmap: mapFn,\n\tforEach: mapFn,\n\tcount(children) {\n\t\treturn children ? toChildArray(children).length : 0;\n\t},\n\tonly(children) {\n\t\tconst normalized = toChildArray(children);\n\t\tif (normalized.length !== 1) throw 'Children.only';\n\t\treturn normalized[0];\n\t},\n\ttoArray: toChildArray\n};\n","import { createElement } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Memoize a component, so that it only updates when the props actually have\n * changed. This was previously known as `React.pure`.\n * @param {import('./internal').FunctionComponent} c functional component\n * @param {(prev: object, next: object) => boolean} [comparer] Custom equality function\n * @returns {import('./internal').FunctionComponent}\n */\nexport function memo(c, comparer) {\n\tfunction shouldUpdate(nextProps) {\n\t\tlet ref = this.props.ref;\n\t\tlet updateRef = ref == nextProps.ref;\n\t\tif (!updateRef && ref) {\n\t\t\tref.call ? ref(null) : (ref.current = null);\n\t\t}\n\n\t\tif (!comparer) {\n\t\t\treturn shallowDiffers(this.props, nextProps);\n\t\t}\n\n\t\treturn !comparer(this.props, nextProps) || !updateRef;\n\t}\n\n\tfunction Memoed(props) {\n\t\tthis.shouldComponentUpdate = shouldUpdate;\n\t\treturn createElement(c, props);\n\t}\n\tMemoed.displayName = 'Memo(' + (c.displayName || c.name) + ')';\n\tMemoed.prototype.isReactComponent = true;\n\tMemoed._forwarded = true;\n\treturn Memoed;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport difference from 'lodash.difference';\nimport Keyboard from './Keyboard';\n\nclass ControlledPiano extends React.Component {\n  static propTypes = {\n    noteRange: PropTypes.object.isRequired,\n    activeNotes: PropTypes.arrayOf(PropTypes.number.isRequired).isRequired,\n    playNote: PropTypes.func.isRequired,\n    stopNote: PropTypes.func.isRequired,\n    onPlayNoteInput: PropTypes.func.isRequired,\n    onStopNoteInput: PropTypes.func.isRequired,\n    renderNoteLabel: PropTypes.func.isRequired,\n    className: PropTypes.string,\n    disabled: PropTypes.bool,\n    width: PropTypes.number,\n    keyWidthToHeight: PropTypes.number,\n    keyboardShortcuts: PropTypes.arrayOf(\n      PropTypes.shape({\n        key: PropTypes.string.isRequired,\n        midiNumber: PropTypes.number.isRequired,\n      }),\n    ),\n  };\n\n  static defaultProps = {\n    renderNoteLabel: ({ keyboardShortcut, midiNumber, isActive, isAccidental }) =>\n      keyboardShortcut ? (\n        <div\n          className={classNames('ReactPiano__NoteLabel', {\n            'ReactPiano__NoteLabel--active': isActive,\n            'ReactPiano__NoteLabel--accidental': isAccidental,\n            'ReactPiano__NoteLabel--natural': !isAccidental,\n          })}\n        >\n          {keyboardShortcut}\n        </div>\n      ) : null,\n  };\n\n  state = {\n    isMouseDown: false,\n    useTouchEvents: false,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.onKeyDown);\n    window.addEventListener('keyup', this.onKeyUp);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.onKeyDown);\n    window.removeEventListener('keyup', this.onKeyUp);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.activeNotes !== prevProps.activeNotes) {\n      this.handleNoteChanges({\n        prevActiveNotes: prevProps.activeNotes || [],\n        nextActiveNotes: this.props.activeNotes || [],\n      });\n    }\n  }\n\n  // This function is responsible for diff'ing activeNotes\n  // and playing or stopping notes accordingly.\n  handleNoteChanges = ({ prevActiveNotes, nextActiveNotes }) => {\n    if (this.props.disabled) {\n      return;\n    }\n    const notesStopped = difference(prevActiveNotes, nextActiveNotes);\n    const notesStarted = difference(nextActiveNotes, prevActiveNotes);\n    notesStarted.forEach((midiNumber) => {\n      this.props.playNote(midiNumber);\n    });\n    notesStopped.forEach((midiNumber) => {\n      this.props.stopNote(midiNumber);\n    });\n  };\n\n  getMidiNumberForKey = (key) => {\n    if (!this.props.keyboardShortcuts) {\n      return null;\n    }\n    const shortcut = this.props.keyboardShortcuts.find((sh) => sh.key === key);\n    return shortcut && shortcut.midiNumber;\n  };\n\n  getKeyForMidiNumber = (midiNumber) => {\n    if (!this.props.keyboardShortcuts) {\n      return null;\n    }\n    const shortcut = this.props.keyboardShortcuts.find((sh) => sh.midiNumber === midiNumber);\n    return shortcut && shortcut.key;\n  };\n\n  onKeyDown = (event) => {\n    // Don't conflict with existing combinations like ctrl + t\n    if (event.ctrlKey || event.metaKey || event.shiftKey) {\n      return;\n    }\n    const midiNumber = this.getMidiNumberForKey(event.key);\n    if (midiNumber) {\n      this.onPlayNoteInput(midiNumber);\n    }\n  };\n\n  onKeyUp = (event) => {\n    // This *should* also check for event.ctrlKey || event.metaKey || event.ShiftKey like onKeyDown does,\n    // but at least on Mac Chrome, when mashing down many alphanumeric keystrokes at once,\n    // ctrlKey is fired unexpectedly, which would cause onStopNote to NOT be fired, which causes problematic\n    // lingering notes. Since it's fairly safe to call onStopNote even when not necessary,\n    // the ctrl/meta/shift check is removed to fix that issue.\n    const midiNumber = this.getMidiNumberForKey(event.key);\n    if (midiNumber) {\n      this.onStopNoteInput(midiNumber);\n    }\n  };\n\n  onPlayNoteInput = (midiNumber) => {\n    if (this.props.disabled) {\n      return;\n    }\n    // Pass in previous activeNotes for recording functionality\n    this.props.onPlayNoteInput(midiNumber, this.props.activeNotes);\n  };\n\n  onStopNoteInput = (midiNumber) => {\n    if (this.props.disabled) {\n      return;\n    }\n    // Pass in previous activeNotes for recording functionality\n    this.props.onStopNoteInput(midiNumber, this.props.activeNotes);\n  };\n\n  onMouseDown = () => {\n    this.setState({\n      isMouseDown: true,\n    });\n  };\n\n  onMouseUp = () => {\n    this.setState({\n      isMouseDown: false,\n    });\n  };\n\n  onTouchStart = () => {\n    this.setState({\n      useTouchEvents: true,\n    });\n  };\n\n  renderNoteLabel = ({ midiNumber, isActive, isAccidental }) => {\n    const keyboardShortcut = this.getKeyForMidiNumber(midiNumber);\n    return this.props.renderNoteLabel({ keyboardShortcut, midiNumber, isActive, isAccidental });\n  };\n\n  render() {\n    return (\n      <div\n        style={{ width: '100%', height: '100%' }}\n        onMouseDown={this.onMouseDown}\n        onMouseUp={this.onMouseUp}\n        onTouchStart={this.onTouchStart}\n        data-testid=\"container\"\n      >\n        <Keyboard\n          noteRange={this.props.noteRange}\n          onPlayNoteInput={this.onPlayNoteInput}\n          onStopNoteInput={this.onStopNoteInput}\n          activeNotes={this.props.activeNotes}\n          className={this.props.className}\n          disabled={this.props.disabled}\n          width={this.props.width}\n          keyWidthToHeight={this.props.keyWidthToHeight}\n          gliss={this.state.isMouseDown}\n          useTouchEvents={this.state.useTouchEvents}\n          renderNoteLabel={this.renderNoteLabel}\n        />\n      </div>\n    );\n  }\n}\n\nexport default ControlledPiano;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport difference from 'lodash.difference';\nimport ControlledPiano from './ControlledPiano';\nimport Keyboard from './Keyboard';\n\nclass Piano extends React.Component {\n  static propTypes = {\n    noteRange: PropTypes.object.isRequired,\n    activeNotes: PropTypes.arrayOf(PropTypes.number.isRequired),\n    playNote: PropTypes.func.isRequired,\n    stopNote: PropTypes.func.isRequired,\n    onPlayNoteInput: PropTypes.func,\n    onStopNoteInput: PropTypes.func,\n    renderNoteLabel: PropTypes.func,\n    className: PropTypes.string,\n    disabled: PropTypes.bool,\n    width: PropTypes.number,\n    keyWidthToHeight: PropTypes.number,\n    keyboardShortcuts: PropTypes.arrayOf(\n      PropTypes.shape({\n        key: PropTypes.string.isRequired,\n        midiNumber: PropTypes.number.isRequired,\n      }),\n    ),\n  };\n\n  state = {\n    activeNotes: this.props.activeNotes || [],\n  };\n\n  componentDidUpdate(prevProps) {\n    // Make activeNotes \"controllable\" by using internal\n    // state by default, but allowing prop overrides.\n    if (\n      prevProps.activeNotes !== this.props.activeNotes &&\n      this.state.activeNotes !== this.props.activeNotes\n    ) {\n      this.setState({\n        activeNotes: this.props.activeNotes || [],\n      });\n    }\n  }\n\n  handlePlayNoteInput = (midiNumber) => {\n    this.setState((prevState) => {\n      // Need to be handled inside setState in order to set prevActiveNotes without\n      // race conditions.\n      if (this.props.onPlayNoteInput) {\n        this.props.onPlayNoteInput(midiNumber, { prevActiveNotes: prevState.activeNotes });\n      }\n\n      // Don't append note to activeNotes if it's already present\n      if (prevState.activeNotes.includes(midiNumber)) {\n        return null;\n      }\n      return {\n        activeNotes: prevState.activeNotes.concat(midiNumber),\n      };\n    });\n  };\n\n  handleStopNoteInput = (midiNumber) => {\n    this.setState((prevState) => {\n      // Need to be handled inside setState in order to set prevActiveNotes without\n      // race conditions.\n      if (this.props.onStopNoteInput) {\n        this.props.onStopNoteInput(midiNumber, { prevActiveNotes: this.state.activeNotes });\n      }\n      return {\n        activeNotes: prevState.activeNotes.filter((note) => midiNumber !== note),\n      };\n    });\n  };\n\n  render() {\n    const { activeNotes, onPlayNoteInput, onStopNoteInput, ...otherProps } = this.props;\n    return (\n      <ControlledPiano\n        activeNotes={this.state.activeNotes}\n        onPlayNoteInput={this.handlePlayNoteInput}\n        onStopNoteInput={this.handleStopNoteInput}\n        {...otherProps}\n      />\n    );\n  }\n}\n\nexport default Piano;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","import style from './style.css';\nimport SynthClient from '../../components/clients/synth';\n\nconst Synth = () => {\n  return (\n    <div class={style.home}>\n      <SynthClient />\n    </div>\n  );\n};\n\nexport default Synth;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array ? array.length : 0;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\n/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  if (value !== value) {\n    return baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a cache value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values ? values.length : 0;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order of result values is determined by the\n * order they occur in the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\nmodule.exports = difference;\n","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\tvar nativeCodeString = '[native code]';\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","module.exports = range;\n\n/*\n  range(0, 5); // [0, 1, 2, 3, 4]\n  range(5); // [0, 1, 2, 3, 4]\n  range(-5); // [0, -1, -2, -3, -4]\n  range(0, 20, 5) // [0, 5, 10, 15]\n  range(0, -20, -5) // [0, -5, -10, -15]\n*/\n\nfunction range(start, stop, step) {\n  if (start != null && typeof start != 'number') {\n    throw new Error('start must be a number or null');\n  }\n  if (stop != null && typeof stop != 'number') {\n    throw new Error('stop must be a number or null');\n  }\n  if (step != null && typeof step != 'number') {\n    throw new Error('step must be a number or null');\n  }\n  if (stop == null) {\n    stop = start || 0;\n    start = 0;\n  }\n  if (step == null) {\n    step = stop > start ? 1 : -1;\n  }\n  var toReturn = [];\n  var increasing = start < stop; //← here’s the change\n  for (; increasing ? start < stop : start > stop; start += step) {\n    toReturn.push(start);\n  }\n  return toReturn;\n}\n","import { useCallback, useMemo, useState } from 'preact/hooks';\n\nconst WsMonitor = ({ websocket }) => {\n  const {\n    ws,\n    wsUrl,\n    setWsUrl,\n    history,\n    myChannels,\n    availableChannels,\n    id,\n    wsState,\n    joinChannel,\n    getChannels,\n    heartbeat,\n    broadcastMessage,\n    sendMessageToTargetClient,\n    sendMessageToTargetChannel,\n    sendMessageToJoinedChannels,\n  } = websocket;\n\n  const [message, setMessage] = useState('');\n  const [targetChannel, setTargetChannel] = useState('');\n  const [targetId, setTargetId] = useState('');\n\n  const messageIsValidJSON = useMemo(() => {\n    try {\n      JSON.parse(message);\n    } catch (e) {\n      return false;\n    }\n    return true;\n  }, [message]);\n\n  const handleWsUrlChange = useCallback(\n    (e) => {\n      e.preventDefault();\n      setWsUrl(e.target.wsUrl.value);\n    },\n    [setWsUrl]\n  );\n\n  return (\n    <div className='flex flex-col gap-4'>\n      <div className='flex gap-8'>\n        {ws && wsUrl && (\n          <div>\n            {wsState} on: {wsUrl}\n          </div>\n        )}\n        <form onSubmit={handleWsUrlChange}>\n          <input type='text' name='wsUrl' placeholder={wsUrl} />\n          <button type='submit'>go</button>\n        </form>\n      </div>\n\n      {ws && (\n        <>\n          <div>\n            {id && <div>id: {id}</div>}\n            {heartbeat && <div>heartbeat: {JSON.stringify(heartbeat)}</div>}\n          </div>\n\n          <div>\n            <div className='flex flex-row gap-8'>\n              <button onClick={getChannels}>get channels</button>\n              <form onSubmit={joinChannel}>\n                <input type='text' name='channel' />\n                <button type='submit' className='ml-2'>\n                  join channel\n                </button>\n              </form>\n            </div>\n            <ul>\n              my channels:\n              {myChannels.map(({ channel, members }) => (\n                <li key={channel} className={'ml-2'}>\n                  {channel} | {members.length} members: {members.join(', ')}\n                </li>\n              ))}\n            </ul>\n            <ul>\n              all channels:\n              {availableChannels.map(({ channel, members }) => (\n                <li key={channel} className={'ml-2'}>\n                  {channel}{' '}\n                  {members.length\n                    ? `| ${members.length} members: ${members.join(', ')}`\n                    : '(no members)'}\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          <div>\n            <div className='flex flex-col gap-1'>\n              <div>\n                <label htmlFor='message'>message</label>\n                <textarea\n                  cols={100}\n                  rows={1}\n                  name='message'\n                  placeholder={`{\"hello\": 1}`}\n                  value={message}\n                  onInput={(e) => setMessage(e.target.value)}\n                />\n              </div>\n              <div>\n                <label htmlFor='targetChannel'>target channel</label>\n                <input\n                  name='targetChannel'\n                  type='text'\n                  value={targetChannel}\n                  onInput={(e) => setTargetChannel(e.target.value)}\n                />\n              </div>\n              <div>\n                <label htmlFor='targetChannel'>target client</label>\n                <input\n                  name='targetId'\n                  type='text'\n                  value={targetId}\n                  onInput={(e) => setTargetId(e.target.value)}\n                />\n              </div>\n              <div>\n                <button\n                  disabled={!messageIsValidJSON}\n                  onClick={() => sendMessageToTargetClient(message, targetId)}>\n                  send to another client\n                </button>\n                <button\n                  disabled={!messageIsValidJSON}\n                  onClick={() =>\n                    sendMessageToTargetChannel(message, targetChannel)\n                  }>\n                  send to channel\n                </button>\n                <button\n                  disabled={!messageIsValidJSON}\n                  onClick={() => sendMessageToJoinedChannels(message)}>\n                  send to joined channel\n                </button>\n                <button\n                  disabled={!messageIsValidJSON}\n                  onClick={() => broadcastMessage(message)}>\n                  broadcast\n                </button>\n              </div>\n            </div>\n            {!messageIsValidJSON && message.length ? (\n              <div>Invalid JSON</div>\n            ) : (\n              <></>\n            )}\n          </div>\n\n          <div>incoming messages:</div>\n          <div style={{ overflow: 'scroll', height: '200px' }}>\n            {history.map((data) => (\n              <div key={data}>{JSON.stringify(data)}</div>\n            ))}\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default WsMonitor;\n","import { useCallback, useState, useEffect, useMemo } from 'preact/hooks';\n\nconst useWs = () => {\n  const [ws, setWs] = useState(null);\n  const [wsUrl, setWsUrl] = useState('');\n  const [history, setHistory] = useState([]);\n  const [heartbeat, setHeartbeat] = useState(null);\n  const [myChannels, setMyChannels] = useState([]);\n  const [availableChannels, setAvailableChannels] = useState([]);\n  const [id, setId] = useState(null);\n  const [incomingMessage, setIncomingMessage] = useState('');\n\n  const onMessage = useCallback(async (event) => {\n    const data = await JSON.parse(event.data);\n    switch (data.type) {\n      case 'id':\n        setId(data.id);\n        break;\n      case 'heartbeat':\n        setHeartbeat(data.heartbeat);\n        break;\n      case 'myChannels':\n        setMyChannels(data.channels);\n        break;\n      case 'availableChannels':\n        setAvailableChannels(data.channels);\n        break;\n      default:\n        setHistory((p) => [data, ...p]);\n        break;\n    }\n\n    setIncomingMessage(data);\n  }, []);\n\n  useEffect(() => {\n    if (!window) return;\n\n    const protocol = window.location.protocol.includes('https') ? 'wss' : 'ws';\n    const port = window.location.protocol.includes('https') ? '' : ':3000';\n    let url = `${protocol}://${location.hostname}${port}?channels=welcome`;\n\n    setWsUrl(url);\n  }, []);\n\n  useEffect(() => {\n    if (!wsUrl.length || typeof window === 'undefined') return;\n\n    console.log('attempting to connect to', wsUrl);\n\n    if (ws) ws.close();\n\n    const wsConnection = new WebSocket(wsUrl);\n    wsConnection.onmessage = onMessage;\n    wsConnection.onopen = () => {\n      console.log('hey were open');\n    };\n\n    setWs(wsConnection);\n  }, [onMessage, wsUrl]);\n\n  const getChannels = useCallback(() => {\n    ws?.send(JSON.stringify({ type: 'myChannels' }));\n    ws?.send(JSON.stringify({ type: 'availableChannels' }));\n  }, [ws]);\n\n  const wsState = useMemo(() => {\n    if (typeof window === 'undefined') return;\n\n    switch (ws?.readyState) {\n      case WebSocket.CONNECTING:\n        return 'connecting';\n      case WebSocket.OPEN:\n        return 'open';\n      case WebSocket.CLOSING:\n        return 'closing';\n      case WebSocket.CLOSED:\n        return 'closed';\n      default:\n        return 'uninitialized';\n    }\n  }, [ws?.readyState]);\n\n  useEffect(() => {\n    if (wsState === 'open') getChannels();\n  }, [getChannels, ws, wsState]);\n\n  const joinChannel = useCallback(\n    (e) => {\n      e.preventDefault();\n      ws?.send(\n        JSON.stringify({ type: 'joinChannel', channel: e.target.channel.value })\n      );\n    },\n    [ws]\n  );\n\n  const broadcastMessage = useCallback(\n    (message) =>\n      wsState === 'open' &&\n      ws?.send(\n        JSON.stringify({\n          type: 'broadcast',\n          message: { ...JSON.parse(message), timestamp: Date.now() },\n        })\n      ),\n    [ws, wsState]\n  );\n\n  const sendMessageToTargetChannel = useCallback(\n    (message, channel) => {\n      wsState === 'open' &&\n        ws?.send(\n          JSON.stringify({\n            ...JSON.parse(message),\n            timestamp: Date.now(),\n            channel,\n          })\n        );\n    },\n    [ws, wsState]\n  );\n\n  const sendMessageToTargetClient = useCallback(\n    (message, targetId) => {\n      console.log('sending to target id', message, targetId);\n      wsState === 'open' &&\n        ws?.send(\n          JSON.stringify({\n            ...JSON.parse(message),\n            timestamp: Date.now(),\n            targetId,\n          })\n        );\n    },\n    [ws, wsState]\n  );\n\n  const sendMessageToJoinedChannels = useCallback(\n    (message) => {\n      wsState === 'open' &&\n        ws?.send(\n          JSON.stringify({ ...JSON.parse(message), timestamp: Date.now() })\n        );\n    },\n    [ws, wsState]\n  );\n\n  return {\n    ws,\n    wsUrl,\n    setWsUrl,\n    history,\n    myChannels,\n    availableChannels,\n    id,\n    incomingMessage,\n    wsState,\n    joinChannel,\n    getChannels,\n    heartbeat,\n    broadcastMessage,\n    sendMessageToTargetClient,\n    sendMessageToTargetChannel,\n    sendMessageToJoinedChannels,\n  };\n};\n\nexport default useWs;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","export default class PolySynth {\n  constructor() {\n    this.audioContext = new (window.AudioContext ||\n      window.webkitAudioContext)();\n    this.voices = [];\n  }\n\n  playNote(note, velocity = 127) {\n    try {\n      // Create a voice for the note\n      const voice = new Voice(this.audioContext, note, velocity);\n      this.voices.push(voice);\n\n      // Start the voice\n      voice.start();\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  stopNote(note) {\n    try {\n      // Find the voice playing the note\n      const voice = this.voices.find((voice) => voice.note === note);\n\n      if (voice) {\n        // Stop and remove the voice\n        voice.stop();\n        this.voices = this.voices.filter((v) => v !== voice);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }\n}\n\nclass Voice {\n  constructor(audioContext, note, velocity) {\n    this.audioContext = audioContext;\n    this.note = note;\n    this.velocity = velocity;\n\n    // Create an oscillator\n    this.oscillator = this.audioContext.createOscillator();\n    this.oscillator.frequency.value = getFrequency(note);\n\n    // Create a gain node\n    this.gainNode = this.audioContext.createGain();\n    this.gainNode.gain.value = velocity / 127;\n\n    // Connect the oscillator to the gain node and the gain node to the audio context destination\n    this.oscillator.connect(this.gainNode);\n    this.gainNode.connect(this.audioContext.destination);\n  }\n\n  start() {\n    // Start the oscillator\n    this.oscillator.start();\n  }\n\n  stop() {\n    // Stop the oscillator smoothly over 500ms\n    this.gainNode.gain.linearRampToValueAtTime(\n      0,\n      this.audioContext.currentTime + 0.5\n    );\n\n    // Stop the oscillator completely after 500ms\n    this.oscillator.stop(this.audioContext.currentTime + 0.5);\n  }\n}\n\nfunction getFrequency(note) {\n  return 440 * Math.pow(2, (note - 69) / 12);\n}\n","import { Piano, MidiNumbers } from 'react-piano';\nimport 'react-piano/dist/styles.css';\n\nexport default function MIDIPiano({ onPlayNote, onStopNote }) {\n  const firstNote = MidiNumbers.fromNote('c3');\n  const lastNote = MidiNumbers.fromNote('f5');\n  // const keyboardShortcuts = KeyboardShortcuts.create({\n  //   firstNote,\n  //   lastNote,\n  //   keyboardConfig: KeyboardShortcuts.HOME_ROW,\n  // });\n\n  return (\n    <Piano\n      noteRange={{ first: firstNote, last: lastNote }}\n      playNote={onPlayNote}\n      stopNote={onStopNote}\n      width={1000}\n      // keyboardShortcuts={keyboardShortcuts}\n    />\n  );\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","import { useCallback, useState, useEffect } from 'preact/hooks';\n\nimport PolySynth from '../../../utils/polysynth';\nimport MIDIPiano from './piano';\nimport useWs from '../../../hooks/useWs';\nimport Monitor from '../../wsMonitor';\n\nconst SynthClient = () => {\n  const ws = useWs();\n\n  const {\n    incomingMessage,\n    broadcastMessage,\n    myChannels,\n    sendMessageToTargetClient,\n  } = ws;\n\n  const [polySynth, setPolySynth] = useState(null);\n  const [muteIncoming, setMuteIncoming] = useState(false);\n  const [muteOutgoing, setMuteOutgoing] = useState(false);\n  const [broadcastNotes, setBroadcastNotes] = useState(true);\n\n  useEffect(() => {\n    if (!incomingMessage) return;\n    switch (incomingMessage.type) {\n      case 'playNote':\n        if (!muteIncoming) polySynth?.playNote(...incomingMessage.noteData);\n        break;\n      case 'stopNote':\n        polySynth?.stopNote(...incomingMessage.noteData);\n        break;\n    }\n  }, [polySynth, incomingMessage, muteIncoming]);\n\n  useEffect(() => {\n    if (!window) return;\n    setPolySynth(new PolySynth());\n  }, []);\n\n  const handlePlayNote = useCallback(\n    (note) => {\n      console.log('playing', note);\n      if (polySynth && !muteOutgoing) polySynth.playNote(note);\n      if (broadcastNotes)\n        broadcastMessage(\n          JSON.stringify({ type: 'playNote', noteData: [note] })\n        );\n    },\n    [broadcastMessage, broadcastNotes, muteOutgoing, polySynth]\n  );\n\n  const handleStopNote = useCallback(\n    (note) => {\n      console.log('stopping', note);\n      if (polySynth) polySynth.stopNote(note);\n      if (broadcastNotes)\n        broadcastMessage(\n          JSON.stringify({ type: 'stopNote', noteData: [note] })\n        );\n    },\n    [broadcastMessage, broadcastNotes, polySynth]\n  );\n\n  const [sequencerIntervalId, setSequencerIntervalId] = useState(null);\n\n  const handleSequenceChannel = useCallback(\n    (channelName) => {\n      if (!channelName.length) return;\n\n      if (sequencerIntervalId) clearInterval(sequencerIntervalId);\n      console.log('setting new interval id');\n\n      let sequenceTarget;\n\n      setSequencerIntervalId(\n        setInterval(() => {\n          const targetChannel = myChannels.find(\n            (c) => c.channel === channelName\n          );\n          if (!targetChannel) return;\n          console.log('targetChannel', targetChannel);\n\n          const members = targetChannel.members.filter((m) => m !== ws.id);\n          if (!members.length) return;\n          console.log('members', members);\n\n          const targetIndex = sequenceTarget\n            ? (members.findIndex((m) => m === sequenceTarget) + 1) %\n              members.length\n            : 0;\n\n          sequenceTarget = sequenceTarget ? members[targetIndex] : members[0];\n\n          console.log('sequencing', members, sequenceTarget, targetIndex);\n\n          sendMessageToTargetClient(\n            JSON.stringify({ type: 'playNote', noteData: [69 + targetIndex] }),\n            sequenceTarget\n          );\n\n          setTimeout(() => {\n            sendMessageToTargetClient(\n              JSON.stringify({\n                type: 'stopNote',\n                noteData: [69 + targetIndex],\n              }),\n              sequenceTarget\n            );\n          }, 100);\n        }, 1000)\n      );\n\n      return () => clearInterval(sequencerIntervalId);\n    },\n    [myChannels, sendMessageToTargetClient, sequencerIntervalId, ws.id]\n  );\n\n  return (\n    <div>\n      <Monitor websocket={ws} />\n\n      <div className='mb-2'>\n        <div>\n          <label htmlFor='mute'>mute incoming notes</label>\n          <input\n            name={'mute incoming'}\n            type='checkbox'\n            checked={muteIncoming}\n            onChange={() => setMuteIncoming((p) => !p)}\n          />\n        </div>\n        <div>\n          <label htmlFor='mute'>mute outgoing notes</label>\n          <input\n            name={'mute outgoing'}\n            type='checkbox'\n            checked={muteOutgoing}\n            onChange={() => setMuteOutgoing((p) => !p)}\n          />\n        </div>\n        <div>\n          <label htmlFor='broadcastNotes'>broadcast notes</label>\n          <input\n            name={'broadcastNotes'}\n            type='checkbox'\n            checked={broadcastNotes}\n            onChange={() => setBroadcastNotes(!broadcastNotes)}\n          />\n        </div>\n      </div>\n      <div className='flex flex-row gap-2 mb-2'>\n        <span>sequence to channel</span>\n        <select\n          className='px-1'\n          name='channel'\n          onChange={(e) => handleSequenceChannel(e.target.value)}>\n          <>\n            <option />\n            {myChannels.map((c) => (\n              <option key={c.channel}>{c.channel}</option>\n            ))}\n          </>\n        </select>\n      </div>\n      <MIDIPiano onPlayNote={handlePlayNote} onStopNote={handleStopNote} />\n    </div>\n  );\n};\n\nexport default SynthClient;\n","// extracted by mini-css-extract-plugin\nexport default {\"home\":\"home__Tk3DL\",\"resource\":\"resource__-GqBH\"};","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import { options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n\n/** @type {import('./internal').Component} */\nlet previousComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet EMPTY = [];\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\tif (previousComponent === currentComponent) {\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentComponent._renderCallbacks = [];\n\t\t\thooks._list.forEach(hookItem => {\n\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t}\n\t\t\t\thookItem._pendingValue = EMPTY;\n\t\t\t\thookItem._nextValue = hookItem._pendingArgs = undefined;\n\t\t\t});\n\t\t} else {\n\t\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentIndex = 0;\n\t\t}\n\t}\n\tpreviousComponent = currentComponent;\n};\n\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tif (c.__hooks._pendingEffects.length) afterPaint(afterPaintEffects.push(c));\n\t\tc.__hooks._list.forEach(hookItem => {\n\t\t\tif (hookItem._pendingArgs) {\n\t\t\t\thookItem._args = hookItem._pendingArgs;\n\t\t\t}\n\t\t\tif (hookItem._pendingValue !== EMPTY) {\n\t\t\t\thookItem._value = hookItem._pendingValue;\n\t\t\t}\n\t\t\thookItem._pendingArgs = undefined;\n\t\t\thookItem._pendingValue = EMPTY;\n\t\t});\n\t}\n\tpreviousComponent = currentComponent = null;\n};\n\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tlet hasErrored;\n\t\tc.__hooks._list.forEach(s => {\n\t\t\ttry {\n\t\t\t\tinvokeCleanup(s);\n\t\t\t} catch (e) {\n\t\t\t\thasErrored = e;\n\t\t\t}\n\t\t});\n\t\tc.__hooks = undefined;\n\t\tif (hasErrored) options._catchError(hasErrored, c._vnode);\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {any}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({ _pendingValue: EMPTY });\n\t}\n\treturn hooks._list[index];\n}\n\n/**\n * @param {import('./index').StateUpdater<any>} [initialState]\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @param {import('./index').Reducer<any, any>} reducer\n * @param {import('./index').StateUpdater<any>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ any, (state: any) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst currentValue = hookState._nextValue\n\t\t\t\t\t? hookState._nextValue[0]\n\t\t\t\t\t: hookState._value[0];\n\t\t\t\tconst nextValue = hookState._reducer(currentValue, action);\n\n\t\t\t\tif (currentValue !== nextValue) {\n\t\t\t\t\thookState._nextValue = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\n\t\tif (!currentComponent._hasScuFromHooks) {\n\t\t\tcurrentComponent._hasScuFromHooks = true;\n\t\t\tlet prevScu = currentComponent.shouldComponentUpdate;\n\t\t\tconst prevCWU = currentComponent.componentWillUpdate;\n\n\t\t\t// If we're dealing with a forced update `shouldComponentUpdate` will\n\t\t\t// not be called. But we use that to update the hook values, so we\n\t\t\t// need to call it.\n\t\t\tcurrentComponent.componentWillUpdate = function (p, s, c) {\n\t\t\t\tif (this._force) {\n\t\t\t\t\tlet tmp = prevScu;\n\t\t\t\t\t// Clear to avoid other sCU hooks from being called\n\t\t\t\t\tprevScu = undefined;\n\t\t\t\t\tupdateHookState(p, s, c);\n\t\t\t\t\tprevScu = tmp;\n\t\t\t\t}\n\n\t\t\t\tif (prevCWU) prevCWU.call(this, p, s, c);\n\t\t\t};\n\n\t\t\t// This SCU has the purpose of bailing out after repeated updates\n\t\t\t// to stateful hooks.\n\t\t\t// we store the next value in _nextValue[0] and keep doing that for all\n\t\t\t// state setters, if we have next states and\n\t\t\t// all next states within a component end up being equal to their original state\n\t\t\t// we are safe to bail out for this specific component.\n\t\t\t/**\n\t\t\t *\n\t\t\t * @type {import('./internal').Component[\"shouldComponentUpdate\"]}\n\t\t\t */\n\t\t\t// @ts-ignore - We don't use TS to downtranspile\n\t\t\t// eslint-disable-next-line no-inner-declarations\n\t\t\tfunction updateHookState(p, s, c) {\n\t\t\t\tif (!hookState._component.__hooks) return true;\n\n\t\t\t\tconst stateHooks = hookState._component.__hooks._list.filter(\n\t\t\t\t\tx => x._component\n\t\t\t\t);\n\t\t\t\tconst allHooksEmpty = stateHooks.every(x => !x._nextValue);\n\t\t\t\t// When we have no updated hooks in the component we invoke the previous SCU or\n\t\t\t\t// traverse the VDOM tree further.\n\t\t\t\tif (allHooksEmpty) {\n\t\t\t\t\treturn prevScu ? prevScu.call(this, p, s, c) : true;\n\t\t\t\t}\n\n\t\t\t\t// We check whether we have components with a nextValue set that\n\t\t\t\t// have values that aren't equal to one another this pushes\n\t\t\t\t// us to update further down the tree\n\t\t\t\tlet shouldUpdate = false;\n\t\t\t\tstateHooks.forEach(hookItem => {\n\t\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\t\tconst currentValue = hookItem._value[0];\n\t\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t\t\thookItem._nextValue = undefined;\n\t\t\t\t\t\tif (currentValue !== hookItem._value[0]) shouldUpdate = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn shouldUpdate || hookState._component.props !== p\n\t\t\t\t\t? prevScu\n\t\t\t\t\t\t? prevScu.call(this, p, s, c)\n\t\t\t\t\t\t: true\n\t\t\t\t\t: false;\n\t\t\t}\n\n\t\t\tcurrentComponent.shouldComponentUpdate = updateHookState;\n\t\t}\n\t}\n\n\treturn hookState._nextValue || hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {any[]} args\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') {\n\t\t\t\tref(createHandle());\n\t\t\t\treturn () => ref(null);\n\t\t\t} else if (ref) {\n\t\t\t\tref.current = createHandle();\n\t\t\t\treturn () => (ref.current = null);\n\t\t\t}\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @param {() => any} factory\n * @param {any[]} args\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._pendingValue = factory();\n\t\tstate._pendingArgs = args;\n\t\tstate._factory = factory;\n\t\treturn state._pendingValue;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {any[]} args\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\t/** @type {import('./internal').ContextHookState} */\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(formatter ? formatter(value) : value);\n\t}\n}\n\n/**\n * @param {(error: any, errorInfo: import('preact').ErrorInfo) => void} cb\n */\nexport function useErrorBoundary(cb) {\n\t/** @type {import('./internal').ErrorBoundaryHookState} */\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = (err, errorInfo) => {\n\t\t\tif (state._value) state._value(err, errorInfo);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\nexport function useId() {\n\tconst state = getHookState(currentIndex++, 11);\n\tif (!state._value) {\n\t\t// Grab either the root node or the nearest async boundary node.\n\t\t/** @type {import('./internal.d').VNode} */\n\t\tlet root = currentComponent._vnode;\n\t\twhile (root !== null && !root._mask && root._parent !== null) {\n\t\t\troot = root._parent;\n\t\t}\n\n\t\tlet mask = root._mask || (root._mask = [0, 0]);\n\t\tstate._value = 'P' + mask[0] + '-' + mask[1]++;\n\t}\n\n\treturn state._value;\n}\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tlet component;\n\twhile ((component = afterPaintEffects.shift())) {\n\t\tif (!component._parentDom || !component.__hooks) continue;\n\t\ttry {\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t} catch (e) {\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t}\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tlet cleanup = hook._cleanup;\n\tif (typeof cleanup == 'function') {\n\t\thook._cleanup = undefined;\n\t\tcleanup();\n\t}\n\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {any[]} oldArgs\n * @param {any[]} newArgs\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n"],"sourceRoot":""}