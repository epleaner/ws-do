{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:////Users/ep/workspace/ws-do/node_modules/preact/compat/src/util.js","webpack:////Users/ep/workspace/ws-do/node_modules/preact/compat/src/PureComponent.js","webpack:////Users/ep/workspace/ws-do/node_modules/preact/compat/src/memo.js","webpack:////Users/ep/workspace/ws-do/node_modules/preact/compat/src/forwardRef.js","webpack:////Users/ep/workspace/ws-do/node_modules/preact/compat/src/Children.js","webpack:////Users/ep/workspace/ws-do/node_modules/preact/compat/src/suspense.js","webpack:////Users/ep/workspace/ws-do/node_modules/preact/compat/src/suspense-list.js","webpack:////Users/ep/workspace/ws-do/node_modules/preact/compat/src/portals.js","webpack:////Users/ep/workspace/ws-do/node_modules/preact/compat/src/render.js","webpack:////Users/ep/workspace/ws-do/node_modules/preact/compat/src/index.js","webpack:////Users/ep/workspace/ws-do/node_modules/react-piano/src/MidiNumbers.js","webpack:////Users/ep/workspace/ws-do/node_modules/react-piano/src/Key.js","webpack:////Users/ep/workspace/ws-do/node_modules/react-piano/src/Keyboard.js","webpack:////Users/ep/workspace/ws-do/node_modules/react-piano/src/ControlledPiano.js","webpack:////Users/ep/workspace/ws-do/node_modules/react-piano/src/Piano.js","webpack:////Users/ep/workspace/ws-do/node_modules/react-piano/src/KeyboardShortcuts.js","webpack:////Users/ep/workspace/ws-do/node_modules/prop-types/factoryWithThrowingShims.js","webpack:///./routes/home/index.js","webpack:///./components/clients/basic.js","webpack:////Users/ep/workspace/ws-do/node_modules/lodash.difference/index.js","webpack:///./routes/home/style.css?431e","webpack:///external \"preact\"","webpack:////Users/ep/workspace/ws-do/node_modules/classnames/index.js","webpack:///./style/index.css?82ba","webpack:////Users/ep/workspace/ws-do/node_modules/preact-router/src/util.js","webpack:////Users/ep/workspace/ws-do/node_modules/preact-router/src/index.js","webpack:///./components/app.js","webpack:///./index.js","webpack:////Users/ep/workspace/ws-do/node_modules/react-piano/dist/styles.css","webpack:///./components/header/index.js","webpack:////Users/ep/workspace/ws-do/node_modules/just-range/index.js","webpack:///./components/wsMonitor.js","webpack:///./routes/synth/index.js","webpack:///./hooks/useWs.js","webpack:////Users/ep/workspace/ws-do/node_modules/prop-types/index.js","webpack:///./routes/midi/style.css?5fbd","webpack:///./routes/midi/index.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./utils/polysynth.js","webpack:///./utils/midihandler.js","webpack:///./components/clients/synth/piano.js","webpack:////Users/ep/workspace/ws-do/node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///./components/clients/synth/index.js","webpack:///./routes/synth/style.css?2faf","webpack:////Users/ep/workspace/ws-do/node_modules/preact/hooks/src/index.js","webpack:///./components/clients/midi/index.js"],"names":["g","n","t","e","C","r","E","w","props","x","ref","call","current","u","shouldComponentUpdate","displayName","name","prototype","isReactComponent","__f","isPureReactComponent","state","R","__b","type","N","Symbol","for","k","$$typeof","render","A","map","O","forEach","count","length","only","toArray","T","__e","then","o","__","__c","__k","I","unmount","L","__H","__P","U","__v","insertBefore","__d","D","__u","F","__a","M","default","V","__R","__h","push","i","l","__O","setState","pop","forceUpdate","c","componentWillUnmount","document","createElement","fallback","children","W","delete","revealOrder","size","P","getChildContext","context","j","nodeType","parentNode","childNodes","appendChild","removeChild","splice","indexOf","z","containerInfo","get","Map","reverse","set","componentDidUpdate","componentDidMount","B","H","Z","Y","$","q","_typeof","test","G","textContent","J","Object","defineProperty","configurable","writable","value","K","event","Q","X","cancelBubble","nn","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","tn","en","enumerable","class","rn","vnode","toLowerCase","replace","multiple","Array","isArray","selected","defaultValue","className","un","__r","on","diffed","ln","ReactCurrentDispatcher","readContext","__n","cn","fn","bind","an","sn","f","apply","arguments","hn","vn","base","dn","pn","mn","yn","_n","bn","Sn","d","gn","a","h","v","Cn","useState","useId","s","useReducer","useEffect","useLayoutEffect","useInsertionEffect","useTransition","useDeferredValue","useSyncExternalStore","startTransition","useRef","p","useImperativeHandle","m","useMemo","y","useCallback","_","useContext","b","useDebugValue","S","version","Children","hydrate","unmountComponentAtNode","createPortal","createContext","createFactory","cloneElement","createRef","Fragment","isValidElement","findDOMNode","Component","PureComponent","memo","forwardRef","flushSync","unstable_batchedUpdates","StrictMode","Suspense","SuspenseList","lazy","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","SORTED_PITCHES","ACCIDENTAL_PITCHES","PITCH_INDEXES","Db","Eb","Gb","Ab","Bb","MIDI_NUMBER_C0","MIN_MIDI_NUMBER","MAX_MIDI_NUMBER","NOTE_REGEX","NOTES_IN_OCTAVE","fromNote","note","Error","match","exec","letter","_match","accidental","octave","pitchName","concat","toUpperCase","pitchIndex","parseInt","buildMidiNumberAttributes","midiNumber","Math","floor","isAccidental","includes","buildMidiNumberAttributesCache","range","reduce","cache","midiNumberAttributesCache","getAttributes","attrs","NATURAL_MIDI_NUMBERS","filter","MidiNumbers","Key","onPlayNoteInput","_this","onStopNoteInput","OCTAVE_WIDTH","_MidiNumbers$getAttri","pitchPosition","pitchPositions","octavePosition","getAbsoluteKeyPosition","noteRange","first","naturalKeyWidth","_this$props","accidentalWidthRatio","gliss","useTouchEvents","active","disabled","React","classNames","style","left","ratioToPercentage","getRelativeKeyPosition","width","onMouseDown","onMouseUp","onMouseEnter","onMouseLeave","onTouchStart","onTouchCancel","onTouchEnd","PropTypes","number","isRequired","bool","func","object","node","ratio","Keyboard","last","getMidiNumbers","getNaturalKeyCount","keyWidth","getNaturalKeyWidth","keyWidthToHeight","getWidth","height","getHeight","_MidiNumbers$getAttri2","isActive","activeNotes","key","renderNoteLabel","noteRangePropType","arrayOf","string","isNaturalMidiNumber","propName","componentName","_props$propName","ControlledPiano","isMouseDown","_ref","prevActiveNotes","nextActiveNotes","notesStopped","difference","notesStarted","playNote","stopNote","keyboardShortcuts","shortcut","find","sh","ctrlKey","metaKey","shiftKey","getMidiNumberForKey","_ref2","keyboardShortcut","getKeyForMidiNumber","window","addEventListener","onKeyDown","onKeyUp","removeEventListener","prevProps","prevState","handleNoteChanges","shape","_ref3","Piano","otherProps","_objectWithoutProperties","_extends","handlePlayNoteInput","handleStopNoteInput","createKeyboardShortcuts","firstNote","lastNote","keyboardConfig","currentMidiNumber","naturalKeyIndex","flat","natural","KeyboardShortcuts","create","BOTTOM_ROW","sharp","HOME_ROW","QWERTY_ROW","ReactPropTypesSecret","require","emptyFunction","emptyFunctionWithReset","resetWarningCache","module","exports","shim","location","propFullName","secret","err","getShim","ReactPropTypes","array","bigint","symbol","any","element","elementType","instanceOf","objectOf","oneOf","oneOfType","exact","checkPropTypes","Home","home","Basic","WsClient","ws","useWs","Monitor","websocket","LARGE_ARRAY_SIZE","HASH_UNDEFINED","MAX_SAFE_INTEGER","argsTag","funcTag","genTag","reRegExpChar","reIsHostCtor","freeGlobal","global","freeSelf","self","root","Function","thisArg","args","arrayIncludes","baseIndexOf","arrayIncludesWith","comparator","index","arrayMap","iteratee","result","arrayPush","values","offset","baseFindIndex","predicate","fromIndex","fromRight","baseIsNaN","baseUnary","cacheHas","has","getValue","undefined","isHostObject","toString","arrayProto","funcProto","objectProto","coreJsData","maskSrcKey","uid","keys","IE_PROTO","funcToString","hasOwnProperty","objectToString","reIsNative","RegExp","propertyIsEnumerable","spreadableSymbol","isConcatSpreadable","nativeMax","max","getNative","nativeCreate","Hash","entries","clear","entry","hashClear","__data__","hashDelete","hashGet","data","hashHas","hashSet","ListCache","listCacheClear","listCacheDelete","assocIndexOf","lastIndex","listCacheGet","listCacheHas","listCacheSet","MapCache","mapCacheClear","mapCacheDelete","getMapData","mapCacheGet","mapCacheHas","mapCacheSet","SetCache","add","setCacheAdd","setCacheHas","eq","baseDifference","isCommon","valuesLength","outer","computed","valuesIndex","baseFlatten","depth","isStrict","isFlattenable","baseIsNative","isObject","isMasked","pattern","isFunction","toSource","baseRest","start","otherArgs","isKeyable","isArguments","isArrayLikeObject","other","isArrayLike","isLength","isObjectLike","tag","hasOwn","nativeCodeString","classes","arg","argType","inner","join","define","EMPTY$1","assign","obj","url","route","opts","reg","matches","ret","split","decodeURIComponent","slice","segmentize","i$1","charAt","param","flags","plus","star","val","pathRankSort","rank","prepareVNodeForRanking","rankChild","rankSegment","segment","path","customHistory","ROUTERS","subscribers","EMPTY","setUrl","history","getCurrentUrl","getCurrentLocation","pathname","search","canRoute","routeTo","didRoute","routeFromLink","getAttribute","href","target","handleLinkClick","altKey","button","currentTarget","prevent","stopImmediatePropagation","stopPropagation","preventDefault","delegateLinkHandler","String","nodeName","hasAttribute","eventListenersInitialized","initEventListeners","Router","Component$$1","static","onChange","toChildArray","getMatchingChildren","updating","componentWillMount","unlisten","listen","this$1","componentWillUpdate","invoke","sort","newProps","Boolean","ref$1","previous","previousUrl","router","Link","onClick","Route","component","App","id","Header","Synth","MIDI","stop","step","toReturn","increasing","WsMonitor","wsUrl","setWsUrl","myChannels","availableChannels","wsState","joinChannel","getChannels","heartbeat","broadcastMessage","sendMessageToTargetClient","sendMessageToTargetChannel","sendMessageToJoinedChannels","_useState","_useState2","_slicedToArray","message","setMessage","_useState3","_useState4","targetChannel","setTargetChannel","_useState5","_useState6","targetId","setTargetId","messageIsValidJSON","JSON","parse","handleWsUrlChange","onSubmit","placeholder","stringify","channel","members","htmlFor","cols","rows","onInput","overflow","SynthClient","setWs","setHistory","_useState7","_useState8","setHeartbeat","_useState9","_useState10","setMyChannels","_useState11","_useState12","setAvailableChannels","_useState13","_useState14","setId","_useState15","_useState16","incomingMessage","setIncomingMessage","onMessage","_asyncToGenerator","channels","_toConsumableArray","_x2","protocol","port","hostname","console","log","close","wsConnection","WebSocket","onmessage","onopen","send","readyState","CONNECTING","OPEN","CLOSING","CLOSED","_objectSpread","timestamp","Date","now","process","MidiClient","PolySynth","_classCallCheck","audioContext","AudioContext","webkitAudioContext","voices","_createClass","velocity","voice","Voice","oscillator","createOscillator","frequency","getFrequency","gainNode","createGain","gain","connect","destination","linearRampToValueAtTime","currentTime","pow","MIDIHandler","synth","navigator","requestMIDIAccess","onMIDISuccess","onMIDIFailure","onMIDIMessage","_message$data","status","selectedInput","midiAccess","inputs","selectedDeviceId","access","devices","selectElement","getElementById","_iterator","_createForOfIteratorHelper","_step","done","device","optionElement","text","onDeviceSelect","_iterator2","_step2","input","onmidimessage","_iterator3","_step3","_iterator4","_step4","setupKeyboardListener","_this2","code","toggleMIDIDeviceSelect","deviceSelectContainer","display","MIDIPiano","onPlayNote","onStopNote","polySynth","setPolySynth","muteIncoming","setMuteIncoming","muteOutgoing","setMuteOutgoing","broadcastNotes","setBroadcastNotes","noteData","handlePlayNote","handleStopNote","sequencerIntervalId","setSequencerIntervalId","handleSequenceChannel","channelName","clearInterval","sequenceTarget","setInterval","targetIndex","findIndex","setTimeout","checked","__V","__N","every","__s","sub","componentDidCatch","__m","shift","requestAnimationFrame","some","clearTimeout","cancelAnimationFrame","setMidiHandler"],"mappings":"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AAQ,CAAC,IAAIwV,cAAc,CAAChc,IAAI,CAACwG,KAAK,CAAC,IAAI0S,OAAO,CAAC;AAC1F;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIpR,OAAO,GAAGD,KAAK,CAACC,OAAO;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASkY,WAAWA,CAACxZ,KAAK,EAAE;EAC1B,OAAOA,KAAK,IAAI,IAAI,IAAIyZ,QAAQ,CAACzZ,KAAK,CAAC/E,MAAM,CAAC,IAAI,CAAC8d,UAAU,CAAC/Y,KAAK,CAAC;AACtE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASsZ,iBAAiBA,CAACtZ,KAAK,EAAE;EAChC,OAAO0Z,YAAY,CAAC1Z,KAAK,CAAC,IAAIwZ,WAAW,CAACxZ,KAAK,CAAC;AAClD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS+Y,UAAUA,CAAC/Y,KAAK,EAAE;EACzB;EACA;EACA,IAAI2Z,GAAG,GAAGf,QAAQ,CAAC5Y,KAAK,CAAC,GAAGwV,cAAc,CAAChc,IAAI,CAACwG,KAAK,CAAC,GAAG,EAAE;EAC3D,OAAO2Z,GAAG,IAAIhH,OAAO,IAAIgH,GAAG,IAAI/G,MAAM;AACxC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS6G,QAAQA,CAACzZ,KAAK,EAAE;EACvB,OAAO,OAAO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","file":"ssr-bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"QfWi\");\n","/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Check if two objects have a different shape\n * @param {object} a\n * @param {object} b\n * @returns {boolean}\n */\nexport function shallowDiffers(a, b) {\n\tfor (let i in a) if (i !== '__source' && !(i in b)) return true;\n\tfor (let i in b) if (i !== '__source' && a[i] !== b[i]) return true;\n\treturn false;\n}\n\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\n/**\n * Check if two values are the same value\n * @param {*} x\n * @param {*} y\n * @returns {boolean}\n */\nexport function is(x, y) {\n\treturn (x === y && (x !== 0 || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\n","import { Component } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Component class with a predefined `shouldComponentUpdate` implementation\n */\nexport function PureComponent(p) {\n\tthis.props = p;\n}\nPureComponent.prototype = new Component();\n// Some third-party libraries check if this property is present\nPureComponent.prototype.isPureReactComponent = true;\nPureComponent.prototype.shouldComponentUpdate = function (props, state) {\n\treturn shallowDiffers(this.props, props) || shallowDiffers(this.state, state);\n};\n","import { createElement } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Memoize a component, so that it only updates when the props actually have\n * changed. This was previously known as `React.pure`.\n * @param {import('./internal').FunctionComponent} c functional component\n * @param {(prev: object, next: object) => boolean} [comparer] Custom equality function\n * @returns {import('./internal').FunctionComponent}\n */\nexport function memo(c, comparer) {\n\tfunction shouldUpdate(nextProps) {\n\t\tlet ref = this.props.ref;\n\t\tlet updateRef = ref == nextProps.ref;\n\t\tif (!updateRef && ref) {\n\t\t\tref.call ? ref(null) : (ref.current = null);\n\t\t}\n\n\t\tif (!comparer) {\n\t\t\treturn shallowDiffers(this.props, nextProps);\n\t\t}\n\n\t\treturn !comparer(this.props, nextProps) || !updateRef;\n\t}\n\n\tfunction Memoed(props) {\n\t\tthis.shouldComponentUpdate = shouldUpdate;\n\t\treturn createElement(c, props);\n\t}\n\tMemoed.displayName = 'Memo(' + (c.displayName || c.name) + ')';\n\tMemoed.prototype.isReactComponent = true;\n\tMemoed._forwarded = true;\n\treturn Memoed;\n}\n","import { options } from 'preact';\nimport { assign } from './util';\n\nlet oldDiffHook = options._diff;\noptions._diff = vnode => {\n\tif (vnode.type && vnode.type._forwarded && vnode.ref) {\n\t\tvnode.props.ref = vnode.ref;\n\t\tvnode.ref = null;\n\t}\n\tif (oldDiffHook) oldDiffHook(vnode);\n};\n\nexport const REACT_FORWARD_SYMBOL =\n\t(typeof Symbol != 'undefined' &&\n\t\tSymbol.for &&\n\t\tSymbol.for('react.forward_ref')) ||\n\t0xf47;\n\n/**\n * Pass ref down to a child. This is mainly used in libraries with HOCs that\n * wrap components. Using `forwardRef` there is an easy way to get a reference\n * of the wrapped component instead of one of the wrapper itself.\n * @param {import('./index').ForwardFn} fn\n * @returns {import('./internal').FunctionComponent}\n */\nexport function forwardRef(fn) {\n\tfunction Forwarded(props) {\n\t\tlet clone = assign({}, props);\n\t\tdelete clone.ref;\n\t\treturn fn(clone, props.ref || null);\n\t}\n\n\t// mobx-react checks for this being present\n\tForwarded.$$typeof = REACT_FORWARD_SYMBOL;\n\t// mobx-react heavily relies on implementation details.\n\t// It expects an object here with a `render` property,\n\t// and prototype.render will fail. Without this\n\t// mobx-react throws.\n\tForwarded.render = Forwarded;\n\n\tForwarded.prototype.isReactComponent = Forwarded._forwarded = true;\n\tForwarded.displayName = 'ForwardRef(' + (fn.displayName || fn.name) + ')';\n\treturn Forwarded;\n}\n","import { toChildArray } from 'preact';\n\nconst mapFn = (children, fn) => {\n\tif (children == null) return null;\n\treturn toChildArray(toChildArray(children).map(fn));\n};\n\n// This API is completely unnecessary for Preact, so it's basically passthrough.\nexport const Children = {\n\tmap: mapFn,\n\tforEach: mapFn,\n\tcount(children) {\n\t\treturn children ? toChildArray(children).length : 0;\n\t},\n\tonly(children) {\n\t\tconst normalized = toChildArray(children);\n\t\tif (normalized.length !== 1) throw 'Children.only';\n\t\treturn normalized[0];\n\t},\n\ttoArray: toChildArray\n};\n","import { Component, createElement, options, Fragment } from 'preact';\nimport { assign } from './util';\n\nconst oldCatchError = options._catchError;\noptions._catchError = function (error, newVNode, oldVNode, errorInfo) {\n\tif (error.then) {\n\t\t/** @type {import('./internal').Component} */\n\t\tlet component;\n\t\tlet vnode = newVNode;\n\n\t\tfor (; (vnode = vnode._parent); ) {\n\t\t\tif ((component = vnode._component) && component._childDidSuspend) {\n\t\t\t\tif (newVNode._dom == null) {\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t}\n\t\t\t\t// Don't call oldCatchError if we found a Suspense\n\t\t\t\treturn component._childDidSuspend(error, newVNode);\n\t\t\t}\n\t\t}\n\t}\n\toldCatchError(error, newVNode, oldVNode, errorInfo);\n};\n\nconst oldUnmount = options.unmount;\noptions.unmount = function (vnode) {\n\t/** @type {import('./internal').Component} */\n\tconst component = vnode._component;\n\tif (component && component._onResolve) {\n\t\tcomponent._onResolve();\n\t}\n\n\t// if the component is still hydrating\n\t// most likely it is because the component is suspended\n\t// we set the vnode.type as `null` so that it is not a typeof function\n\t// so the unmount will remove the vnode._dom\n\tif (component && vnode._hydrating === true) {\n\t\tvnode.type = null;\n\t}\n\n\tif (oldUnmount) oldUnmount(vnode);\n};\n\nfunction detachedClone(vnode, detachedParent, parentDom) {\n\tif (vnode) {\n\t\tif (vnode._component && vnode._component.__hooks) {\n\t\t\tvnode._component.__hooks._list.forEach(effect => {\n\t\t\t\tif (typeof effect._cleanup == 'function') effect._cleanup();\n\t\t\t});\n\n\t\t\tvnode._component.__hooks = null;\n\t\t}\n\n\t\tvnode = assign({}, vnode);\n\t\tif (vnode._component != null) {\n\t\t\tif (vnode._component._parentDom === parentDom) {\n\t\t\t\tvnode._component._parentDom = detachedParent;\n\t\t\t}\n\t\t\tvnode._component = null;\n\t\t}\n\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tdetachedClone(child, detachedParent, parentDom)\n\t\t\t);\n\t}\n\n\treturn vnode;\n}\n\nfunction removeOriginal(vnode, detachedParent, originalParent) {\n\tif (vnode) {\n\t\tvnode._original = null;\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tremoveOriginal(child, detachedParent, originalParent)\n\t\t\t);\n\n\t\tif (vnode._component) {\n\t\t\tif (vnode._component._parentDom === detachedParent) {\n\t\t\t\tif (vnode._dom) {\n\t\t\t\t\toriginalParent.insertBefore(vnode._dom, vnode._nextDom);\n\t\t\t\t}\n\t\t\t\tvnode._component._force = true;\n\t\t\t\tvnode._component._parentDom = originalParent;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn vnode;\n}\n\n// having custom inheritance instead of a class here saves a lot of bytes\nexport function Suspense() {\n\t// we do not call super here to golf some bytes...\n\tthis._pendingSuspensionCount = 0;\n\tthis._suspenders = null;\n\tthis._detachOnNextRender = null;\n}\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspense.prototype = new Component();\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {Promise} promise The thrown promise\n * @param {import('./internal').VNode<any, any>} suspendingVNode The suspending component\n */\nSuspense.prototype._childDidSuspend = function (promise, suspendingVNode) {\n\tconst suspendingComponent = suspendingVNode._component;\n\n\t/** @type {import('./internal').SuspenseComponent} */\n\tconst c = this;\n\n\tif (c._suspenders == null) {\n\t\tc._suspenders = [];\n\t}\n\tc._suspenders.push(suspendingComponent);\n\n\tconst resolve = suspended(c._vnode);\n\n\tlet resolved = false;\n\tconst onResolved = () => {\n\t\tif (resolved) return;\n\n\t\tresolved = true;\n\t\tsuspendingComponent._onResolve = null;\n\n\t\tif (resolve) {\n\t\t\tresolve(onSuspensionComplete);\n\t\t} else {\n\t\t\tonSuspensionComplete();\n\t\t}\n\t};\n\n\tsuspendingComponent._onResolve = onResolved;\n\n\tconst onSuspensionComplete = () => {\n\t\tif (!--c._pendingSuspensionCount) {\n\t\t\t// If the suspension was during hydration we don't need to restore the\n\t\t\t// suspended children into the _children array\n\t\t\tif (c.state._suspended) {\n\t\t\t\tconst suspendedVNode = c.state._suspended;\n\t\t\t\tc._vnode._children[0] = removeOriginal(\n\t\t\t\t\tsuspendedVNode,\n\t\t\t\t\tsuspendedVNode._component._parentDom,\n\t\t\t\t\tsuspendedVNode._component._originalParentDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tc.setState({ _suspended: (c._detachOnNextRender = null) });\n\n\t\t\tlet suspended;\n\t\t\twhile ((suspended = c._suspenders.pop())) {\n\t\t\t\tsuspended.forceUpdate();\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * We do not set `suspended: true` during hydration because we want the actual markup\n\t * to remain on screen and hydrate it when the suspense actually gets resolved.\n\t * While in non-hydration cases the usual fallback -> component flow would occour.\n\t */\n\tconst wasHydrating = suspendingVNode._hydrating === true;\n\tif (!c._pendingSuspensionCount++ && !wasHydrating) {\n\t\tc.setState({ _suspended: (c._detachOnNextRender = c._vnode._children[0]) });\n\t}\n\tpromise.then(onResolved, onResolved);\n};\n\nSuspense.prototype.componentWillUnmount = function () {\n\tthis._suspenders = [];\n};\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {import('./internal').SuspenseComponent[\"props\"]} props\n * @param {import('./internal').SuspenseState} state\n */\nSuspense.prototype.render = function (props, state) {\n\tif (this._detachOnNextRender) {\n\t\t// When the Suspense's _vnode was created by a call to createVNode\n\t\t// (i.e. due to a setState further up in the tree)\n\t\t// it's _children prop is null, in this case we \"forget\" about the parked vnodes to detach\n\t\tif (this._vnode._children) {\n\t\t\tconst detachedParent = document.createElement('div');\n\t\t\tconst detachedComponent = this._vnode._children[0]._component;\n\t\t\tthis._vnode._children[0] = detachedClone(\n\t\t\t\tthis._detachOnNextRender,\n\t\t\t\tdetachedParent,\n\t\t\t\t(detachedComponent._originalParentDom = detachedComponent._parentDom)\n\t\t\t);\n\t\t}\n\n\t\tthis._detachOnNextRender = null;\n\t}\n\n\t// Wrap fallback tree in a VNode that prevents itself from being marked as aborting mid-hydration:\n\t/** @type {import('./internal').VNode} */\n\tconst fallback =\n\t\tstate._suspended && createElement(Fragment, null, props.fallback);\n\tif (fallback) fallback._hydrating = null;\n\n\treturn [\n\t\tcreateElement(Fragment, null, state._suspended ? null : props.children),\n\t\tfallback\n\t];\n};\n\n/**\n * Checks and calls the parent component's _suspended method, passing in the\n * suspended vnode. This is a way for a parent (e.g. SuspenseList) to get notified\n * that one of its children/descendants suspended.\n *\n * The parent MAY return a callback. The callback will get called when the\n * suspension resolves, notifying the parent of the fact.\n * Moreover, the callback gets function `unsuspend` as a parameter. The resolved\n * child descendant will not actually get unsuspended until `unsuspend` gets called.\n * This is a way for the parent to delay unsuspending.\n *\n * If the parent does not return a callback then the resolved vnode\n * gets unsuspended immediately when it resolves.\n *\n * @param {import('./internal').VNode} vnode\n * @returns {((unsuspend: () => void) => void)?}\n */\nexport function suspended(vnode) {\n\t/** @type {import('./internal').Component} */\n\tlet component = vnode._parent._component;\n\treturn component && component._suspended && component._suspended(vnode);\n}\n\nexport function lazy(loader) {\n\tlet prom;\n\tlet component;\n\tlet error;\n\n\tfunction Lazy(props) {\n\t\tif (!prom) {\n\t\t\tprom = loader();\n\t\t\tprom.then(\n\t\t\t\texports => {\n\t\t\t\t\tcomponent = exports.default || exports;\n\t\t\t\t},\n\t\t\t\te => {\n\t\t\t\t\terror = e;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tif (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (!component) {\n\t\t\tthrow prom;\n\t\t}\n\n\t\treturn createElement(component, props);\n\t}\n\n\tLazy.displayName = 'Lazy';\n\tLazy._forwarded = true;\n\treturn Lazy;\n}\n","import { Component, toChildArray } from 'preact';\nimport { suspended } from './suspense.js';\n\n// Indexes to linked list nodes (nodes are stored as arrays to save bytes).\nconst SUSPENDED_COUNT = 0;\nconst RESOLVED_COUNT = 1;\nconst NEXT_NODE = 2;\n\n// Having custom inheritance instead of a class here saves a lot of bytes.\nexport function SuspenseList() {\n\tthis._next = null;\n\tthis._map = null;\n}\n\n// Mark one of child's earlier suspensions as resolved.\n// Some pending callbacks may become callable due to this\n// (e.g. the last suspended descendant gets resolved when\n// revealOrder === 'together'). Process those callbacks as well.\nconst resolve = (list, child, node) => {\n\tif (++node[RESOLVED_COUNT] === node[SUSPENDED_COUNT]) {\n\t\t// The number a child (or any of its descendants) has been suspended\n\t\t// matches the number of times it's been resolved. Therefore we\n\t\t// mark the child as completely resolved by deleting it from ._map.\n\t\t// This is used to figure out when *all* children have been completely\n\t\t// resolved when revealOrder is 'together'.\n\t\tlist._map.delete(child);\n\t}\n\n\t// If revealOrder is falsy then we can do an early exit, as the\n\t// callbacks won't get queued in the node anyway.\n\t// If revealOrder is 'together' then also do an early exit\n\t// if all suspended descendants have not yet been resolved.\n\tif (\n\t\t!list.props.revealOrder ||\n\t\t(list.props.revealOrder[0] === 't' && list._map.size)\n\t) {\n\t\treturn;\n\t}\n\n\t// Walk the currently suspended children in order, calling their\n\t// stored callbacks on the way. Stop if we encounter a child that\n\t// has not been completely resolved yet.\n\tnode = list._next;\n\twhile (node) {\n\t\twhile (node.length > 3) {\n\t\t\tnode.pop()();\n\t\t}\n\t\tif (node[RESOLVED_COUNT] < node[SUSPENDED_COUNT]) {\n\t\t\tbreak;\n\t\t}\n\t\tlist._next = node = node[NEXT_NODE];\n\t}\n};\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspenseList.prototype = new Component();\n\nSuspenseList.prototype._suspended = function (child) {\n\tconst list = this;\n\tconst delegated = suspended(list._vnode);\n\n\tlet node = list._map.get(child);\n\tnode[SUSPENDED_COUNT]++;\n\n\treturn unsuspend => {\n\t\tconst wrappedUnsuspend = () => {\n\t\t\tif (!list.props.revealOrder) {\n\t\t\t\t// Special case the undefined (falsy) revealOrder, as there\n\t\t\t\t// is no need to coordinate a specific order or unsuspends.\n\t\t\t\tunsuspend();\n\t\t\t} else {\n\t\t\t\tnode.push(unsuspend);\n\t\t\t\tresolve(list, child, node);\n\t\t\t}\n\t\t};\n\t\tif (delegated) {\n\t\t\tdelegated(wrappedUnsuspend);\n\t\t} else {\n\t\t\twrappedUnsuspend();\n\t\t}\n\t};\n};\n\nSuspenseList.prototype.render = function (props) {\n\tthis._next = null;\n\tthis._map = new Map();\n\n\tconst children = toChildArray(props.children);\n\tif (props.revealOrder && props.revealOrder[0] === 'b') {\n\t\t// If order === 'backwards' (or, well, anything starting with a 'b')\n\t\t// then flip the child list around so that the last child will be\n\t\t// the first in the linked list.\n\t\tchildren.reverse();\n\t}\n\t// Build the linked list. Iterate through the children in reverse order\n\t// so that `_next` points to the first linked list node to be resolved.\n\tfor (let i = children.length; i--; ) {\n\t\t// Create a new linked list node as an array of form:\n\t\t// \t[suspended_count, resolved_count, next_node]\n\t\t// where suspended_count and resolved_count are numeric counters for\n\t\t// keeping track how many times a node has been suspended and resolved.\n\t\t//\n\t\t// Note that suspended_count starts from 1 instead of 0, so we can block\n\t\t// processing callbacks until componentDidMount has been called. In a sense\n\t\t// node is suspended at least until componentDidMount gets called!\n\t\t//\n\t\t// Pending callbacks are added to the end of the node:\n\t\t// \t[suspended_count, resolved_count, next_node, callback_0, callback_1, ...]\n\t\tthis._map.set(children[i], (this._next = [1, 0, this._next]));\n\t}\n\treturn props.children;\n};\n\nSuspenseList.prototype.componentDidUpdate =\n\tSuspenseList.prototype.componentDidMount = function () {\n\t\t// Iterate through all children after mounting for two reasons:\n\t\t// 1. As each node[SUSPENDED_COUNT] starts from 1, this iteration increases\n\t\t//    each node[RELEASED_COUNT] by 1, therefore balancing the counters.\n\t\t//    The nodes can now be completely consumed from the linked list.\n\t\t// 2. Handle nodes that might have gotten resolved between render and\n\t\t//    componentDidMount.\n\t\tthis._map.forEach((node, child) => {\n\t\t\tresolve(this, child, node);\n\t\t});\n\t};\n","import { createElement, render } from 'preact';\n\n/**\n * @param {import('../../src/index').RenderableProps<{ context: any }>} props\n */\nfunction ContextProvider(props) {\n\tthis.getChildContext = () => props.context;\n\treturn props.children;\n}\n\n/**\n * Portal component\n * @this {import('./internal').Component}\n * @param {object | null | undefined} props\n *\n * TODO: use createRoot() instead of fake root\n */\nfunction Portal(props) {\n\tconst _this = this;\n\tlet container = props._container;\n\n\t_this.componentWillUnmount = function () {\n\t\trender(null, _this._temp);\n\t\t_this._temp = null;\n\t\t_this._container = null;\n\t};\n\n\t// When we change container we should clear our old container and\n\t// indicate a new mount.\n\tif (_this._container && _this._container !== container) {\n\t\t_this.componentWillUnmount();\n\t}\n\n\t// When props.vnode is undefined/false/null we are dealing with some kind of\n\t// conditional vnode. This should not trigger a render.\n\tif (props._vnode) {\n\t\tif (!_this._temp) {\n\t\t\t_this._container = container;\n\n\t\t\t// Create a fake DOM parent node that manages a subset of `container`'s children:\n\t\t\t_this._temp = {\n\t\t\t\tnodeType: 1,\n\t\t\t\tparentNode: container,\n\t\t\t\tchildNodes: [],\n\t\t\t\tappendChild(child) {\n\t\t\t\t\tthis.childNodes.push(child);\n\t\t\t\t\t_this._container.appendChild(child);\n\t\t\t\t},\n\t\t\t\tinsertBefore(child, before) {\n\t\t\t\t\tthis.childNodes.push(child);\n\t\t\t\t\t_this._container.appendChild(child);\n\t\t\t\t},\n\t\t\t\tremoveChild(child) {\n\t\t\t\t\tthis.childNodes.splice(this.childNodes.indexOf(child) >>> 1, 1);\n\t\t\t\t\t_this._container.removeChild(child);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t// Render our wrapping element into temp.\n\t\trender(\n\t\t\tcreateElement(ContextProvider, { context: _this.context }, props._vnode),\n\t\t\t_this._temp\n\t\t);\n\t}\n\t// When we come from a conditional render, on a mounted\n\t// portal we should clear the DOM.\n\telse if (_this._temp) {\n\t\t_this.componentWillUnmount();\n\t}\n}\n\n/**\n * Create a `Portal` to continue rendering the vnode tree at a different DOM node\n * @param {import('./internal').VNode} vnode The vnode to render\n * @param {import('./internal').PreactElement} container The DOM node to continue rendering in to.\n */\nexport function createPortal(vnode, container) {\n\tconst el = createElement(Portal, { _vnode: vnode, _container: container });\n\tel.containerInfo = container;\n\treturn el;\n}\n","import {\n\trender as preactRender,\n\thydrate as preactHydrate,\n\toptions,\n\ttoChildArray,\n\tComponent\n} from 'preact';\n\nexport const REACT_ELEMENT_TYPE =\n\t(typeof Symbol != 'undefined' && Symbol.for && Symbol.for('react.element')) ||\n\t0xeac7;\n\nconst CAMEL_PROPS =\n\t/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;\nconst ON_ANI = /^on(Ani|Tra|Tou|BeforeInp|Compo)/;\nconst CAMEL_REPLACE = /[A-Z0-9]/g;\n\nconst IS_DOM = typeof document !== 'undefined';\n\n// Input types for which onchange should not be converted to oninput.\n// type=\"file|checkbox|radio\", plus \"range\" in IE11.\n// (IE11 doesn't support Symbol, which we use here to turn `rad` into `ra` which matches \"range\")\nconst onChangeInputType = type =>\n\t(typeof Symbol != 'undefined' && typeof Symbol() == 'symbol'\n\t\t? /fil|che|rad/\n\t\t: /fil|che|ra/\n\t).test(type);\n\n// Some libraries like `react-virtualized` explicitly check for this.\nComponent.prototype.isReactComponent = {};\n\n// `UNSAFE_*` lifecycle hooks\n// Preact only ever invokes the unprefixed methods.\n// Here we provide a base \"fallback\" implementation that calls any defined UNSAFE_ prefixed method.\n// - If a component defines its own `componentDidMount()` (including via defineProperty), use that.\n// - If a component defines `UNSAFE_componentDidMount()`, `componentDidMount` is the alias getter/setter.\n// - If anything assigns to an `UNSAFE_*` property, the assignment is forwarded to the unprefixed property.\n// See https://github.com/preactjs/preact/issues/1941\n[\n\t'componentWillMount',\n\t'componentWillReceiveProps',\n\t'componentWillUpdate'\n].forEach(key => {\n\tObject.defineProperty(Component.prototype, key, {\n\t\tconfigurable: true,\n\t\tget() {\n\t\t\treturn this['UNSAFE_' + key];\n\t\t},\n\t\tset(v) {\n\t\t\tObject.defineProperty(this, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true,\n\t\t\t\tvalue: v\n\t\t\t});\n\t\t}\n\t});\n});\n\n/**\n * Proxy render() since React returns a Component reference.\n * @param {import('./internal').VNode} vnode VNode tree to render\n * @param {import('./internal').PreactElement} parent DOM node to render vnode tree into\n * @param {() => void} [callback] Optional callback that will be called after rendering\n * @returns {import('./internal').Component | null} The root component reference or null\n */\nexport function render(vnode, parent, callback) {\n\t// React destroys any existing DOM nodes, see #1727\n\t// ...but only on the first render, see #1828\n\tif (parent._children == null) {\n\t\tparent.textContent = '';\n\t}\n\n\tpreactRender(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nexport function hydrate(vnode, parent, callback) {\n\tpreactHydrate(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nlet oldEventHook = options.event;\noptions.event = e => {\n\tif (oldEventHook) e = oldEventHook(e);\n\n\te.persist = empty;\n\te.isPropagationStopped = isPropagationStopped;\n\te.isDefaultPrevented = isDefaultPrevented;\n\treturn (e.nativeEvent = e);\n};\n\nfunction empty() {}\n\nfunction isPropagationStopped() {\n\treturn this.cancelBubble;\n}\n\nfunction isDefaultPrevented() {\n\treturn this.defaultPrevented;\n}\n\nconst classNameDescriptorNonEnumberable = {\n\tenumerable: false,\n\tconfigurable: true,\n\tget() {\n\t\treturn this.class;\n\t}\n};\n\nfunction handleDomVNode(vnode) {\n\tlet props = vnode.props,\n\t\ttype = vnode.type,\n\t\tnormalizedProps = {};\n\n\tfor (let i in props) {\n\t\tlet value = props[i];\n\n\t\tif (\n\t\t\t(i === 'value' && 'defaultValue' in props && value == null) ||\n\t\t\t// Emulate React's behavior of not rendering the contents of noscript tags on the client.\n\t\t\t(IS_DOM && i === 'children' && type === 'noscript') ||\n\t\t\ti === 'class' ||\n\t\t\ti === 'className'\n\t\t) {\n\t\t\t// Skip applying value if it is null/undefined and we already set\n\t\t\t// a default value\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet lowerCased = i.toLowerCase();\n\t\tif (i === 'defaultValue' && 'value' in props && props.value == null) {\n\t\t\t// `defaultValue` is treated as a fallback `value` when a value prop is present but null/undefined.\n\t\t\t// `defaultValue` for Elements with no value prop is the same as the DOM defaultValue property.\n\t\t\ti = 'value';\n\t\t} else if (i === 'download' && value === true) {\n\t\t\t// Calling `setAttribute` with a truthy value will lead to it being\n\t\t\t// passed as a stringified value, e.g. `download=\"true\"`. React\n\t\t\t// converts it to an empty string instead, otherwise the attribute\n\t\t\t// value will be used as the file name and the file will be called\n\t\t\t// \"true\" upon downloading it.\n\t\t\tvalue = '';\n\t\t} else if (lowerCased === 'ondoubleclick') {\n\t\t\ti = 'ondblclick';\n\t\t} else if (\n\t\t\tlowerCased === 'onchange' &&\n\t\t\t(type === 'input' || type === 'textarea') &&\n\t\t\t!onChangeInputType(props.type)\n\t\t) {\n\t\t\tlowerCased = i = 'oninput';\n\t\t} else if (lowerCased === 'onfocus') {\n\t\t\ti = 'onfocusin';\n\t\t} else if (lowerCased === 'onblur') {\n\t\t\ti = 'onfocusout';\n\t\t} else if (ON_ANI.test(i)) {\n\t\t\ti = lowerCased;\n\t\t} else if (type.indexOf('-') === -1 && CAMEL_PROPS.test(i)) {\n\t\t\ti = i.replace(CAMEL_REPLACE, '-$&').toLowerCase();\n\t\t} else if (value === null) {\n\t\t\tvalue = undefined;\n\t\t}\n\n\t\t// Add support for onInput and onChange, see #3561\n\t\t// if we have an oninput prop already change it to oninputCapture\n\t\tif (lowerCased === 'oninput') {\n\t\t\ti = lowerCased;\n\t\t\tif (normalizedProps[i]) {\n\t\t\t\ti = 'oninputCapture';\n\t\t\t}\n\t\t}\n\n\t\tnormalizedProps[i] = value;\n\t}\n\n\t// Add support for array select values: <select multiple value={[]} />\n\tif (\n\t\ttype == 'select' &&\n\t\tnormalizedProps.multiple &&\n\t\tArray.isArray(normalizedProps.value)\n\t) {\n\t\t// forEach() always returns undefined, which we abuse here to unset the value prop.\n\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\tchild.props.selected =\n\t\t\t\tnormalizedProps.value.indexOf(child.props.value) != -1;\n\t\t});\n\t}\n\n\t// Adding support for defaultValue in select tag\n\tif (type == 'select' && normalizedProps.defaultValue != null) {\n\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\tif (normalizedProps.multiple) {\n\t\t\t\tchild.props.selected =\n\t\t\t\t\tnormalizedProps.defaultValue.indexOf(child.props.value) != -1;\n\t\t\t} else {\n\t\t\t\tchild.props.selected =\n\t\t\t\t\tnormalizedProps.defaultValue == child.props.value;\n\t\t\t}\n\t\t});\n\t}\n\n\tif (props.class && !props.className) {\n\t\tnormalizedProps.class = props.class;\n\t\tObject.defineProperty(\n\t\t\tnormalizedProps,\n\t\t\t'className',\n\t\t\tclassNameDescriptorNonEnumberable\n\t\t);\n\t} else if (props.className && !props.class) {\n\t\tnormalizedProps.class = normalizedProps.className = props.className;\n\t} else if (props.class && props.className) {\n\t\tnormalizedProps.class = normalizedProps.className = props.className;\n\t}\n\n\tvnode.props = normalizedProps;\n}\n\nlet oldVNodeHook = options.vnode;\noptions.vnode = vnode => {\n\t// only normalize props on Element nodes\n\tif (typeof vnode.type === 'string') {\n\t\thandleDomVNode(vnode);\n\t}\n\n\tvnode.$$typeof = REACT_ELEMENT_TYPE;\n\n\tif (oldVNodeHook) oldVNodeHook(vnode);\n};\n\n// Only needed for react-relay\nlet currentComponent;\nconst oldBeforeRender = options._render;\noptions._render = function (vnode) {\n\tif (oldBeforeRender) {\n\t\toldBeforeRender(vnode);\n\t}\n\tcurrentComponent = vnode._component;\n};\n\nconst oldDiffed = options.diffed;\n/** @type {(vnode: import('./internal').VNode) => void} */\noptions.diffed = function (vnode) {\n\tif (oldDiffed) {\n\t\toldDiffed(vnode);\n\t}\n\n\tconst props = vnode.props;\n\tconst dom = vnode._dom;\n\n\tif (\n\t\tdom != null &&\n\t\tvnode.type === 'textarea' &&\n\t\t'value' in props &&\n\t\tprops.value !== dom.value\n\t) {\n\t\tdom.value = props.value == null ? '' : props.value;\n\t}\n\n\tcurrentComponent = null;\n};\n\n// This is a very very private internal function for React it\n// is used to sort-of do runtime dependency injection. So far\n// only `react-relay` makes use of it. It uses it to read the\n// context value.\nexport const __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = {\n\tReactCurrentDispatcher: {\n\t\tcurrent: {\n\t\t\treadContext(context) {\n\t\t\t\treturn currentComponent._globalContext[context._id].props.value;\n\t\t\t}\n\t\t}\n\t}\n};\n","import {\n\tcreateElement,\n\trender as preactRender,\n\tcloneElement as preactCloneElement,\n\tcreateRef,\n\tComponent,\n\tcreateContext,\n\tFragment\n} from 'preact';\nimport {\n\tuseState,\n\tuseId,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue\n} from 'preact/hooks';\nimport { PureComponent } from './PureComponent';\nimport { memo } from './memo';\nimport { forwardRef } from './forwardRef';\nimport { Children } from './Children';\nimport { Suspense, lazy } from './suspense';\nimport { SuspenseList } from './suspense-list';\nimport { createPortal } from './portals';\nimport { is } from './util';\nimport {\n\thydrate,\n\trender,\n\tREACT_ELEMENT_TYPE,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n} from './render';\n\nconst version = '17.0.2'; // trick libraries to think we are react\n\n/**\n * Legacy version of createElement.\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component constructor\n */\nfunction createFactory(type) {\n\treturn createElement.bind(null, type);\n}\n\n/**\n * Check if the passed element is a valid (p)react node.\n * @param {*} element The element to check\n * @returns {boolean}\n */\nfunction isValidElement(element) {\n\treturn !!element && element.$$typeof === REACT_ELEMENT_TYPE;\n}\n\n/**\n * Wrap `cloneElement` to abort if the passed element is not a valid element and apply\n * all vnode normalizations.\n * @param {import('./internal').VNode} element The vnode to clone\n * @param {object} props Props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Optional component children\n */\nfunction cloneElement(element) {\n\tif (!isValidElement(element)) return element;\n\treturn preactCloneElement.apply(null, arguments);\n}\n\n/**\n * Remove a component tree from the DOM, including state and event handlers.\n * @param {import('./internal').PreactElement} container\n * @returns {boolean}\n */\nfunction unmountComponentAtNode(container) {\n\tif (container._children) {\n\t\tpreactRender(null, container);\n\t\treturn true;\n\t}\n\treturn false;\n}\n\n/**\n * Get the matching DOM node for a component\n * @param {import('./internal').Component} component\n * @returns {import('./internal').PreactElement | null}\n */\nfunction findDOMNode(component) {\n\treturn (\n\t\t(component &&\n\t\t\t(component.base || (component.nodeType === 1 && component))) ||\n\t\tnull\n\t);\n}\n\n/**\n * Deprecated way to control batched rendering inside the reconciler, but we\n * already schedule in batches inside our rendering code\n * @template Arg\n * @param {(arg: Arg) => void} callback function that triggers the updated\n * @param {Arg} [arg] Optional argument that can be passed to the callback\n */\n// eslint-disable-next-line camelcase\nconst unstable_batchedUpdates = (callback, arg) => callback(arg);\n\n/**\n * In React, `flushSync` flushes the entire tree and forces a rerender. It's\n * implmented here as a no-op.\n * @template Arg\n * @template Result\n * @param {(arg: Arg) => Result} callback function that runs before the flush\n * @param {Arg} [arg] Optional argument that can be passed to the callback\n * @returns\n */\nconst flushSync = (callback, arg) => callback(arg);\n\n/**\n * Strict Mode is not implemented in Preact, so we provide a stand-in for it\n * that just renders its children without imposing any restrictions.\n */\nconst StrictMode = Fragment;\n\nexport function startTransition(cb) {\n\tcb();\n}\n\nexport function useDeferredValue(val) {\n\treturn val;\n}\n\nexport function useTransition() {\n\treturn [false, startTransition];\n}\n\n// TODO: in theory this should be done after a VNode is diffed as we want to insert\n// styles/... before it attaches\nexport const useInsertionEffect = useLayoutEffect;\n\n/**\n * This is taken from https://github.com/facebook/react/blob/main/packages/use-sync-external-store/src/useSyncExternalStoreShimClient.js#L84\n * on a high level this cuts out the warnings, ... and attempts a smaller implementation\n */\nexport function useSyncExternalStore(subscribe, getSnapshot) {\n\tconst value = getSnapshot();\n\n\tconst [{ _instance }, forceUpdate] = useState({\n\t\t_instance: { _value: value, _getSnapshot: getSnapshot }\n\t});\n\n\tuseLayoutEffect(() => {\n\t\t_instance._value = value;\n\t\t_instance._getSnapshot = getSnapshot;\n\n\t\tif (!is(_instance._value, getSnapshot())) {\n\t\t\tforceUpdate({ _instance });\n\t\t}\n\t}, [subscribe, value, getSnapshot]);\n\n\tuseEffect(() => {\n\t\tif (!is(_instance._value, _instance._getSnapshot())) {\n\t\t\tforceUpdate({ _instance });\n\t\t}\n\n\t\treturn subscribe(() => {\n\t\t\tif (!is(_instance._value, _instance._getSnapshot())) {\n\t\t\t\tforceUpdate({ _instance });\n\t\t\t}\n\t\t});\n\t}, [subscribe]);\n\n\treturn value;\n}\n\nexport * from 'preact/hooks';\nexport {\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\t// eslint-disable-next-line camelcase\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n\n// React copies the named exports to the default one.\nexport default {\n\tuseState,\n\tuseId,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseInsertionEffect,\n\tuseTransition,\n\tuseDeferredValue,\n\tuseSyncExternalStore,\n\tstartTransition,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue,\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n","import range from 'just-range';\n\nconst SORTED_PITCHES = ['C', 'Db', 'D', 'Eb', 'E', 'F', 'Gb', 'G', 'Ab', 'A', 'Bb', 'B'];\nconst ACCIDENTAL_PITCHES = ['Db', 'Eb', 'Gb', 'Ab', 'Bb'];\nconst PITCH_INDEXES = {\n  C: 0,\n  'C#': 1,\n  Db: 1,\n  D: 2,\n  'D#': 3,\n  Eb: 3,\n  E: 4,\n  F: 5,\n  'F#': 6,\n  Gb: 6,\n  G: 7,\n  'G#': 8,\n  Ab: 8,\n  A: 9,\n  'A#': 10,\n  Bb: 10,\n  B: 11,\n};\nconst MIDI_NUMBER_C0 = 12;\nconst MIN_MIDI_NUMBER = MIDI_NUMBER_C0;\nconst MAX_MIDI_NUMBER = 127;\nconst NOTE_REGEX = /([a-g])([#b]?)(\\d+)/;\nconst NOTES_IN_OCTAVE = 12;\n\n// Converts string notes in scientific pitch notation to a MIDI number, or null.\n//\n// Example: \"c#0\" => 13, \"eb5\" => 75, \"abc\" => null\n//\n// References:\n// - http://www.flutopedia.com/octave_notation.htm\n// - https://github.com/danigb/tonal/blob/master/packages/note/index.js\nfunction fromNote(note) {\n  if (!note) {\n    throw Error('Invalid note argument');\n  }\n  const match = NOTE_REGEX.exec(note.toLowerCase());\n  if (!match) {\n    throw Error('Invalid note argument');\n  }\n  const [, letter, accidental, octave] = match;\n  const pitchName = `${letter.toUpperCase()}${accidental}`;\n  const pitchIndex = PITCH_INDEXES[pitchName];\n  if (pitchIndex == null) {\n    throw Error('Invalid note argument');\n  }\n  return MIDI_NUMBER_C0 + pitchIndex + NOTES_IN_OCTAVE * parseInt(octave, 10);\n}\n\n//\n// Build cache for getAttributes\n//\nfunction buildMidiNumberAttributes(midiNumber) {\n  const pitchIndex = (midiNumber - MIDI_NUMBER_C0) % NOTES_IN_OCTAVE;\n  const octave = Math.floor((midiNumber - MIDI_NUMBER_C0) / NOTES_IN_OCTAVE);\n  const pitchName = SORTED_PITCHES[pitchIndex];\n  return {\n    note: `${pitchName}${octave}`,\n    pitchName,\n    octave,\n    midiNumber,\n    isAccidental: ACCIDENTAL_PITCHES.includes(pitchName),\n  };\n}\n\nfunction buildMidiNumberAttributesCache() {\n  return range(MIN_MIDI_NUMBER, MAX_MIDI_NUMBER + 1).reduce((cache, midiNumber) => {\n    cache[midiNumber] = buildMidiNumberAttributes(midiNumber);\n    return cache;\n  }, {});\n}\n\nconst midiNumberAttributesCache = buildMidiNumberAttributesCache();\n\n// Returns an object containing various attributes for a given MIDI number.\n// Throws error for invalid midiNumbers.\nfunction getAttributes(midiNumber) {\n  const attrs = midiNumberAttributesCache[midiNumber];\n  if (!attrs) {\n    throw Error('Invalid MIDI number');\n  }\n  return attrs;\n}\n\n// Returns all MIDI numbers corresponding to natural notes, e.g. C and not C# or Bb.\nconst NATURAL_MIDI_NUMBERS = range(MIN_MIDI_NUMBER, MAX_MIDI_NUMBER + 1).filter(\n  (midiNumber) => !getAttributes(midiNumber).isAccidental,\n);\n\nexport default {\n  fromNote,\n  getAttributes,\n  MIN_MIDI_NUMBER,\n  MAX_MIDI_NUMBER,\n  NATURAL_MIDI_NUMBERS,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport MidiNumbers from './MidiNumbers';\n\nclass Key extends React.Component {\n  static propTypes = {\n    midiNumber: PropTypes.number.isRequired,\n    naturalKeyWidth: PropTypes.number.isRequired, // Width as a ratio between 0 and 1\n    gliss: PropTypes.bool.isRequired,\n    useTouchEvents: PropTypes.bool.isRequired,\n    accidental: PropTypes.bool.isRequired,\n    active: PropTypes.bool.isRequired,\n    disabled: PropTypes.bool.isRequired,\n    onPlayNoteInput: PropTypes.func.isRequired,\n    onStopNoteInput: PropTypes.func.isRequired,\n    accidentalWidthRatio: PropTypes.number.isRequired,\n    pitchPositions: PropTypes.object.isRequired,\n    children: PropTypes.node,\n  };\n\n  static defaultProps = {\n    accidentalWidthRatio: 0.65,\n    pitchPositions: {\n      C: 0,\n      Db: 0.55,\n      D: 1,\n      Eb: 1.8,\n      E: 2,\n      F: 3,\n      Gb: 3.5,\n      G: 4,\n      Ab: 4.7,\n      A: 5,\n      Bb: 5.85,\n      B: 6,\n    },\n  };\n\n  onPlayNoteInput = () => {\n    this.props.onPlayNoteInput(this.props.midiNumber);\n  };\n\n  onStopNoteInput = () => {\n    this.props.onStopNoteInput(this.props.midiNumber);\n  };\n\n  // Key position is represented by the number of natural key widths from the left\n  getAbsoluteKeyPosition(midiNumber) {\n    const OCTAVE_WIDTH = 7;\n    const { octave, pitchName } = MidiNumbers.getAttributes(midiNumber);\n    const pitchPosition = this.props.pitchPositions[pitchName];\n    const octavePosition = OCTAVE_WIDTH * octave;\n    return pitchPosition + octavePosition;\n  }\n\n  getRelativeKeyPosition(midiNumber) {\n    return (\n      this.getAbsoluteKeyPosition(midiNumber) -\n      this.getAbsoluteKeyPosition(this.props.noteRange.first)\n    );\n  }\n\n  render() {\n    const {\n      naturalKeyWidth,\n      accidentalWidthRatio,\n      midiNumber,\n      gliss,\n      useTouchEvents,\n      accidental,\n      active,\n      disabled,\n      children,\n    } = this.props;\n\n    // Need to conditionally include/exclude handlers based on useTouchEvents,\n    // because otherwise mobile taps double fire events.\n    return (\n      <div\n        className={classNames('ReactPiano__Key', {\n          'ReactPiano__Key--accidental': accidental,\n          'ReactPiano__Key--natural': !accidental,\n          'ReactPiano__Key--disabled': disabled,\n          'ReactPiano__Key--active': active,\n        })}\n        style={{\n          left: ratioToPercentage(this.getRelativeKeyPosition(midiNumber) * naturalKeyWidth),\n          width: ratioToPercentage(\n            accidental ? accidentalWidthRatio * naturalKeyWidth : naturalKeyWidth,\n          ),\n        }}\n        onMouseDown={useTouchEvents ? null : this.onPlayNoteInput}\n        onMouseUp={useTouchEvents ? null : this.onStopNoteInput}\n        onMouseEnter={gliss ? this.onPlayNoteInput : null}\n        onMouseLeave={this.onStopNoteInput}\n        onTouchStart={useTouchEvents ? this.onPlayNoteInput : null}\n        onTouchCancel={useTouchEvents ? this.onStopNoteInput : null}\n        onTouchEnd={useTouchEvents ? this.onStopNoteInput : null}\n      >\n        <div className=\"ReactPiano__NoteLabelContainer\">{children}</div>\n      </div>\n    );\n  }\n}\n\nfunction ratioToPercentage(ratio) {\n  return `${ratio * 100}%`;\n}\n\nexport default Key;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport range from 'just-range';\nimport classNames from 'classnames';\n\nimport Key from './Key';\nimport MidiNumbers from './MidiNumbers';\n\nclass Keyboard extends React.Component {\n  static propTypes = {\n    noteRange: noteRangePropType,\n    activeNotes: PropTypes.arrayOf(PropTypes.number),\n    onPlayNoteInput: PropTypes.func.isRequired,\n    onStopNoteInput: PropTypes.func.isRequired,\n    renderNoteLabel: PropTypes.func.isRequired,\n    keyWidthToHeight: PropTypes.number.isRequired,\n    className: PropTypes.string,\n    disabled: PropTypes.bool,\n    gliss: PropTypes.bool,\n    useTouchEvents: PropTypes.bool,\n    // If width is not provided, must have fixed width and height in parent container\n    width: PropTypes.number,\n  };\n\n  static defaultProps = {\n    disabled: false,\n    gliss: false,\n    useTouchEvents: false,\n    keyWidthToHeight: 0.33,\n    renderNoteLabel: () => {},\n  };\n\n  // Range of midi numbers on keyboard\n  getMidiNumbers() {\n    return range(this.props.noteRange.first, this.props.noteRange.last + 1);\n  }\n\n  getNaturalKeyCount() {\n    return this.getMidiNumbers().filter((number) => {\n      const { isAccidental } = MidiNumbers.getAttributes(number);\n      return !isAccidental;\n    }).length;\n  }\n\n  // Returns a ratio between 0 and 1\n  getNaturalKeyWidth() {\n    return 1 / this.getNaturalKeyCount();\n  }\n\n  getWidth() {\n    return this.props.width ? this.props.width : '100%';\n  }\n\n  getHeight() {\n    if (!this.props.width) {\n      return '100%';\n    }\n    const keyWidth = this.props.width * this.getNaturalKeyWidth();\n    return `${keyWidth / this.props.keyWidthToHeight}px`;\n  }\n\n  render() {\n    const naturalKeyWidth = this.getNaturalKeyWidth();\n    return (\n      <div\n        className={classNames('ReactPiano__Keyboard', this.props.className)}\n        style={{ width: this.getWidth(), height: this.getHeight() }}\n      >\n        {this.getMidiNumbers().map((midiNumber) => {\n          const { note, isAccidental } = MidiNumbers.getAttributes(midiNumber);\n          const isActive = !this.props.disabled && this.props.activeNotes.includes(midiNumber);\n          return (\n            <Key\n              naturalKeyWidth={naturalKeyWidth}\n              midiNumber={midiNumber}\n              noteRange={this.props.noteRange}\n              active={isActive}\n              accidental={isAccidental}\n              disabled={this.props.disabled}\n              onPlayNoteInput={this.props.onPlayNoteInput}\n              onStopNoteInput={this.props.onStopNoteInput}\n              gliss={this.props.gliss}\n              useTouchEvents={this.props.useTouchEvents}\n              key={midiNumber}\n            >\n              {this.props.disabled\n                ? null\n                : this.props.renderNoteLabel({\n                    isActive,\n                    isAccidental,\n                    midiNumber,\n                  })}\n            </Key>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nfunction isNaturalMidiNumber(value) {\n  if (typeof value !== 'number') {\n    return false;\n  }\n  return MidiNumbers.NATURAL_MIDI_NUMBERS.includes(value);\n}\n\nfunction noteRangePropType(props, propName, componentName) {\n  const { first, last } = props[propName];\n  if (!first || !last) {\n    return new Error(\n      `Invalid prop ${propName} supplied to ${componentName}. ${propName} must be an object with .first and .last values.`,\n    );\n  }\n  if (!isNaturalMidiNumber(first) || !isNaturalMidiNumber(last)) {\n    return new Error(\n      `Invalid prop ${propName} supplied to ${componentName}. ${propName} values must be valid MIDI numbers, and should not be accidentals (sharp or flat notes).`,\n    );\n  }\n  if (first >= last) {\n    return new Error(\n      `Invalid prop ${propName} supplied to ${componentName}. ${propName}.first must be smaller than ${propName}.last.`,\n    );\n  }\n}\n\nexport default Keyboard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport difference from 'lodash.difference';\nimport Keyboard from './Keyboard';\n\nclass ControlledPiano extends React.Component {\n  static propTypes = {\n    noteRange: PropTypes.object.isRequired,\n    activeNotes: PropTypes.arrayOf(PropTypes.number.isRequired).isRequired,\n    playNote: PropTypes.func.isRequired,\n    stopNote: PropTypes.func.isRequired,\n    onPlayNoteInput: PropTypes.func.isRequired,\n    onStopNoteInput: PropTypes.func.isRequired,\n    renderNoteLabel: PropTypes.func.isRequired,\n    className: PropTypes.string,\n    disabled: PropTypes.bool,\n    width: PropTypes.number,\n    keyWidthToHeight: PropTypes.number,\n    keyboardShortcuts: PropTypes.arrayOf(\n      PropTypes.shape({\n        key: PropTypes.string.isRequired,\n        midiNumber: PropTypes.number.isRequired,\n      }),\n    ),\n  };\n\n  static defaultProps = {\n    renderNoteLabel: ({ keyboardShortcut, midiNumber, isActive, isAccidental }) =>\n      keyboardShortcut ? (\n        <div\n          className={classNames('ReactPiano__NoteLabel', {\n            'ReactPiano__NoteLabel--active': isActive,\n            'ReactPiano__NoteLabel--accidental': isAccidental,\n            'ReactPiano__NoteLabel--natural': !isAccidental,\n          })}\n        >\n          {keyboardShortcut}\n        </div>\n      ) : null,\n  };\n\n  state = {\n    isMouseDown: false,\n    useTouchEvents: false,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.onKeyDown);\n    window.addEventListener('keyup', this.onKeyUp);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.onKeyDown);\n    window.removeEventListener('keyup', this.onKeyUp);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.activeNotes !== prevProps.activeNotes) {\n      this.handleNoteChanges({\n        prevActiveNotes: prevProps.activeNotes || [],\n        nextActiveNotes: this.props.activeNotes || [],\n      });\n    }\n  }\n\n  // This function is responsible for diff'ing activeNotes\n  // and playing or stopping notes accordingly.\n  handleNoteChanges = ({ prevActiveNotes, nextActiveNotes }) => {\n    if (this.props.disabled) {\n      return;\n    }\n    const notesStopped = difference(prevActiveNotes, nextActiveNotes);\n    const notesStarted = difference(nextActiveNotes, prevActiveNotes);\n    notesStarted.forEach((midiNumber) => {\n      this.props.playNote(midiNumber);\n    });\n    notesStopped.forEach((midiNumber) => {\n      this.props.stopNote(midiNumber);\n    });\n  };\n\n  getMidiNumberForKey = (key) => {\n    if (!this.props.keyboardShortcuts) {\n      return null;\n    }\n    const shortcut = this.props.keyboardShortcuts.find((sh) => sh.key === key);\n    return shortcut && shortcut.midiNumber;\n  };\n\n  getKeyForMidiNumber = (midiNumber) => {\n    if (!this.props.keyboardShortcuts) {\n      return null;\n    }\n    const shortcut = this.props.keyboardShortcuts.find((sh) => sh.midiNumber === midiNumber);\n    return shortcut && shortcut.key;\n  };\n\n  onKeyDown = (event) => {\n    // Don't conflict with existing combinations like ctrl + t\n    if (event.ctrlKey || event.metaKey || event.shiftKey) {\n      return;\n    }\n    const midiNumber = this.getMidiNumberForKey(event.key);\n    if (midiNumber) {\n      this.onPlayNoteInput(midiNumber);\n    }\n  };\n\n  onKeyUp = (event) => {\n    // This *should* also check for event.ctrlKey || event.metaKey || event.ShiftKey like onKeyDown does,\n    // but at least on Mac Chrome, when mashing down many alphanumeric keystrokes at once,\n    // ctrlKey is fired unexpectedly, which would cause onStopNote to NOT be fired, which causes problematic\n    // lingering notes. Since it's fairly safe to call onStopNote even when not necessary,\n    // the ctrl/meta/shift check is removed to fix that issue.\n    const midiNumber = this.getMidiNumberForKey(event.key);\n    if (midiNumber) {\n      this.onStopNoteInput(midiNumber);\n    }\n  };\n\n  onPlayNoteInput = (midiNumber) => {\n    if (this.props.disabled) {\n      return;\n    }\n    // Pass in previous activeNotes for recording functionality\n    this.props.onPlayNoteInput(midiNumber, this.props.activeNotes);\n  };\n\n  onStopNoteInput = (midiNumber) => {\n    if (this.props.disabled) {\n      return;\n    }\n    // Pass in previous activeNotes for recording functionality\n    this.props.onStopNoteInput(midiNumber, this.props.activeNotes);\n  };\n\n  onMouseDown = () => {\n    this.setState({\n      isMouseDown: true,\n    });\n  };\n\n  onMouseUp = () => {\n    this.setState({\n      isMouseDown: false,\n    });\n  };\n\n  onTouchStart = () => {\n    this.setState({\n      useTouchEvents: true,\n    });\n  };\n\n  renderNoteLabel = ({ midiNumber, isActive, isAccidental }) => {\n    const keyboardShortcut = this.getKeyForMidiNumber(midiNumber);\n    return this.props.renderNoteLabel({ keyboardShortcut, midiNumber, isActive, isAccidental });\n  };\n\n  render() {\n    return (\n      <div\n        style={{ width: '100%', height: '100%' }}\n        onMouseDown={this.onMouseDown}\n        onMouseUp={this.onMouseUp}\n        onTouchStart={this.onTouchStart}\n        data-testid=\"container\"\n      >\n        <Keyboard\n          noteRange={this.props.noteRange}\n          onPlayNoteInput={this.onPlayNoteInput}\n          onStopNoteInput={this.onStopNoteInput}\n          activeNotes={this.props.activeNotes}\n          className={this.props.className}\n          disabled={this.props.disabled}\n          width={this.props.width}\n          keyWidthToHeight={this.props.keyWidthToHeight}\n          gliss={this.state.isMouseDown}\n          useTouchEvents={this.state.useTouchEvents}\n          renderNoteLabel={this.renderNoteLabel}\n        />\n      </div>\n    );\n  }\n}\n\nexport default ControlledPiano;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport difference from 'lodash.difference';\nimport ControlledPiano from './ControlledPiano';\nimport Keyboard from './Keyboard';\n\nclass Piano extends React.Component {\n  static propTypes = {\n    noteRange: PropTypes.object.isRequired,\n    activeNotes: PropTypes.arrayOf(PropTypes.number.isRequired),\n    playNote: PropTypes.func.isRequired,\n    stopNote: PropTypes.func.isRequired,\n    onPlayNoteInput: PropTypes.func,\n    onStopNoteInput: PropTypes.func,\n    renderNoteLabel: PropTypes.func,\n    className: PropTypes.string,\n    disabled: PropTypes.bool,\n    width: PropTypes.number,\n    keyWidthToHeight: PropTypes.number,\n    keyboardShortcuts: PropTypes.arrayOf(\n      PropTypes.shape({\n        key: PropTypes.string.isRequired,\n        midiNumber: PropTypes.number.isRequired,\n      }),\n    ),\n  };\n\n  state = {\n    activeNotes: this.props.activeNotes || [],\n  };\n\n  componentDidUpdate(prevProps) {\n    // Make activeNotes \"controllable\" by using internal\n    // state by default, but allowing prop overrides.\n    if (\n      prevProps.activeNotes !== this.props.activeNotes &&\n      this.state.activeNotes !== this.props.activeNotes\n    ) {\n      this.setState({\n        activeNotes: this.props.activeNotes || [],\n      });\n    }\n  }\n\n  handlePlayNoteInput = (midiNumber) => {\n    this.setState((prevState) => {\n      // Need to be handled inside setState in order to set prevActiveNotes without\n      // race conditions.\n      if (this.props.onPlayNoteInput) {\n        this.props.onPlayNoteInput(midiNumber, { prevActiveNotes: prevState.activeNotes });\n      }\n\n      // Don't append note to activeNotes if it's already present\n      if (prevState.activeNotes.includes(midiNumber)) {\n        return null;\n      }\n      return {\n        activeNotes: prevState.activeNotes.concat(midiNumber),\n      };\n    });\n  };\n\n  handleStopNoteInput = (midiNumber) => {\n    this.setState((prevState) => {\n      // Need to be handled inside setState in order to set prevActiveNotes without\n      // race conditions.\n      if (this.props.onStopNoteInput) {\n        this.props.onStopNoteInput(midiNumber, { prevActiveNotes: this.state.activeNotes });\n      }\n      return {\n        activeNotes: prevState.activeNotes.filter((note) => midiNumber !== note),\n      };\n    });\n  };\n\n  render() {\n    const { activeNotes, onPlayNoteInput, onStopNoteInput, ...otherProps } = this.props;\n    return (\n      <ControlledPiano\n        activeNotes={this.state.activeNotes}\n        onPlayNoteInput={this.handlePlayNoteInput}\n        onStopNoteInput={this.handleStopNoteInput}\n        {...otherProps}\n      />\n    );\n  }\n}\n\nexport default Piano;\n","import MidiNumbers from './MidiNumbers';\n\nfunction createKeyboardShortcuts({ firstNote, lastNote, keyboardConfig }) {\n  let currentMidiNumber = firstNote;\n  let naturalKeyIndex = 0;\n  let keyboardShortcuts = [];\n\n  while (\n    // There are still keys to be assigned\n    naturalKeyIndex < keyboardConfig.length &&\n    // Note to be assigned does not surpass range\n    currentMidiNumber <= lastNote\n  ) {\n    const key = keyboardConfig[naturalKeyIndex];\n    const { isAccidental } = MidiNumbers.getAttributes(currentMidiNumber);\n    if (isAccidental) {\n      keyboardShortcuts.push({\n        key: key.flat,\n        midiNumber: currentMidiNumber,\n      });\n    } else {\n      keyboardShortcuts.push({\n        key: key.natural,\n        midiNumber: currentMidiNumber,\n      });\n      naturalKeyIndex += 1;\n    }\n    currentMidiNumber += 1;\n  }\n  return keyboardShortcuts;\n}\n\nexport default {\n  create: createKeyboardShortcuts,\n  // Preset configurations\n  BOTTOM_ROW: [\n    { natural: 'z', flat: 'a', sharp: 's' },\n    { natural: 'x', flat: 's', sharp: 'd' },\n    { natural: 'c', flat: 'd', sharp: 'f' },\n    { natural: 'v', flat: 'f', sharp: 'g' },\n    { natural: 'b', flat: 'g', sharp: 'h' },\n    { natural: 'n', flat: 'h', sharp: 'j' },\n    { natural: 'm', flat: 'j', sharp: 'k' },\n    { natural: ',', flat: 'k', sharp: 'l' },\n    { natural: '.', flat: 'l', sharp: ';' },\n    { natural: '/', flat: ';', sharp: \"'\" },\n  ],\n  HOME_ROW: [\n    { natural: 'a', flat: 'q', sharp: 'w' },\n    { natural: 's', flat: 'w', sharp: 'e' },\n    { natural: 'd', flat: 'e', sharp: 'r' },\n    { natural: 'f', flat: 'r', sharp: 't' },\n    { natural: 'g', flat: 't', sharp: 'y' },\n    { natural: 'h', flat: 'y', sharp: 'u' },\n    { natural: 'j', flat: 'u', sharp: 'i' },\n    { natural: 'k', flat: 'i', sharp: 'o' },\n    { natural: 'l', flat: 'o', sharp: 'p' },\n    { natural: ';', flat: 'p', sharp: '[' },\n    { natural: \"'\", flat: '[', sharp: ']' },\n  ],\n  QWERTY_ROW: [\n    { natural: 'q', flat: '1', sharp: '2' },\n    { natural: 'w', flat: '2', sharp: '3' },\n    { natural: 'e', flat: '3', sharp: '4' },\n    { natural: 'r', flat: '4', sharp: '5' },\n    { natural: 't', flat: '5', sharp: '6' },\n    { natural: 'y', flat: '6', sharp: '7' },\n    { natural: 'u', flat: '7', sharp: '8' },\n    { natural: 'i', flat: '8', sharp: '9' },\n    { natural: 'o', flat: '9', sharp: '0' },\n    { natural: 'p', flat: '0', sharp: '-' },\n    { natural: '[', flat: '-', sharp: '=' },\n  ],\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","import style from './style.css';\nimport Basic from '../../components/clients/basic';\n\nconst Home = () => {\n  return (\n    <div class={style.home}>\n      <Basic />\n    </div>\n  );\n};\n\nexport default Home;\n","import Monitor from '../wsMonitor';\nimport useWs from '../../hooks/useWs';\n\nconst WsClient = () => {\n  const ws = useWs();\n\n  return <Monitor websocket={ws} />;\n};\n\nexport default WsClient;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array ? array.length : 0;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\n/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  if (value !== value) {\n    return baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a cache value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values ? values.length : 0;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order of result values is determined by the\n * order they occur in the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\nmodule.exports = difference;\n","// extracted by mini-css-extract-plugin\nexport default {\"home\":\"home__uRcqa\",\"resource\":\"resource__reFLt\"};","module.exports = require(\"preact\");","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\tvar nativeCodeString = '[native code]';\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// extracted by mini-css-extract-plugin\nexport {};","\nconst EMPTY = {};\n\nexport function assign(obj, props) {\n\t// eslint-disable-next-line guard-for-in\n\tfor (let i in props) {\n\t\tobj[i] = props[i];\n\t}\n\treturn obj;\n}\n\nexport function exec(url, route, opts) {\n\tlet reg = /(?:\\?([^#]*))?(#.*)?$/,\n\t\tc = url.match(reg),\n\t\tmatches = {},\n\t\tret;\n\tif (c && c[1]) {\n\t\tlet p = c[1].split('&');\n\t\tfor (let i=0; i<p.length; i++) {\n\t\t\tlet r = p[i].split('=');\n\t\t\tmatches[decodeURIComponent(r[0])] = decodeURIComponent(r.slice(1).join('='));\n\t\t}\n\t}\n\turl = segmentize(url.replace(reg, ''));\n\troute = segmentize(route || '');\n\tlet max = Math.max(url.length, route.length);\n\tfor (let i=0; i<max; i++) {\n\t\tif (route[i] && route[i].charAt(0)===':') {\n\t\t\tlet param = route[i].replace(/(^:|[+*?]+$)/g, ''),\n\t\t\t\tflags = (route[i].match(/[+*?]+$/) || EMPTY)[0] || '',\n\t\t\t\tplus = ~flags.indexOf('+'),\n\t\t\t\tstar = ~flags.indexOf('*'),\n\t\t\t\tval = url[i] || '';\n\t\t\tif (!val && !star && (flags.indexOf('?')<0 || plus)) {\n\t\t\t\tret = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatches[param] = decodeURIComponent(val);\n\t\t\tif (plus || star) {\n\t\t\t\tmatches[param] = url.slice(i).map(decodeURIComponent).join('/');\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\telse if (route[i]!==url[i]) {\n\t\t\tret = false;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (opts.default!==true && ret===false) return false;\n\treturn matches;\n}\n\nexport function pathRankSort(a, b) {\n\treturn (\n\t\t(a.rank < b.rank) ? 1 :\n\t\t\t(a.rank > b.rank) ? -1 :\n\t\t\t\t(a.index - b.index)\n\t);\n}\n\n// filter out VNodes without attributes (which are unrankeable), and add `index`/`rank` properties to be used in sorting.\nexport function prepareVNodeForRanking(vnode, index) {\n\tvnode.index = index;\n\tvnode.rank = rankChild(vnode);\n\treturn vnode.props;\n}\n\nexport function segmentize(url) {\n\treturn url.replace(/(^\\/+|\\/+$)/g, '').split('/');\n}\n\nexport function rankSegment(segment) {\n\treturn segment.charAt(0)==':' ? (1 + '*+?'.indexOf(segment.charAt(segment.length-1))) || 4 : 5;\n}\n\nexport function rank(path) {\n\treturn segmentize(path).map(rankSegment).join('');\n}\n\nfunction rankChild(vnode) {\n\treturn vnode.props.default ? 0 : rank(vnode.props.path);\n}\n","import { cloneElement, createElement, Component, toChildArray } from 'preact';\nimport { exec, prepareVNodeForRanking, assign, pathRankSort } from './util';\n\nlet customHistory = null;\n\nconst ROUTERS = [];\n\nconst subscribers = [];\n\nconst EMPTY = {};\n\nfunction setUrl(url, type='push') {\n\tif (customHistory && customHistory[type]) {\n\t\tcustomHistory[type](url);\n\t}\n\telse if (typeof history!=='undefined' && history[type+'State']) {\n\t\thistory[type+'State'](null, null, url);\n\t}\n}\n\n\nfunction getCurrentUrl() {\n\tlet url;\n\tif (customHistory && customHistory.location) {\n\t\turl = customHistory.location;\n\t}\n\telse if (customHistory && customHistory.getCurrentLocation) {\n\t\turl = customHistory.getCurrentLocation();\n\t}\n\telse {\n\t\turl = typeof location!=='undefined' ? location : EMPTY;\n\t}\n\treturn `${url.pathname || ''}${url.search || ''}`;\n}\n\n\n\nfunction route(url, replace=false) {\n\tif (typeof url!=='string' && url.url) {\n\t\treplace = url.replace;\n\t\turl = url.url;\n\t}\n\n\t// only push URL into history if we can handle it\n\tif (canRoute(url)) {\n\t\tsetUrl(url, replace ? 'replace' : 'push');\n\t}\n\n\treturn routeTo(url);\n}\n\n\n/** Check if the given URL can be handled by any router instances. */\nfunction canRoute(url) {\n\tfor (let i=ROUTERS.length; i--; ) {\n\t\tif (ROUTERS[i].canRoute(url)) return true;\n\t}\n\treturn false;\n}\n\n\n/** Tell all router instances to handle the given URL.  */\nfunction routeTo(url) {\n\tlet didRoute = false;\n\tfor (let i=0; i<ROUTERS.length; i++) {\n\t\tif (ROUTERS[i].routeTo(url)===true) {\n\t\t\tdidRoute = true;\n\t\t}\n\t}\n\tfor (let i=subscribers.length; i--; ) {\n\t\tsubscribers[i](url);\n\t}\n\treturn didRoute;\n}\n\n\nfunction routeFromLink(node) {\n\t// only valid elements\n\tif (!node || !node.getAttribute) return;\n\n\tlet href = node.getAttribute('href'),\n\t\ttarget = node.getAttribute('target');\n\n\t// ignore links with targets and non-path URLs\n\tif (!href || !href.match(/^\\//g) || (target && !target.match(/^_?self$/i))) return;\n\n\t// attempt to route, if no match simply cede control to browser\n\treturn route(href);\n}\n\n\nfunction handleLinkClick(e) {\n\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button!==0) return;\n\trouteFromLink(e.currentTarget || e.target || this);\n\treturn prevent(e);\n}\n\n\nfunction prevent(e) {\n\tif (e) {\n\t\tif (e.stopImmediatePropagation) e.stopImmediatePropagation();\n\t\tif (e.stopPropagation) e.stopPropagation();\n\t\te.preventDefault();\n\t}\n\treturn false;\n}\n\n\nfunction delegateLinkHandler(e) {\n\t// ignore events the browser takes care of already:\n\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button!==0) return;\n\n\tlet t = e.target;\n\tdo {\n\t\tif (String(t.nodeName).toUpperCase()==='A' && t.getAttribute('href')) {\n\t\t\tif (t.hasAttribute('native')) return;\n\t\t\t// if link is handled by the router, prevent browser defaults\n\t\t\tif (routeFromLink(t)) {\n\t\t\t\treturn prevent(e);\n\t\t\t}\n\t\t}\n\t} while ((t=t.parentNode));\n}\n\n\nlet eventListenersInitialized = false;\n\nfunction initEventListeners() {\n\tif (eventListenersInitialized) return;\n\n\tif (typeof addEventListener==='function') {\n\t\tif (!customHistory) {\n\t\t\taddEventListener('popstate', () => {\n\t\t\t\trouteTo(getCurrentUrl());\n\t\t\t});\n\t\t}\n\t\taddEventListener('click', delegateLinkHandler);\n\t}\n\teventListenersInitialized = true;\n}\n\n\nclass Router extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tif (props.history) {\n\t\t\tcustomHistory = props.history;\n\t\t}\n\n\t\tthis.state = {\n\t\t\turl: props.url || getCurrentUrl()\n\t\t};\n\n\t\tinitEventListeners();\n\t}\n\n\tshouldComponentUpdate(props) {\n\t\tif (props.static!==true) return true;\n\t\treturn props.url!==this.props.url || props.onChange!==this.props.onChange;\n\t}\n\n\t/** Check if the given URL can be matched against any children */\n\tcanRoute(url) {\n\t\tconst children = toChildArray(this.props.children);\n\t\treturn this.getMatchingChildren(children, url, false).length > 0;\n\t}\n\n\t/** Re-render children with a new URL to match against. */\n\trouteTo(url) {\n\t\tthis.setState({ url });\n\n\t\tconst didRoute = this.canRoute(url);\n\n\t\t// trigger a manual re-route if we're not in the middle of an update:\n\t\tif (!this.updating) this.forceUpdate();\n\n\t\treturn didRoute;\n\t}\n\n\tcomponentWillMount() {\n\t\tROUTERS.push(this);\n\t\tthis.updating = true;\n\t}\n\n\tcomponentDidMount() {\n\t\tif (customHistory) {\n\t\t\tthis.unlisten = customHistory.listen((location) => {\n\t\t\t\tthis.routeTo(`${location.pathname || ''}${location.search || ''}`);\n\t\t\t});\n\t\t}\n\t\tthis.updating = false;\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif (typeof this.unlisten==='function') this.unlisten();\n\t\tROUTERS.splice(ROUTERS.indexOf(this), 1);\n\t}\n\n\tcomponentWillUpdate() {\n\t\tthis.updating = true;\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.updating = false;\n\t}\n\n\tgetMatchingChildren(children, url, invoke) {\n\t\treturn children\n\t\t\t.filter(prepareVNodeForRanking)\n\t\t\t.sort(pathRankSort)\n\t\t\t.map( vnode => {\n\t\t\t\tlet matches = exec(url, vnode.props.path, vnode.props);\n\t\t\t\tif (matches) {\n\t\t\t\t\tif (invoke !== false) {\n\t\t\t\t\t\tlet newProps = { url, matches };\n\t\t\t\t\t\tassign(newProps, matches);\n\t\t\t\t\t\tdelete newProps.ref;\n\t\t\t\t\t\tdelete newProps.key;\n\t\t\t\t\t\treturn cloneElement(vnode, newProps);\n\t\t\t\t\t}\n\t\t\t\t\treturn vnode;\n\t\t\t\t}\n\t\t\t}).filter(Boolean);\n\t}\n\n\trender({ children, onChange }, { url }) {\n\t\tlet active = this.getMatchingChildren(toChildArray(children), url, true);\n\n\t\tlet current = active[0] || null;\n\n\t\tlet previous = this.previousUrl;\n\t\tif (url!==previous) {\n\t\t\tthis.previousUrl = url;\n\t\t\tif (typeof onChange==='function') {\n\t\t\t\tonChange({\n\t\t\t\t\trouter: this,\n\t\t\t\t\turl,\n\t\t\t\t\tprevious,\n\t\t\t\t\tactive,\n\t\t\t\t\tcurrent\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn current;\n\t}\n}\n\nconst Link = (props) => (\n\tcreateElement('a', assign({ onClick: handleLinkClick }, props))\n);\n\nconst Route = props => createElement(props.component, props);\n\nRouter.subscribers = subscribers;\nRouter.getCurrentUrl = getCurrentUrl;\nRouter.route = route;\nRouter.Router = Router;\nRouter.Route = Route;\nRouter.Link = Link;\nRouter.exec = exec;\n\nexport { subscribers, getCurrentUrl, route, Router, Route, Link, exec };\nexport default Router;\n","import { h } from 'preact';\nimport { Router } from 'preact-router';\n\nimport Header from './header';\n\n// Code-splitting is automated for `routes` directory\nimport Home from '../routes/home';\nimport Synth from '../routes/synth';\nimport MIDI from '../routes/midi';\n\nconst App = () => (\n  <div id='app'>\n    <Header />\n    <main>\n      <Router>\n        <Home path='/' />\n        <Synth path='/synth' />\n        <MIDI path='/midi' />\n      </Router>\n    </main>\n  </div>\n);\n\nexport default App;\n","import './style';\nimport App from './components/app';\n\nexport default App;\n","// extracted by mini-css-extract-plugin\nexport {};","const Header = () => (\n  <header className='items-center fixed w-full h-10 z-50 flex bg-slate-800 shadow-xl gap-4'>\n    <a\n      href='/'\n      className='hover:bg-slate-700 transition-colors h-full flex items-center px-4'>\n      <h1>monitor</h1>\n    </a>\n    <a\n      href='/synth'\n      className='hover:bg-slate-700 transition-colors h-full flex items-center px-4'>\n      <h1>synth</h1>\n    </a>\n    <a\n      href='/midi'\n      className='hover:bg-slate-700 transition-colors h-full flex items-center px-4'>\n      <h1>midi</h1>\n    </a>\n  </header>\n);\n\nexport default Header;\n","module.exports = range;\n\n/*\n  range(0, 5); // [0, 1, 2, 3, 4]\n  range(5); // [0, 1, 2, 3, 4]\n  range(-5); // [0, -1, -2, -3, -4]\n  range(0, 20, 5) // [0, 5, 10, 15]\n  range(0, -20, -5) // [0, -5, -10, -15]\n*/\n\nfunction range(start, stop, step) {\n  if (start != null && typeof start != 'number') {\n    throw new Error('start must be a number or null');\n  }\n  if (stop != null && typeof stop != 'number') {\n    throw new Error('stop must be a number or null');\n  }\n  if (step != null && typeof step != 'number') {\n    throw new Error('step must be a number or null');\n  }\n  if (stop == null) {\n    stop = start || 0;\n    start = 0;\n  }\n  if (step == null) {\n    step = stop > start ? 1 : -1;\n  }\n  var toReturn = [];\n  var increasing = start < stop; // heres the change\n  for (; increasing ? start < stop : start > stop; start += step) {\n    toReturn.push(start);\n  }\n  return toReturn;\n}\n","import { useCallback, useMemo, useState } from 'preact/hooks';\n\nconst WsMonitor = ({ websocket }) => {\n  const {\n    ws,\n    wsUrl,\n    setWsUrl,\n    history,\n    myChannels,\n    availableChannels,\n    id,\n    wsState,\n    joinChannel,\n    getChannels,\n    heartbeat,\n    broadcastMessage,\n    sendMessageToTargetClient,\n    sendMessageToTargetChannel,\n    sendMessageToJoinedChannels,\n  } = websocket;\n\n  const [message, setMessage] = useState('');\n  const [targetChannel, setTargetChannel] = useState('');\n  const [targetId, setTargetId] = useState('');\n\n  const messageIsValidJSON = useMemo(() => {\n    try {\n      JSON.parse(message);\n    } catch (e) {\n      return false;\n    }\n    return true;\n  }, [message]);\n\n  const handleWsUrlChange = useCallback(\n    (e) => {\n      e.preventDefault();\n      setWsUrl(e.target.wsUrl.value);\n    },\n    [setWsUrl]\n  );\n\n  return (\n    <div className='flex flex-col gap-4'>\n      <div className='flex gap-8'>\n        {ws && wsUrl && (\n          <div>\n            {wsState} on: {wsUrl}\n          </div>\n        )}\n        <form onSubmit={handleWsUrlChange}>\n          <input type='text' name='wsUrl' placeholder={wsUrl} />\n          <button type='submit'>go</button>\n        </form>\n      </div>\n\n      {ws && (\n        <>\n          <div>\n            {id && <div>id: {id}</div>}\n            {heartbeat && <div>heartbeat: {JSON.stringify(heartbeat)}</div>}\n          </div>\n\n          <div>\n            <div className='flex flex-row gap-8'>\n              <button onClick={getChannels}>get channels</button>\n              <form onSubmit={joinChannel}>\n                <input type='text' name='channel' />\n                <button type='submit' className='ml-2'>\n                  join channel\n                </button>\n              </form>\n            </div>\n            <ul>\n              my channels:\n              {myChannels.map(({ channel, members }) => (\n                <li key={channel} className={'ml-2'}>\n                  {channel} | {members.length} members: {members.join(', ')}\n                </li>\n              ))}\n            </ul>\n            <ul>\n              all channels:\n              {availableChannels.map(({ channel, members }) => (\n                <li key={channel} className={'ml-2'}>\n                  {channel}{' '}\n                  {members.length\n                    ? `| ${members.length} members: ${members.join(', ')}`\n                    : '(no members)'}\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          <div>\n            <div className='flex flex-col gap-1'>\n              <div>\n                <label htmlFor='message'>message</label>\n                <textarea\n                  cols={100}\n                  rows={1}\n                  name='message'\n                  placeholder={`{\"hello\": 1}`}\n                  value={message}\n                  onInput={(e) => setMessage(e.target.value)}\n                />\n              </div>\n              <div>\n                <label htmlFor='targetChannel'>target channel</label>\n                <input\n                  name='targetChannel'\n                  type='text'\n                  value={targetChannel}\n                  onInput={(e) => setTargetChannel(e.target.value)}\n                />\n              </div>\n              <div>\n                <label htmlFor='targetChannel'>target client</label>\n                <input\n                  name='targetId'\n                  type='text'\n                  value={targetId}\n                  onInput={(e) => setTargetId(e.target.value)}\n                />\n              </div>\n              <div>\n                <button\n                  disabled={!messageIsValidJSON}\n                  onClick={() => sendMessageToTargetClient(message, targetId)}>\n                  send to another client\n                </button>\n                <button\n                  disabled={!messageIsValidJSON}\n                  onClick={() =>\n                    sendMessageToTargetChannel(message, targetChannel)\n                  }>\n                  send to channel\n                </button>\n                <button\n                  disabled={!messageIsValidJSON}\n                  onClick={() => sendMessageToJoinedChannels(message)}>\n                  send to joined channel\n                </button>\n                <button\n                  disabled={!messageIsValidJSON}\n                  onClick={() => broadcastMessage(message)}>\n                  broadcast\n                </button>\n              </div>\n            </div>\n            {!messageIsValidJSON && message.length ? (\n              <div>Invalid JSON</div>\n            ) : (\n              <></>\n            )}\n          </div>\n\n          <div>incoming messages:</div>\n          <div style={{ overflow: 'scroll', height: '200px' }}>\n            {history.map((data) => (\n              <div key={data}>{JSON.stringify(data)}</div>\n            ))}\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default WsMonitor;\n","import style from './style.css';\nimport SynthClient from '../../components/clients/synth';\n\nconst Synth = () => {\n  return (\n    <div class={style.home}>\n      <SynthClient />\n    </div>\n  );\n};\n\nexport default Synth;\n","import { useCallback, useState, useEffect, useMemo } from 'preact/hooks';\n\nconst useWs = () => {\n  const [ws, setWs] = useState(null);\n  const [wsUrl, setWsUrl] = useState('');\n  const [history, setHistory] = useState([]);\n  const [heartbeat, setHeartbeat] = useState(null);\n  const [myChannels, setMyChannels] = useState([]);\n  const [availableChannels, setAvailableChannels] = useState([]);\n  const [id, setId] = useState(null);\n  const [incomingMessage, setIncomingMessage] = useState('');\n\n  const onMessage = useCallback(async (event) => {\n    const data = await JSON.parse(event.data);\n    switch (data.type) {\n      case 'id':\n        setId(data.id);\n        break;\n      case 'heartbeat':\n        setHeartbeat(data.heartbeat);\n        break;\n      case 'myChannels':\n        setMyChannels(data.channels);\n        break;\n      case 'availableChannels':\n        setAvailableChannels(data.channels);\n        break;\n      default:\n        setHistory((p) => [data, ...p]);\n        break;\n    }\n\n    setIncomingMessage(data);\n  }, []);\n\n  useEffect(() => {\n    if (!window) return;\n\n    const protocol = window.location.protocol.includes('https') ? 'wss' : 'ws';\n    const port = window.location.protocol.includes('https') ? '' : ':3000';\n    let url = `${protocol}://${location.hostname}${port}?channels=welcome`;\n\n    setWsUrl(url);\n  }, []);\n\n  useEffect(() => {\n    if (!wsUrl.length || typeof window === 'undefined') return;\n\n    console.log('attempting to connect to', wsUrl);\n\n    if (ws) ws.close();\n\n    const wsConnection = new WebSocket(wsUrl);\n    wsConnection.onmessage = onMessage;\n    wsConnection.onopen = () => {\n      console.log('hey were open');\n    };\n\n    setWs(wsConnection);\n  }, [onMessage, wsUrl]);\n\n  const getChannels = useCallback(() => {\n    ws?.send(JSON.stringify({ type: 'myChannels' }));\n    ws?.send(JSON.stringify({ type: 'availableChannels' }));\n  }, [ws]);\n\n  const wsState = useMemo(() => {\n    if (typeof window === 'undefined') return;\n\n    switch (ws?.readyState) {\n      case WebSocket.CONNECTING:\n        return 'connecting';\n      case WebSocket.OPEN:\n        return 'open';\n      case WebSocket.CLOSING:\n        return 'closing';\n      case WebSocket.CLOSED:\n        return 'closed';\n      default:\n        return 'uninitialized';\n    }\n  }, [ws?.readyState]);\n\n  useEffect(() => {\n    if (wsState === 'open') getChannels();\n  }, [getChannels, ws, wsState]);\n\n  const joinChannel = useCallback(\n    (e) => {\n      e.preventDefault();\n      ws?.send(\n        JSON.stringify({ type: 'joinChannel', channel: e.target.channel.value })\n      );\n    },\n    [ws]\n  );\n\n  const broadcastMessage = useCallback(\n    (message) =>\n      wsState === 'open' &&\n      ws?.send(\n        JSON.stringify({\n          type: 'broadcast',\n          message: { ...JSON.parse(message), timestamp: Date.now() },\n        })\n      ),\n    [ws, wsState]\n  );\n\n  const sendMessageToTargetChannel = useCallback(\n    (message, channel) => {\n      wsState === 'open' &&\n        ws?.send(\n          JSON.stringify({\n            ...JSON.parse(message),\n            timestamp: Date.now(),\n            channel,\n          })\n        );\n    },\n    [ws, wsState]\n  );\n\n  const sendMessageToTargetClient = useCallback(\n    (message, targetId) => {\n      console.log('sending to target id', message, targetId);\n      wsState === 'open' &&\n        ws?.send(\n          JSON.stringify({\n            ...JSON.parse(message),\n            timestamp: Date.now(),\n            targetId,\n          })\n        );\n    },\n    [ws, wsState]\n  );\n\n  const sendMessageToJoinedChannels = useCallback(\n    (message) => {\n      wsState === 'open' &&\n        ws?.send(\n          JSON.stringify({ ...JSON.parse(message), timestamp: Date.now() })\n        );\n    },\n    [ws, wsState]\n  );\n\n  return {\n    ws,\n    wsUrl,\n    setWsUrl,\n    history,\n    myChannels,\n    availableChannels,\n    id,\n    incomingMessage,\n    wsState,\n    joinChannel,\n    getChannels,\n    heartbeat,\n    broadcastMessage,\n    sendMessageToTargetClient,\n    sendMessageToTargetChannel,\n    sendMessageToJoinedChannels,\n  };\n};\n\nexport default useWs;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"home\":\"home__1n+Tk\",\"resource\":\"resource__Gnwfh\"};","import style from './style.css';\nimport MidiClient from '../../components/clients/midi';\n\nconst Synth = () => {\n  return (\n    <div class={style.home}>\n      <MidiClient />\n    </div>\n  );\n};\n\nexport default Synth;\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","export default class PolySynth {\n  constructor() {\n    this.audioContext = new (window.AudioContext ||\n      window.webkitAudioContext)();\n    this.voices = [];\n  }\n\n  playNote(note, velocity = 127) {\n    try {\n      // Create a voice for the note\n      const voice = new Voice(this.audioContext, note, velocity);\n      this.voices.push(voice);\n\n      // Start the voice\n      voice.start();\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  stopNote(note) {\n    try {\n      // Find the voice playing the note\n      const voice = this.voices.find((voice) => voice.note === note);\n\n      if (voice) {\n        // Stop and remove the voice\n        voice.stop();\n        this.voices = this.voices.filter((v) => v !== voice);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }\n}\n\nclass Voice {\n  constructor(audioContext, note, velocity) {\n    this.audioContext = audioContext;\n    this.note = note;\n    this.velocity = velocity;\n\n    // Create an oscillator\n    this.oscillator = this.audioContext.createOscillator();\n    this.oscillator.frequency.value = getFrequency(note);\n\n    // Create a gain node\n    this.gainNode = this.audioContext.createGain();\n    this.gainNode.gain.value = velocity / 127;\n\n    // Connect the oscillator to the gain node and the gain node to the audio context destination\n    this.oscillator.connect(this.gainNode);\n    this.gainNode.connect(this.audioContext.destination);\n  }\n\n  start() {\n    // Start the oscillator\n    this.oscillator.start();\n  }\n\n  stop() {\n    // Stop the oscillator smoothly over 500ms\n    this.gainNode.gain.linearRampToValueAtTime(\n      0,\n      this.audioContext.currentTime + 0.5\n    );\n\n    // Stop the oscillator completely after 500ms\n    this.oscillator.stop(this.audioContext.currentTime + 0.5);\n  }\n}\n\nfunction getFrequency(note) {\n  return 440 * Math.pow(2, (note - 69) / 12);\n}\n","export default class MIDIHandler {\n  constructor(synth) {\n    console.log('Midihandler constructor', navigator);\n    // Request access to Web MIDI API\n    navigator\n      .requestMIDIAccess()\n      .then(this.onMIDISuccess.bind(this), this.onMIDIFailure.bind(this));\n    this.synth = synth;\n  }\n\n  onMIDIMessage(message) {\n    // Extract MIDI data\n    const [status, note, velocity] = message.data;\n\n    // Check if the message is from the selected input device\n    const selectedInput = this.midiAccess.inputs.get(this.selectedDeviceId);\n    if (selectedInput === message.target) {\n      if (status === 144 && velocity > 0) {\n        // Note-on message\n        // this.synth.playSynth(note, velocity);\n        console.log('note on', note);\n      } else if (status === 128 || (status === 144 && velocity === 0)) {\n        // Note-off message\n        // this.stopSynth(note);\n        console.log('note on', note);\n      }\n    }\n  }\n\n  onMIDISuccess(access) {\n    this.midiAccess = access;\n\n    // Get the list of available MIDI devices\n    const devices = this.midiAccess.inputs.values();\n    const selectElement = document.getElementById('device-select');\n\n    // Populate the device select options\n    for (let device of devices) {\n      const optionElement = document.createElement('option');\n      optionElement.value = device.id;\n      optionElement.text = device.name;\n      selectElement.appendChild(optionElement);\n    }\n\n    // Add event listener for device selection\n    selectElement.addEventListener('change', this.onDeviceSelect);\n\n    // Listen for MIDI messages\n    for (let input of this.midiAccess.inputs.values()) {\n      input.onmidimessage = this.onMIDIMessage;\n    }\n  }\n\n  onMIDIFailure() {\n    console.log('Failed to access MIDI devices');\n  }\n\n  onDeviceSelect(event) {\n    this.selectedDeviceId = event.target.value;\n\n    // Close existing MIDI inputs\n    navigator.requestMIDIAccess().then((midiAccess) => {\n      for (let input of midiAccess.inputs.values()) {\n        input.onmidimessage = null;\n      }\n\n      // Stop all active voices\n      for (let voice of this.synth.voices) {\n        voice.stop();\n      }\n      this.synth.voices = []; // Clear the voices array\n\n      // Listen for MIDI messages on the selected input\n      const selectedInput = midiAccess.inputs.get(this.selectedDeviceId);\n      if (selectedInput) {\n        selectedInput.onmidimessage = this.onMIDIMessage;\n      }\n    });\n  }\n\n  setupKeyboardListener() {\n    // Keyboard event listener for Shift + Spacebar\n    document.addEventListener('keydown', (event) => {\n      if (event.shiftKey && event.code === 'Space') {\n        this.toggleMIDIDeviceSelect();\n      }\n    });\n  }\n\n  toggleMIDIDeviceSelect() {\n    const deviceSelectContainer = document.getElementById(\n      'device-select-container'\n    );\n\n    if (!deviceSelectContainer) return;\n\n    if (deviceSelectContainer.style.display === 'none') {\n      // Show MIDI device select container\n      deviceSelectContainer.style.display = 'block';\n    } else {\n      // Hide MIDI device select container\n      deviceSelectContainer.style.display = 'none';\n    }\n  }\n}\n","import { Piano, MidiNumbers } from 'react-piano';\nimport 'react-piano/dist/styles.css';\n\nexport default function MIDIPiano({ onPlayNote, onStopNote }) {\n  const firstNote = MidiNumbers.fromNote('c3');\n  const lastNote = MidiNumbers.fromNote('f5');\n  // const keyboardShortcuts = KeyboardShortcuts.create({\n  //   firstNote,\n  //   lastNote,\n  //   keyboardConfig: KeyboardShortcuts.HOME_ROW,\n  // });\n\n  return (\n    <Piano\n      noteRange={{ first: firstNote, last: lastNote }}\n      playNote={onPlayNote}\n      stopNote={onStopNote}\n      width={1000}\n      // keyboardShortcuts={keyboardShortcuts}\n    />\n  );\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","import { useCallback, useState, useEffect } from 'preact/hooks';\n\nimport PolySynth from '../../../utils/polysynth';\nimport MIDIPiano from './piano';\nimport useWs from '../../../hooks/useWs';\nimport Monitor from '../../wsMonitor';\n\nconst SynthClient = () => {\n  const ws = useWs();\n\n  const {\n    incomingMessage,\n    broadcastMessage,\n    myChannels,\n    sendMessageToTargetClient,\n  } = ws;\n\n  const [polySynth, setPolySynth] = useState(null);\n  const [muteIncoming, setMuteIncoming] = useState(false);\n  const [muteOutgoing, setMuteOutgoing] = useState(false);\n  const [broadcastNotes, setBroadcastNotes] = useState(true);\n\n  useEffect(() => {\n    if (!incomingMessage) return;\n    switch (incomingMessage.type) {\n      case 'playNote':\n        if (!muteIncoming) polySynth?.playNote(...incomingMessage.noteData);\n        break;\n      case 'stopNote':\n        polySynth?.stopNote(...incomingMessage.noteData);\n        break;\n    }\n  }, [polySynth, incomingMessage, muteIncoming]);\n\n  useEffect(() => {\n    if (!window) return;\n    setPolySynth(new PolySynth());\n  }, []);\n\n  const handlePlayNote = useCallback(\n    (note) => {\n      console.log('playing', note);\n      if (polySynth && !muteOutgoing) polySynth.playNote(note);\n      if (broadcastNotes)\n        broadcastMessage(\n          JSON.stringify({ type: 'playNote', noteData: [note] })\n        );\n    },\n    [broadcastMessage, broadcastNotes, muteOutgoing, polySynth]\n  );\n\n  const handleStopNote = useCallback(\n    (note) => {\n      console.log('stopping', note);\n      if (polySynth) polySynth.stopNote(note);\n      if (broadcastNotes)\n        broadcastMessage(\n          JSON.stringify({ type: 'stopNote', noteData: [note] })\n        );\n    },\n    [broadcastMessage, broadcastNotes, polySynth]\n  );\n\n  const [sequencerIntervalId, setSequencerIntervalId] = useState(null);\n\n  const handleSequenceChannel = useCallback(\n    (channelName) => {\n      if (!channelName.length) return;\n\n      if (sequencerIntervalId) clearInterval(sequencerIntervalId);\n      console.log('setting new interval id');\n\n      let sequenceTarget;\n\n      setSequencerIntervalId(\n        setInterval(() => {\n          const targetChannel = myChannels.find(\n            (c) => c.channel === channelName\n          );\n          if (!targetChannel) return;\n          console.log('targetChannel', targetChannel);\n\n          const members = targetChannel.members.filter((m) => m !== ws.id);\n          if (!members.length) return;\n          console.log('members', members);\n\n          const targetIndex = sequenceTarget\n            ? (members.findIndex((m) => m === sequenceTarget) + 1) %\n              members.length\n            : 0;\n\n          sequenceTarget = sequenceTarget ? members[targetIndex] : members[0];\n\n          console.log('sequencing', members, sequenceTarget, targetIndex);\n\n          sendMessageToTargetClient(\n            JSON.stringify({ type: 'playNote', noteData: [69 + targetIndex] }),\n            sequenceTarget\n          );\n\n          setTimeout(() => {\n            sendMessageToTargetClient(\n              JSON.stringify({\n                type: 'stopNote',\n                noteData: [69 + targetIndex],\n              }),\n              sequenceTarget\n            );\n          }, 100);\n        }, 1000)\n      );\n\n      return () => clearInterval(sequencerIntervalId);\n    },\n    [myChannels, sendMessageToTargetClient, sequencerIntervalId, ws.id]\n  );\n\n  return (\n    <div>\n      <Monitor websocket={ws} />\n\n      <div className='mb-2'>\n        <div>\n          <label htmlFor='mute'>mute incoming notes</label>\n          <input\n            name={'mute incoming'}\n            type='checkbox'\n            checked={muteIncoming}\n            onChange={() => setMuteIncoming((p) => !p)}\n          />\n        </div>\n        <div>\n          <label htmlFor='mute'>mute outgoing notes</label>\n          <input\n            name={'mute outgoing'}\n            type='checkbox'\n            checked={muteOutgoing}\n            onChange={() => setMuteOutgoing((p) => !p)}\n          />\n        </div>\n        <div>\n          <label htmlFor='broadcastNotes'>broadcast notes</label>\n          <input\n            name={'broadcastNotes'}\n            type='checkbox'\n            checked={broadcastNotes}\n            onChange={() => setBroadcastNotes(!broadcastNotes)}\n          />\n        </div>\n      </div>\n      <div className='flex flex-row gap-2 mb-2'>\n        <span>sequence to channel</span>\n        <select\n          className='px-1'\n          name='channel'\n          onChange={(e) => handleSequenceChannel(e.target.value)}>\n          <>\n            <option />\n            {myChannels.map((c) => (\n              <option key={c.channel}>{c.channel}</option>\n            ))}\n          </>\n        </select>\n      </div>\n      <MIDIPiano onPlayNote={handlePlayNote} onStopNote={handleStopNote} />\n    </div>\n  );\n};\n\nexport default SynthClient;\n","// extracted by mini-css-extract-plugin\nexport default {\"home\":\"home__Tk3DL\",\"resource\":\"resource__-GqBH\"};","import { options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n\n/** @type {import('./internal').Component} */\nlet previousComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet EMPTY = [];\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\tif (previousComponent === currentComponent) {\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentComponent._renderCallbacks = [];\n\t\t\thooks._list.forEach(hookItem => {\n\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t}\n\t\t\t\thookItem._pendingValue = EMPTY;\n\t\t\t\thookItem._nextValue = hookItem._pendingArgs = undefined;\n\t\t\t});\n\t\t} else {\n\t\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentIndex = 0;\n\t\t}\n\t}\n\tpreviousComponent = currentComponent;\n};\n\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tif (c.__hooks._pendingEffects.length) afterPaint(afterPaintEffects.push(c));\n\t\tc.__hooks._list.forEach(hookItem => {\n\t\t\tif (hookItem._pendingArgs) {\n\t\t\t\thookItem._args = hookItem._pendingArgs;\n\t\t\t}\n\t\t\tif (hookItem._pendingValue !== EMPTY) {\n\t\t\t\thookItem._value = hookItem._pendingValue;\n\t\t\t}\n\t\t\thookItem._pendingArgs = undefined;\n\t\t\thookItem._pendingValue = EMPTY;\n\t\t});\n\t}\n\tpreviousComponent = currentComponent = null;\n};\n\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tlet hasErrored;\n\t\tc.__hooks._list.forEach(s => {\n\t\t\ttry {\n\t\t\t\tinvokeCleanup(s);\n\t\t\t} catch (e) {\n\t\t\t\thasErrored = e;\n\t\t\t}\n\t\t});\n\t\tc.__hooks = undefined;\n\t\tif (hasErrored) options._catchError(hasErrored, c._vnode);\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {any}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({ _pendingValue: EMPTY });\n\t}\n\treturn hooks._list[index];\n}\n\n/**\n * @param {import('./index').StateUpdater<any>} [initialState]\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @param {import('./index').Reducer<any, any>} reducer\n * @param {import('./index').StateUpdater<any>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ any, (state: any) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst currentValue = hookState._nextValue\n\t\t\t\t\t? hookState._nextValue[0]\n\t\t\t\t\t: hookState._value[0];\n\t\t\t\tconst nextValue = hookState._reducer(currentValue, action);\n\n\t\t\t\tif (currentValue !== nextValue) {\n\t\t\t\t\thookState._nextValue = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\n\t\tif (!currentComponent._hasScuFromHooks) {\n\t\t\tcurrentComponent._hasScuFromHooks = true;\n\t\t\tlet prevScu = currentComponent.shouldComponentUpdate;\n\t\t\tconst prevCWU = currentComponent.componentWillUpdate;\n\n\t\t\t// If we're dealing with a forced update `shouldComponentUpdate` will\n\t\t\t// not be called. But we use that to update the hook values, so we\n\t\t\t// need to call it.\n\t\t\tcurrentComponent.componentWillUpdate = function (p, s, c) {\n\t\t\t\tif (this._force) {\n\t\t\t\t\tlet tmp = prevScu;\n\t\t\t\t\t// Clear to avoid other sCU hooks from being called\n\t\t\t\t\tprevScu = undefined;\n\t\t\t\t\tupdateHookState(p, s, c);\n\t\t\t\t\tprevScu = tmp;\n\t\t\t\t}\n\n\t\t\t\tif (prevCWU) prevCWU.call(this, p, s, c);\n\t\t\t};\n\n\t\t\t// This SCU has the purpose of bailing out after repeated updates\n\t\t\t// to stateful hooks.\n\t\t\t// we store the next value in _nextValue[0] and keep doing that for all\n\t\t\t// state setters, if we have next states and\n\t\t\t// all next states within a component end up being equal to their original state\n\t\t\t// we are safe to bail out for this specific component.\n\t\t\t/**\n\t\t\t *\n\t\t\t * @type {import('./internal').Component[\"shouldComponentUpdate\"]}\n\t\t\t */\n\t\t\t// @ts-ignore - We don't use TS to downtranspile\n\t\t\t// eslint-disable-next-line no-inner-declarations\n\t\t\tfunction updateHookState(p, s, c) {\n\t\t\t\tif (!hookState._component.__hooks) return true;\n\n\t\t\t\tconst stateHooks = hookState._component.__hooks._list.filter(\n\t\t\t\t\tx => x._component\n\t\t\t\t);\n\t\t\t\tconst allHooksEmpty = stateHooks.every(x => !x._nextValue);\n\t\t\t\t// When we have no updated hooks in the component we invoke the previous SCU or\n\t\t\t\t// traverse the VDOM tree further.\n\t\t\t\tif (allHooksEmpty) {\n\t\t\t\t\treturn prevScu ? prevScu.call(this, p, s, c) : true;\n\t\t\t\t}\n\n\t\t\t\t// We check whether we have components with a nextValue set that\n\t\t\t\t// have values that aren't equal to one another this pushes\n\t\t\t\t// us to update further down the tree\n\t\t\t\tlet shouldUpdate = false;\n\t\t\t\tstateHooks.forEach(hookItem => {\n\t\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\t\tconst currentValue = hookItem._value[0];\n\t\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t\t\thookItem._nextValue = undefined;\n\t\t\t\t\t\tif (currentValue !== hookItem._value[0]) shouldUpdate = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn shouldUpdate || hookState._component.props !== p\n\t\t\t\t\t? prevScu\n\t\t\t\t\t\t? prevScu.call(this, p, s, c)\n\t\t\t\t\t\t: true\n\t\t\t\t\t: false;\n\t\t\t}\n\n\t\t\tcurrentComponent.shouldComponentUpdate = updateHookState;\n\t\t}\n\t}\n\n\treturn hookState._nextValue || hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {any[]} args\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') {\n\t\t\t\tref(createHandle());\n\t\t\t\treturn () => ref(null);\n\t\t\t} else if (ref) {\n\t\t\t\tref.current = createHandle();\n\t\t\t\treturn () => (ref.current = null);\n\t\t\t}\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @param {() => any} factory\n * @param {any[]} args\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._pendingValue = factory();\n\t\tstate._pendingArgs = args;\n\t\tstate._factory = factory;\n\t\treturn state._pendingValue;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {any[]} args\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\t/** @type {import('./internal').ContextHookState} */\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(formatter ? formatter(value) : value);\n\t}\n}\n\n/**\n * @param {(error: any, errorInfo: import('preact').ErrorInfo) => void} cb\n */\nexport function useErrorBoundary(cb) {\n\t/** @type {import('./internal').ErrorBoundaryHookState} */\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = (err, errorInfo) => {\n\t\t\tif (state._value) state._value(err, errorInfo);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\nexport function useId() {\n\tconst state = getHookState(currentIndex++, 11);\n\tif (!state._value) {\n\t\t// Grab either the root node or the nearest async boundary node.\n\t\t/** @type {import('./internal.d').VNode} */\n\t\tlet root = currentComponent._vnode;\n\t\twhile (root !== null && !root._mask && root._parent !== null) {\n\t\t\troot = root._parent;\n\t\t}\n\n\t\tlet mask = root._mask || (root._mask = [0, 0]);\n\t\tstate._value = 'P' + mask[0] + '-' + mask[1]++;\n\t}\n\n\treturn state._value;\n}\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tlet component;\n\twhile ((component = afterPaintEffects.shift())) {\n\t\tif (!component._parentDom || !component.__hooks) continue;\n\t\ttry {\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t} catch (e) {\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t}\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tlet cleanup = hook._cleanup;\n\tif (typeof cleanup == 'function') {\n\t\thook._cleanup = undefined;\n\t\tcleanup();\n\t}\n\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {any[]} oldArgs\n * @param {any[]} newArgs\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n","import { useState, useEffect } from 'preact/hooks';\n\nimport MIDIHandler from '../../../utils/midihandler';\nimport useWs from '../../../hooks/useWs';\nimport Monitor from '../../wsMonitor';\n\nconst MidiClient = () => {\n  const ws = useWs();\n\n  const [, setMidiHandler] = useState(null);\n\n  useEffect(() => {\n    if (!window || !navigator) return;\n    setMidiHandler(new MIDIHandler());\n  }, []);\n\n  return (\n    <div>\n      <Monitor websocket={ws} />\n      <div id='device-select-container' style='display: block;'>\n        <p>press shift+space to toggle controls</p>\n        <label for='device-select'>Select MIDI Device:</label>\n        <select id='device-select' />\n      </div>\n    </div>\n  );\n};\n\nexport default MidiClient;\n"],"sourceRoot":""}